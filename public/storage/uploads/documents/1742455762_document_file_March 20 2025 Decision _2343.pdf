"use strict";var WH=Object.create;var cd=Object.defineProperty;var AE=Object.getOwnPropertyDescriptor;var VH=Object.getOwnPropertyNames;var $H=Object.getPrototypeOf,HH=Object.prototype.hasOwnProperty;var Vn=(r,e)=>()=>(r&&(e=r(r=0)),e);var v=(r,e)=>()=>(e||r((e={exports:{}}).exports,e),e.exports),ZS=(r,e)=>{for(var t in e)cd(r,t,{get:e[t],enumerable:!0})},DE=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of VH(e))!HH.call(r,i)&&i!==t&&cd(r,i,{get:()=>e[i],enumerable:!(n=AE(e,i))||n.enumerable});return r};var y=(r,e,t)=>(t=r!=null?WH($H(r)):{},DE(e||!r||!r.__esModule?cd(t,"default",{value:r,enumerable:!0}):t,r)),e_=r=>DE(cd({},"__esModule",{value:!0}),r),S=(r,e,t,n)=>{for(var i=n>1?void 0:n?AE(e,t):e,o=r.length-1,s;o>=0;o--)(s=r[o])&&(i=(n?s(e,t,i):s(i))||i);return n&&i&&cd(e,t,i),i},m=(r,e)=>(t,n)=>e(t,n,r);var ie=v((dse,NE)=>{"use strict";var t_=Object.defineProperty,GH=Object.getOwnPropertyDescriptor,zH=Object.getOwnPropertyNames,KH=Object.prototype.hasOwnProperty,JH=(r,e)=>{for(var t in e)t_(r,t,{get:e[t],enumerable:!0})},YH=(r,e,t,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of zH(e))!KH.call(r,i)&&i!==t&&t_(r,i,{get:()=>e[i],enumerable:!(n=GH(e,i))||n.enumerable});return r},XH=r=>YH(t_({},"__esModule",{value:!0}),r),ME={};JH(ME,{config:()=>r5,t:()=>LE});NE.exports=XH(ME);var QH=require("fs"),ZH=require("fs/promises");async function e5(r){if(r.protocol==="file:")return await(0,ZH.readFile)(r,"utf8");if(r.protocol==="http:"||r.protocol==="https:"){let e=await fetch(r.toString(),{headers:{"Accept-Encoding":"gzip, deflate",Accept:"application/json"},redirect:"follow"});if(!e.ok){let n=`Unexpected ${e.status} response while trying to read ${r}`;try{n+=`: ${await e.text()}`}catch{}throw new Error(n)}return await e.text()}throw new Error("Unsupported protocol")}function t5(r){return(0,QH.readFileSync)(r,"utf8")}var ud;function r5(r){if("contents"in r){typeof r.contents=="string"?ud=JSON.parse(r.contents):ud=r.contents;return}if("fsPath"in r){let e=t5(r.fsPath),t=JSON.parse(e);ud=OE(t)?t.contents.bundle:t;return}if(r.uri){let e=r.uri;return typeof r.uri=="string"&&(e=new URL(r.uri)),new Promise((t,n)=>{e5(e).then(i=>{try{let o=JSON.parse(i);ud=OE(o)?o.contents.bundle:o,t()}catch(o){n(o)}}).catch(i=>{n(i)})})}}function LE(...r){let e=r[0],t,n,i;if(typeof e=="string")t=e,n=e,r.splice(0,1),i=!r||typeof r[0]!="object"?r:r[0];else if(e instanceof Array){let s=r.slice(1);if(e.length!==s.length+1)throw new Error("expected a string as the first argument to l10n.t");let a=e[0];for(let c=1;c<e.length;c++)a+=`{${c-1}}`+e[c];return LE(a,...s)}else n=e.message,t=n,e.comment&&e.comment.length>0&&(t+=`/${Array.isArray(e.comment)?e.comment.join(""):e.comment}`),i=e.args??{};let o=ud?.[t];return o?typeof o=="string"?Gh(o,i):o.comment?Gh(o.message,i):Gh(n,i):Gh(n,i)}var n5=/{([^}]+)}/g;function Gh(r,e){return Object.keys(e).length===0?r:r.replace(n5,(t,n)=>e[n]??t)}function OE(r){return typeof r?.contents?.bundle=="object"&&typeof r?.version=="string"}});var fo=v(tr=>{"use strict";Object.defineProperty(tr,"__esModule",{value:!0});tr.findWindowsCandidates=tr.sort=tr.preferredEdgePath=tr.preferredFirefoxPath=tr.preferredChromePath=tr.escapeRegexSpecialChars=tr.canAccess=void 0;var f5=require("path");async function hd({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}tr.canAccess=hd;var h5="/\\.?*()^${}|[]+";function m5(r,e){let t=h5.split("").filter(i=>!e||e.indexOf(i)<0).join("").replace(/[\\\]]/g,"\\$&"),n=new RegExp(`[${t}]`,"g");return r.replace(n,"\\$&")}tr.escapeRegexSpecialChars=m5;async function g5(r,e){if(await hd(r,e.CHROME_PATH))return e.CHROME_PATH}tr.preferredChromePath=g5;async function y5(r,e){if(await hd(r,e.FIREFOX_PATH))return e.FIREFOX_PATH}tr.preferredFirefoxPath=y5;async function b5(r,e){if(await hd(r,e.EDGE_PATH))return e.EDGE_PATH}tr.preferredEdgePath=b5;function v5(r,e){return[...r].filter(n=>!!n).map(n=>{let i=e.find(o=>o.regex.test(n));return i?{path:n,weight:i.weight,quality:i.quality}:{path:n,weight:10,quality:"dev"}}).sort((n,i)=>i.weight-n.weight).map(n=>({path:n.path,quality:n.quality}))}tr.sort=v5;async function w5(r,e,t){let n=[r.LOCALAPPDATA,r.PROGRAMFILES,r["PROGRAMFILES(X86)"]].filter(o=>!!o),i=[];for(let o of n)for(let s of t){let a=f5.win32.join(o,s.name);i.push(hd(e,a).then(c=>c?{path:a,quality:s.type}:void 0))}return(await Promise.all(i)).filter(o=>!!o)}tr.findWindowsCandidates=w5});var om=v(im=>{"use strict";Object.defineProperty(im,"__esModule",{value:!0});im.DarwinFinderBase=void 0;var S5=require("path"),_5=require("fs"),f_=fo(),zE=/( \(0x[a-f0-9]+\))/,h_=class{constructor(e=process.env,t=_5.promises,n=n){this.env=e,this.fs=t,this.execa=n,this.lsRegisterCommand="/System/Library/Frameworks/CoreServices.framework/Versions/A/Frameworks/LaunchServices.framework/Versions/A/Support/lsregister -dump",this.wellKnownPaths=[]}async findWhere(e){for(let t of this.wellKnownPaths)if(e(t)&&await(0,f_.canAccess)(this.fs,t.path))return t;return(await this.findAll()).find(e)}findAll(){var e;return(e=this.foundAll)!==null&&e!==void 0||(this.foundAll=this.findAllInner()),this.foundAll}async findLaunchRegisteredApps(e,t,n){let{stdout:i}=await this.execa.command(`${this.lsRegisterCommand} | awk 'tolower($0) ~ /${e.toLowerCase()}${zE.source}?$/ { $1=""; print $0 }'`,{shell:!0,stdio:"pipe"}),o=[...t,...i.split(`
`).map(c=>c.trim().replace(zE,""))].filter(c=>!!c),s=this.getPreferredPath();s&&o.push(s);let a=new Set;for(let c of o)for(let u of n){let l=S5.posix.join(c.trim(),u);try{await this.fs.access(l),a.add(l)}catch{}}return a}createPriorities(e){let t=this.env.HOME&&(0,f_.escapeRegexSpecialChars)(this.env.HOME),n=this.getPreferredPath(),i=e.reduce((o,s)=>[...o,{regex:new RegExp(`^/Applications/.*${s.name}`),weight:s.weight+100,quality:s.quality},{regex:new RegExp(`^${t}/Applications/.*${s.name}`),weight:s.weight,quality:s.quality},{regex:new RegExp(`^/Volumes/.*${s.name}`),weight:s.weight-100,quality:s.quality}],[]);return n&&i.unshift({regex:new RegExp((0,f_.escapeRegexSpecialChars)(n)),weight:151,quality:"custom"}),i}};im.DarwinFinderBase=h_});var KE=v(sm=>{"use strict";Object.defineProperty(sm,"__esModule",{value:!0});sm.DarwinChromeBrowserFinder=void 0;var I5=fo(),x5=om(),m_=class extends x5.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Google Chrome.app/Contents/MacOS/Google Chrome",quality:"stable"},{path:"/Applications/Google Chrome Canary.app/Contents/MacOS/Google Chrome Canary",quality:"canary"},{path:"/Applications/Google Chrome Beta.app/Contents/MacOS/Google Chrome Beta",quality:"beta"},{path:"/Applications/Google Chrome Dev.app/Contents/MacOS/Google Chrome Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Google Chrome Canary","/Contents/MacOS/Google Chrome Beta","/Contents/MacOS/Google Chrome Dev","/Contents/MacOS/Google Chrome"],t=["/Applications/Google Chrome.app","/Applications/Google Chrome Canary.app"],n=await this.findLaunchRegisteredApps("google chrome[A-Za-z() ]*.app",t,e);return(0,I5.sort)(n,this.createPriorities([{name:"Chrome.app",weight:0,quality:"stable"},{name:"Chrome Canary.app",weight:1,quality:"canary"},{name:"Chrome Beta.app",weight:2,quality:"beta"},{name:"Chrome Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.CHROME_PATH}};sm.DarwinChromeBrowserFinder=m_});var JE=v(am=>{"use strict";Object.defineProperty(am,"__esModule",{value:!0});am.DarwinEdgeBrowserFinder=void 0;var T5=fo(),C5=om(),g_=class extends C5.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Microsoft Edge.app/Contents/MacOS/Microsoft Edge",quality:"stable"},{path:"/Applications/Microsoft Edge Canary.app/Contents/MacOS/Microsoft Edge Canary",quality:"canary"},{path:"/Applications/Microsoft Edge Beta.app/Contents/MacOS/Microsoft Edge Beta",quality:"beta"},{path:"/Applications/Microsoft Edge Dev.app/Contents/MacOS/Microsoft Edge Dev",quality:"dev"}]}async findAllInner(){let e=["/Contents/MacOS/Microsoft Edge Canary","/Contents/MacOS/Microsoft Edge Beta","/Contents/MacOS/Microsoft Edge Dev","/Contents/MacOS/Microsoft Edge"],t=["/Applications/Microsoft Edge.app"],n=await this.findLaunchRegisteredApps("Microsoft Edge[A-Za-z ]*.app",t,e);return(0,T5.sort)(n,this.createPriorities([{name:"Microsoft Edge.app",weight:0,quality:"stable"},{name:"Microsoft Edge Canary.app",weight:1,quality:"canary"},{name:"Microsoft Edge Beta.app",weight:2,quality:"beta"},{name:"Microsoft Edge Dev.app",weight:3,quality:"dev"}]))}getPreferredPath(){return this.env.EDGE_PATH}};am.DarwinEdgeBrowserFinder=g_});var YE=v(cm=>{"use strict";Object.defineProperty(cm,"__esModule",{value:!0});cm.DarwinFirefoxBrowserFinder=void 0;var P5=fo(),E5=om(),y_=class extends E5.DarwinFinderBase{constructor(){super(...arguments),this.wellKnownPaths=[{path:"/Applications/Firefox.app/Contents/MacOS/firefox",quality:"stable"},{path:"/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox",quality:"dev"},{path:"/Applications/Firefox Nightly.app/Contents/MacOS/firefox",quality:"canary"}]}async findAllInner(){let e=["/Contents/MacOS/firefox"],t=["/Applications/Firefox.app"],n=await this.findLaunchRegisteredApps("Firefox[A-Za-z ]*.app",t,e);return(0,P5.sort)(n,this.createPriorities([{name:"Firefox.app",weight:0,quality:"stable"},{name:"Firefox Nightly.app",weight:1,quality:"canary"},{name:"Firefox Developer Edition.app",weight:2,quality:"dev"}]))}getPreferredPath(){return this.env.FIREFOX_PATH}};cm.DarwinFirefoxBrowserFinder=y_});var lm=v(um=>{"use strict";Object.defineProperty(um,"__esModule",{value:!0});um.LinuxChromeBrowserFinder=void 0;var k5=require("path"),Gc=fo(),b_=require("child_process"),R5=require("os"),A5=require("fs"),XE=/\r?\n/,v_=class{constructor(e=process.env,t=A5.promises){this.env=e,this.fs=t,this.pathEnvironmentVar="CHROME_PATH",this.priorities=[{regex:/chrome-wrapper$/,weight:54,quality:"custom"},{regex:/google-chrome-dev$/,weight:53,quality:"dev"},{regex:/google-chrome-canary$/,weight:52,quality:"canary"},{regex:/google-chrome-unstable$/,weight:51,quality:"canary"},{regex:/google-chrome-canary$/,weight:51,quality:"canary"},{regex:/google-chrome-stable$/,weight:50,quality:"stable"},{regex:/(google-)?chrome$/,weight:49,quality:"stable"},{regex:/chromium-browser$/,weight:48,quality:"custom"},{regex:/chromium$/,weight:47,quality:"custom"}],this.executablesOnPath=["google-chrome-unstable","google-chrome-dev","google-chrome-beta","google-chrome-canary","google-chrome-stable","google-chrome","chromium-browser","chromium"]}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=new Set,t=this.env[this.pathEnvironmentVar];t&&await(0,Gc.canAccess)(this.fs,t)&&e.add(t),[k5.posix.join((0,R5.homedir)(),".local/share/applications/"),"/usr/share/applications/","/usr/bin","/opt/google"].forEach(s=>{for(let a in this.findChromeExecutables(s))e.add(a)}),await Promise.all(this.executablesOnPath.map(async s=>{try{let a=(0,b_.execFileSync)("which",[s],{stdio:"pipe"}).toString().split(XE)[0];await(0,Gc.canAccess)(this.fs,a)&&e.add(a)}catch{}}));let o=t?[{regex:new RegExp((0,Gc.escapeRegexSpecialChars)(t)),weight:101,quality:"custom"}].concat(this.priorities):this.priorities;return(0,Gc.sort)(e,o)}async findChromeExecutables(e){let t=/(^[^ ]+).*/,n=`^Exec=/.*/(${this.executablesOnPath.join("|")})-.*`,i=[];if(await(0,Gc.canAccess)(this.fs,e)){let o;try{o=(0,b_.execSync)(`grep -ERI "${n}" ${e} | awk -F '=' '{print $2}'`)}catch{o=(0,b_.execSync)(`grep -Er "${n}" ${e} | awk -F '=' '{print $2}'`)}let s=o.toString().split(XE).map(a=>a.replace(t,"$1"));await Promise.all(s.map(async a=>{await(0,Gc.canAccess)(this.fs,a)&&i.push(a)}))}return i}};um.LinuxChromeBrowserFinder=v_});var QE=v(pm=>{"use strict";Object.defineProperty(pm,"__esModule",{value:!0});pm.LinuxEdgeBrowserFinder=void 0;var D5=lm(),w_=class extends D5.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="EDGE_PATH",this.executablesOnPath=["microsoft-edge-dev","microsoft-edge-beta","microsoft-edge-stable","microsoft-edge"],this.priorities=[{regex:/microsoft-edge\-wrapper$/,weight:52,quality:"custom"},{regex:/microsoft-edge\-dev$/,weight:51,quality:"dev"},{regex:/microsoft-edge\-beta$/,weight:51,quality:"beta"},{regex:/microsoft-edge\-stable$/,weight:50,quality:"stable"},{regex:/microsoft-edge$/,weight:49,quality:"stable"}]}};pm.LinuxEdgeBrowserFinder=w_});var ZE=v(dm=>{"use strict";Object.defineProperty(dm,"__esModule",{value:!0});dm.LinuxFirefoxBrowserFinder=void 0;var O5=lm(),S_=class extends O5.LinuxChromeBrowserFinder{constructor(){super(...arguments),this.pathEnvironmentVar="FIREFOX_PATH",this.executablesOnPath=["firefox-aurora","firefox-dev","firefox-developer","firefox-trunk","firefox-nightly","firefox"],this.priorities=[{regex:/firefox\-aurora$/,weight:51,quality:"dev"},{regex:/firefox\-dev$/,weight:51,quality:"dev"},{regex:/firefox\-developer$/,weight:51,quality:"dev"},{regex:/firefox\-trunk'$/,weight:50,quality:"canary"},{regex:/firefox\-nightly'$/,weight:50,quality:"canary"},{regex:/firefox$/,weight:49,quality:"stable"}]}};dm.LinuxFirefoxBrowserFinder=S_});var tk=v(fm=>{"use strict";Object.defineProperty(fm,"__esModule",{value:!0});fm.WindowsChromeBrowserFinder=void 0;var M5=require("path"),ek=fo(),L5=require("fs"),__=class{constructor(e=process.env,t=L5.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=M5.win32.sep,t=[{name:`${e}Google${e}Chrome Dev${e}Application${e}chrome.exe`,type:"dev"},{name:`${e}Google${e}Chrome SxS${e}Application${e}chrome.exe`,type:"canary"},{name:`${e}Google${e}Chrome Beta${e}Application${e}chrome.exe`,type:"beta"},{name:`${e}Google${e}Chrome${e}Application${e}chrome.exe`,type:"stable"}],n=await(0,ek.findWindowsCandidates)(this.env,this.fs,t),i=await(0,ek.preferredChromePath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};fm.WindowsChromeBrowserFinder=__});var nk=v(hm=>{"use strict";Object.defineProperty(hm,"__esModule",{value:!0});hm.WindowsEdgeBrowserFinder=void 0;var rr=require("path"),N5=require("fs"),rk=fo(),I_=class{constructor(e=process.env,t=N5.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=[{name:`${rr.sep}Microsoft${rr.sep}Edge SxS${rr.sep}Application${rr.sep}msedge.exe`,type:"canary"},{name:`${rr.sep}Microsoft${rr.sep}Edge Dev${rr.sep}Application${rr.sep}msedge.exe`,type:"dev"},{name:`${rr.sep}Microsoft${rr.sep}Edge Beta${rr.sep}Application${rr.sep}msedge.exe`,type:"beta"},{name:`${rr.sep}Microsoft${rr.sep}Edge${rr.sep}Application${rr.sep}msedge.exe`,type:"stable"}],t=await(0,rk.findWindowsCandidates)(this.env,this.fs,e),n=await(0,rk.preferredEdgePath)(this.fs,this.env);return n&&t.unshift({path:n,quality:"custom"}),t}};hm.WindowsEdgeBrowserFinder=I_});var ok=v(mm=>{"use strict";Object.defineProperty(mm,"__esModule",{value:!0});mm.WindowsFirefoxBrowserFinder=void 0;var F5=require("path"),ik=fo(),B5=require("fs"),x_=class{constructor(e=process.env,t=B5.promises){this.env=e,this.fs=t}async findWhere(e){return(await this.findAll()).find(e)}async findAll(){let e=F5.win32.sep,t=[{name:`${e}Firefox Developer Edition${e}firefox.exe`,type:"dev"},{name:`${e}Firefox Nightly${e}firefox.exe`,type:"canary"},{name:`${e}Mozilla Firefox${e}firefox.exe`,type:"stable"}],n=await(0,ik.findWindowsCandidates)(this.env,this.fs,t),i=await(0,ik.preferredFirefoxPath)(this.fs,this.env);return i&&n.unshift({path:i,quality:"custom"}),n}};mm.WindowsFirefoxBrowserFinder=x_});var T_=v(Ur=>{"use strict";Object.defineProperty(Ur,"__esModule",{value:!0});Ur.FirefoxBrowserFinder=Ur.EdgeBrowserFinder=Ur.ChromeBrowserFinder=Ur.isQuality=Ur.allQualities=void 0;var j5=KE(),U5=JE(),q5=YE(),W5=lm(),V5=QE(),$5=ZE(),H5=tk(),G5=nk(),z5=ok(),K5={canary:null,stable:null,beta:null,dev:null,custom:null};Ur.allQualities=new Set(Object.keys(K5));var J5=r=>Ur.allQualities.has(r);Ur.isQuality=J5;Ur.ChromeBrowserFinder=process.platform==="win32"?H5.WindowsChromeBrowserFinder:process.platform==="darwin"?j5.DarwinChromeBrowserFinder:W5.LinuxChromeBrowserFinder;Ur.EdgeBrowserFinder=process.platform==="win32"?G5.WindowsEdgeBrowserFinder:process.platform==="darwin"?U5.DarwinEdgeBrowserFinder:V5.LinuxEdgeBrowserFinder;Ur.FirefoxBrowserFinder=process.platform==="win32"?z5.WindowsFirefoxBrowserFinder:process.platform==="darwin"?q5.DarwinFirefoxBrowserFinder:$5.LinuxFirefoxBrowserFinder});var lk=v((Ose,uk)=>{uk.exports=ck;ck.sync=X5;var sk=require("fs");function Y5(r,e){var t=e.pathExt!==void 0?e.pathExt:process.env.PATHEXT;if(!t||(t=t.split(";"),t.indexOf("")!==-1))return!0;for(var n=0;n<t.length;n++){var i=t[n].toLowerCase();if(i&&r.substr(-i.length).toLowerCase()===i)return!0}return!1}function ak(r,e,t){return!r.isSymbolicLink()&&!r.isFile()?!1:Y5(e,t)}function ck(r,e,t){sk.stat(r,function(n,i){t(n,n?!1:ak(i,r,e))})}function X5(r,e){return ak(sk.statSync(r),r,e)}});var mk=v((Mse,hk)=>{hk.exports=dk;dk.sync=Q5;var pk=require("fs");function dk(r,e,t){pk.stat(r,function(n,i){t(n,n?!1:fk(i,e))})}function Q5(r,e){return fk(pk.statSync(r),e)}function fk(r,e){return r.isFile()&&Z5(r,e)}function Z5(r,e){var t=r.mode,n=r.uid,i=r.gid,o=e.uid!==void 0?e.uid:process.getuid&&process.getuid(),s=e.gid!==void 0?e.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8),u=parseInt("001",8),l=a|c,p=t&u||t&c&&i===s||t&a&&n===o||t&l&&o===0;return p}});var yk=v((Nse,gk)=>{var Lse=require("fs"),gm;process.platform==="win32"||global.TESTING_WINDOWS?gm=lk():gm=mk();gk.exports=C_;C_.sync=e3;function C_(r,e,t){if(typeof e=="function"&&(t=e,e={}),!t){if(typeof Promise!="function")throw new TypeError("callback not provided");return new Promise(function(n,i){C_(r,e||{},function(o,s){o?i(o):n(s)})})}gm(r,e||{},function(n,i){n&&(n.code==="EACCES"||e&&e.ignoreErrors)&&(n=null,i=!1),t(n,i)})}function e3(r,e){try{return gm.sync(r,e||{})}catch(t){if(e&&e.ignoreErrors||t.code==="EACCES")return!1;throw t}}});var xk=v((Fse,Ik)=>{var zc=process.platform==="win32"||process.env.OSTYPE==="cygwin"||process.env.OSTYPE==="msys",bk=require("path"),t3=zc?";":":",vk=yk(),wk=r=>Object.assign(new Error(`not found: ${r}`),{code:"ENOENT"}),Sk=(r,e)=>{let t=e.colon||t3,n=r.match(/\//)||zc&&r.match(/\\/)?[""]:[...zc?[process.cwd()]:[],...(e.path||process.env.PATH||"").split(t)],i=zc?e.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",o=zc?i.split(t):[""];return zc&&r.indexOf(".")!==-1&&o[0]!==""&&o.unshift(""),{pathEnv:n,pathExt:o,pathExtExe:i}},_k=(r,e,t)=>{typeof e=="function"&&(t=e,e={}),e||(e={});let{pathEnv:n,pathExt:i,pathExtExe:o}=Sk(r,e),s=[],a=u=>new Promise((l,p)=>{if(u===n.length)return e.all&&s.length?l(s):p(wk(r));let d=n[u],f=/^".*"$/.test(d)?d.slice(1,-1):d,h=bk.join(f,r),g=!f&&/^\.[\\\/]/.test(r)?r.slice(0,2)+h:h;l(c(g,u,0))}),c=(u,l,p)=>new Promise((d,f)=>{if(p===i.length)return d(a(l+1));let h=i[p];vk(u+h,{pathExt:o},(g,b)=>{if(!g&&b)if(e.all)s.push(u+h);else return d(u+h);return d(c(u,l,p+1))})});return t?a(0).then(u=>t(null,u),t):a(0)},r3=(r,e)=>{e=e||{};let{pathEnv:t,pathExt:n,pathExtExe:i}=Sk(r,e),o=[];for(let s=0;s<t.length;s++){let a=t[s],c=/^".*"$/.test(a)?a.slice(1,-1):a,u=bk.join(c,r),l=!c&&/^\.[\\\/]/.test(r)?r.slice(0,2)+u:u;for(let p=0;p<n.length;p++){let d=l+n[p];try{if(vk.sync(d,{pathExt:i}))if(e.all)o.push(d);else return d}catch{}}}if(e.all&&o.length)return o;if(e.nothrow)return null;throw wk(r)};Ik.exports=_k;_k.sync=r3});var E_=v((Bse,P_)=>{"use strict";var Tk=(r={})=>{let e=r.env||process.env;return(r.platform||process.platform)!=="win32"?"PATH":Object.keys(e).reverse().find(n=>n.toUpperCase()==="PATH")||"Path"};P_.exports=Tk;P_.exports.default=Tk});var kk=v((jse,Ek)=>{"use strict";var Ck=require("path"),n3=xk(),i3=E_();function Pk(r,e){let t=r.options.env||process.env,n=process.cwd(),i=r.options.cwd!=null,o=i&&process.chdir!==void 0&&!process.chdir.disabled;if(o)try{process.chdir(r.options.cwd)}catch{}let s;try{s=n3.sync(r.command,{path:t[i3({env:t})],pathExt:e?Ck.delimiter:void 0})}catch{}finally{o&&process.chdir(n)}return s&&(s=Ck.resolve(i?r.options.cwd:"",s)),s}function o3(r){return Pk(r)||Pk(r,!0)}Ek.exports=o3});var Rk=v((Use,R_)=>{"use strict";var k_=/([()\][%!^"`<>&|;, *?])/g;function s3(r){return r=r.replace(k_,"^$1"),r}function a3(r,e){return r=`${r}`,r=r.replace(/(?=(\\+?)?)\1"/g,'$1$1\\"'),r=r.replace(/(?=(\\+?)?)\1$/,"$1$1"),r=`"${r}"`,r=r.replace(k_,"^$1"),e&&(r=r.replace(k_,"^$1")),r}R_.exports.command=s3;R_.exports.argument=a3});var Dk=v((qse,Ak)=>{"use strict";Ak.exports=/^#!(.*)/});var Mk=v((Wse,Ok)=>{"use strict";var c3=Dk();Ok.exports=(r="")=>{let e=r.match(c3);if(!e)return null;let[t,n]=e[0].replace(/#! ?/,"").split(" "),i=t.split("/").pop();return i==="env"?n:n?`${i} ${n}`:i}});var Nk=v((Vse,Lk)=>{"use strict";var A_=require("fs"),u3=Mk();function l3(r){let t=Buffer.alloc(150),n;try{n=A_.openSync(r,"r"),A_.readSync(n,t,0,150,0),A_.closeSync(n)}catch{}return u3(t.toString())}Lk.exports=l3});var Uk=v(($se,jk)=>{"use strict";var p3=require("path"),Fk=kk(),Bk=Rk(),d3=Nk(),f3=process.platform==="win32",h3=/\.(?:com|exe)$/i,m3=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;function g3(r){r.file=Fk(r);let e=r.file&&d3(r.file);return e?(r.args.unshift(r.file),r.command=e,Fk(r)):r.file}function y3(r){if(!f3)return r;let e=g3(r),t=!h3.test(e);if(r.options.forceShell||t){let n=m3.test(e);r.command=p3.normalize(r.command),r.command=Bk.command(r.command),r.args=r.args.map(o=>Bk.argument(o,n));let i=[r.command].concat(r.args).join(" ");r.args=["/d","/s","/c",`"${i}"`],r.command=process.env.comspec||"cmd.exe",r.options.windowsVerbatimArguments=!0}return r}function b3(r,e,t){e&&!Array.isArray(e)&&(t=e,e=null),e=e?e.slice(0):[],t=Object.assign({},t);let n={command:r,args:e,options:t,file:void 0,original:{command:r,args:e}};return t.shell?n:y3(n)}jk.exports=b3});var Vk=v((Hse,Wk)=>{"use strict";var D_=process.platform==="win32";function O_(r,e){return Object.assign(new Error(`${e} ${r.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${e} ${r.command}`,path:r.command,spawnargs:r.args})}function v3(r,e){if(!D_)return;let t=r.emit;r.emit=function(n,i){if(n==="exit"){let o=qk(i,e);if(o)return t.call(r,"error",o)}return t.apply(r,arguments)}}function qk(r,e){return D_&&r===1&&!e.file?O_(e.original,"spawn"):null}function w3(r,e){return D_&&r===1&&!e.file?O_(e.original,"spawnSync"):null}Wk.exports={hookChildProcess:v3,verifyENOENT:qk,verifyENOENTSync:w3,notFoundError:O_}});var Gk=v((Gse,Kc)=>{"use strict";var $k=require("child_process"),M_=Uk(),L_=Vk();function Hk(r,e,t){let n=M_(r,e,t),i=$k.spawn(n.command,n.args,n.options);return L_.hookChildProcess(i,n),i}function S3(r,e,t){let n=M_(r,e,t),i=$k.spawnSync(n.command,n.args,n.options);return i.error=i.error||L_.verifyENOENTSync(i.status,n),i}Kc.exports=Hk;Kc.exports.spawn=Hk;Kc.exports.sync=S3;Kc.exports._parse=M_;Kc.exports._enoent=L_});var Kk=v((zse,zk)=>{"use strict";zk.exports=r=>{let e=typeof r=="string"?`
`:10,t=typeof r=="string"?"\r":13;return r[r.length-1]===e&&(r=r.slice(0,r.length-1)),r[r.length-1]===t&&(r=r.slice(0,r.length-1)),r}});var Xk=v((Kse,gd)=>{"use strict";var md=require("path"),Jk=E_(),Yk=r=>{r={cwd:process.cwd(),path:process.env[Jk()],execPath:process.execPath,...r};let e,t=md.resolve(r.cwd),n=[];for(;e!==t;)n.push(md.join(t,"node_modules/.bin")),e=t,t=md.resolve(t,"..");let i=md.resolve(r.cwd,r.execPath,"..");return n.push(i),n.concat(r.path).join(md.delimiter)};gd.exports=Yk;gd.exports.default=Yk;gd.exports.env=r=>{r={env:process.env,...r};let e={...r.env},t=Jk({env:e});return r.path=e[t],e[t]=gd.exports(r),e}});var Zk=v((Jse,N_)=>{"use strict";var Qk=(r,e)=>{for(let t of Reflect.ownKeys(e))Object.defineProperty(r,t,Object.getOwnPropertyDescriptor(e,t));return r};N_.exports=Qk;N_.exports.default=Qk});var tR=v((Yse,bm)=>{"use strict";var _3=Zk(),ym=new WeakMap,eR=(r,e={})=>{if(typeof r!="function")throw new TypeError("Expected a function");let t,n=0,i=r.displayName||r.name||"<anonymous>",o=function(...s){if(ym.set(o,++n),n===1)t=r.apply(this,s),r=null;else if(e.throw===!0)throw new Error(`Function \`${i}\` can only be called once`);return t};return _3(o,r),ym.set(o,n),o};bm.exports=eR;bm.exports.default=eR;bm.exports.callCount=r=>{if(!ym.has(r))throw new Error(`The given function \`${r.name}\` is not wrapped by the \`onetime\` package`);return ym.get(r)}});var rR=v(vm=>{"use strict";Object.defineProperty(vm,"__esModule",{value:!0});vm.SIGNALS=void 0;var I3=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}];vm.SIGNALS=I3});var F_=v(Jc=>{"use strict";Object.defineProperty(Jc,"__esModule",{value:!0});Jc.SIGRTMAX=Jc.getRealtimeSignals=void 0;var x3=function(){let r=iR-nR+1;return Array.from({length:r},T3)};Jc.getRealtimeSignals=x3;var T3=function(r,e){return{name:`SIGRT${e+1}`,number:nR+e,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}},nR=34,iR=64;Jc.SIGRTMAX=iR});var oR=v(wm=>{"use strict";Object.defineProperty(wm,"__esModule",{value:!0});wm.getSignals=void 0;var C3=require("os"),P3=rR(),E3=F_(),k3=function(){let r=(0,E3.getRealtimeSignals)();return[...P3.SIGNALS,...r].map(R3)};wm.getSignals=k3;var R3=function({name:r,number:e,description:t,action:n,forced:i=!1,standard:o}){let{signals:{[r]:s}}=C3.constants,a=s!==void 0;return{name:r,number:a?s:e,description:t,supported:a,action:n,forced:i,standard:o}}});var aR=v(Yc=>{"use strict";Object.defineProperty(Yc,"__esModule",{value:!0});Yc.signalsByNumber=Yc.signalsByName=void 0;var A3=require("os"),sR=oR(),D3=F_(),O3=function(){return(0,sR.getSignals)().reduce(M3,{})},M3=function(r,{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}){return{...r,[e]:{name:e,number:t,description:n,supported:i,action:o,forced:s,standard:a}}},L3=O3();Yc.signalsByName=L3;var N3=function(){let r=(0,sR.getSignals)(),e=D3.SIGRTMAX+1,t=Array.from({length:e},(n,i)=>F3(i,r));return Object.assign({},...t)},F3=function(r,e){let t=B3(r,e);if(t===void 0)return{};let{name:n,description:i,supported:o,action:s,forced:a,standard:c}=t;return{[r]:{name:n,number:r,description:i,supported:o,action:s,forced:a,standard:c}}},B3=function(r,e){let t=e.find(({name:n})=>A3.constants.signals[n]===r);return t!==void 0?t:e.find(n=>n.number===r)},j3=N3();Yc.signalsByNumber=j3});var uR=v((tae,cR)=>{"use strict";var{signalsByName:U3}=aR(),q3=({timedOut:r,timeout:e,errorCode:t,signal:n,signalDescription:i,exitCode:o,isCanceled:s})=>r?`timed out after ${e} milliseconds`:s?"was canceled":t!==void 0?`failed with ${t}`:n!==void 0?`was killed with ${n} (${i})`:o!==void 0?`failed with exit code ${o}`:"failed",W3=({stdout:r,stderr:e,all:t,error:n,signal:i,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:u,killed:l,parsed:{options:{timeout:p}}})=>{o=o===null?void 0:o,i=i===null?void 0:i;let d=i===void 0?void 0:U3[i].description,f=n&&n.code,g=`Command ${q3({timedOut:c,timeout:p,errorCode:f,signal:i,signalDescription:d,exitCode:o,isCanceled:u})}: ${s}`,b=Object.prototype.toString.call(n)==="[object Error]",I=b?`${g}
${n.message}`:g,L=[I,e,r].filter(Boolean).join(`
`);return b?(n.originalMessage=n.message,n.message=L):n=new Error(L),n.shortMessage=I,n.command=s,n.escapedCommand=a,n.exitCode=o,n.signal=i,n.signalDescription=d,n.stdout=r,n.stderr=e,t!==void 0&&(n.all=t),"bufferedData"in n&&delete n.bufferedData,n.failed=!0,n.timedOut=!!c,n.isCanceled=u,n.killed=l&&!c,n};cR.exports=W3});var pR=v((rae,B_)=>{"use strict";var Sm=["stdin","stdout","stderr"],V3=r=>Sm.some(e=>r[e]!==void 0),lR=r=>{if(!r)return;let{stdio:e}=r;if(e===void 0)return Sm.map(n=>r[n]);if(V3(r))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${Sm.map(n=>`\`${n}\``).join(", ")}`);if(typeof e=="string")return e;if(!Array.isArray(e))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof e}\``);let t=Math.max(e.length,Sm.length);return Array.from({length:t},(n,i)=>e[i])};B_.exports=lR;B_.exports.node=r=>{let e=lR(r);return e==="ipc"?"ipc":e===void 0||typeof e=="string"?[e,e,e,"ipc"]:e.includes("ipc")?e:[...e,"ipc"]}});var dR=v((nae,_m)=>{_m.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"];process.platform!=="win32"&&_m.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT");process.platform==="linux"&&_m.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")});var mR=v((iae,vd)=>{var $3=require("assert"),yd=dR(),H3=/^win/i.test(process.platform),Im=require("events");typeof Im!="function"&&(Im=Im.EventEmitter);var zt;process.__signal_exit_emitter__?zt=process.__signal_exit_emitter__:(zt=process.__signal_exit_emitter__=new Im,zt.count=0,zt.emitted={});zt.infinite||(zt.setMaxListeners(1/0),zt.infinite=!0);vd.exports=function(r,e){$3.equal(typeof r,"function","a callback must be provided for exit handler"),bd===!1&&fR();var t="exit";e&&e.alwaysLast&&(t="afterexit");var n=function(){zt.removeListener(t,r),zt.listeners("exit").length===0&&zt.listeners("afterexit").length===0&&U_()};return zt.on(t,r),n};vd.exports.unload=U_;function U_(){bd&&(bd=!1,yd.forEach(function(r){try{process.removeListener(r,q_[r])}catch{}}),process.emit=j_,process.reallyExit=hR,zt.count-=1)}function Xc(r,e,t){zt.emitted[r]||(zt.emitted[r]=!0,zt.emit(r,e,t))}var q_={};yd.forEach(function(r){q_[r]=function(){var t=process.listeners(r);t.length===zt.count&&(U_(),Xc("exit",null,r),Xc("afterexit",null,r),H3&&r==="SIGHUP"&&(r="SIGINT"),process.kill(process.pid,r))}});vd.exports.signals=function(){return yd};vd.exports.load=fR;var bd=!1;function fR(){bd||(bd=!0,zt.count+=1,yd=yd.filter(function(r){try{return process.on(r,q_[r]),!0}catch{return!1}}),process.emit=z3,process.reallyExit=G3)}var hR=process.reallyExit;function G3(r){process.exitCode=r||0,Xc("exit",process.exitCode,null),Xc("afterexit",process.exitCode,null),hR.call(process,process.exitCode)}var j_=process.emit;function z3(r,e){if(r==="exit"){e!==void 0&&(process.exitCode=e);var t=j_.apply(this,arguments);return Xc("exit",process.exitCode,null),Xc("afterexit",process.exitCode,null),t}else return j_.apply(this,arguments)}});var yR=v((oae,gR)=>{"use strict";var K3=require("os"),J3=mR(),Y3=1e3*5,X3=(r,e="SIGTERM",t={})=>{let n=r(e);return Q3(r,e,t,n),n},Q3=(r,e,t,n)=>{if(!Z3(e,t,n))return;let i=t4(t),o=setTimeout(()=>{r("SIGKILL")},i);o.unref&&o.unref()},Z3=(r,{forceKillAfterTimeout:e},t)=>e4(r)&&e!==!1&&t,e4=r=>r===K3.constants.signals.SIGTERM||typeof r=="string"&&r.toUpperCase()==="SIGTERM",t4=({forceKillAfterTimeout:r=!0})=>{if(r===!0)return Y3;if(!Number.isFinite(r)||r<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`);return r},r4=(r,e)=>{r.kill()&&(e.isCanceled=!0)},n4=(r,e,t)=>{r.kill(e),t(Object.assign(new Error("Timed out"),{timedOut:!0,signal:e}))},i4=(r,{timeout:e,killSignal:t="SIGTERM"},n)=>{if(e===0||e===void 0)return n;let i,o=new Promise((a,c)=>{i=setTimeout(()=>{n4(r,t,c)},e)}),s=n.finally(()=>{clearTimeout(i)});return Promise.race([o,s])},o4=({timeout:r})=>{if(r!==void 0&&(!Number.isFinite(r)||r<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${r}\` (${typeof r})`)},s4=async(r,{cleanup:e,detached:t},n)=>{if(!e||t)return n;let i=J3(()=>{r.kill()});return n.finally(()=>{i()})};gR.exports={spawnedKill:X3,spawnedCancel:r4,setupTimeout:i4,validateTimeout:o4,setExitHandler:s4}});var vR=v((sae,bR)=>{"use strict";var pi=r=>r!==null&&typeof r=="object"&&typeof r.pipe=="function";pi.writable=r=>pi(r)&&r.writable!==!1&&typeof r._write=="function"&&typeof r._writableState=="object";pi.readable=r=>pi(r)&&r.readable!==!1&&typeof r._read=="function"&&typeof r._readableState=="object";pi.duplex=r=>pi.writable(r)&&pi.readable(r);pi.transform=r=>pi.duplex(r)&&typeof r._transform=="function"&&typeof r._transformState=="object";bR.exports=pi});var SR=v((aae,wR)=>{"use strict";var{PassThrough:a4}=require("stream");wR.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new a4({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var _R=v((cae,wd)=>{"use strict";var{constants:c4}=require("buffer"),u4=require("stream"),{promisify:l4}=require("util"),p4=SR(),d4=l4(u4.pipeline),xm=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function W_(r,e){if(!r)throw new Error("Expected a stream");e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n=p4(e);return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=c4.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};(async()=>{try{await d4(r,n),i()}catch(a){s(a)}})(),n.on("data",()=>{n.getBufferedLength()>t&&s(new xm)})}),n.getBufferedValue()}wd.exports=W_;wd.exports.buffer=(r,e)=>W_(r,{...e,encoding:"buffer"});wd.exports.array=(r,e)=>W_(r,{...e,array:!0});wd.exports.MaxBufferError=xm});var xR=v((uae,IR)=>{"use strict";var{PassThrough:f4}=require("stream");IR.exports=function(){var r=[],e=new f4({objectMode:!0});return e.setMaxListeners(0),e.add=t,e.isEmpty=n,e.on("unpipe",i),Array.prototype.slice.call(arguments).forEach(t),e;function t(o){return Array.isArray(o)?(o.forEach(t),this):(r.push(o),o.once("end",i.bind(null,o)),o.once("error",e.emit.bind(e,"error")),o.pipe(e,{end:!1}),this)}function n(){return r.length==0}function i(o){r=r.filter(function(s){return s!==o}),!r.length&&e.readable&&e.end()}}});var ER=v((lae,PR)=>{"use strict";var CR=vR(),TR=_R(),h4=xR(),m4=(r,e)=>{e===void 0||r.stdin===void 0||(CR(e)?e.pipe(r.stdin):r.stdin.end(e))},g4=(r,{all:e})=>{if(!e||!r.stdout&&!r.stderr)return;let t=h4();return r.stdout&&t.add(r.stdout),r.stderr&&t.add(r.stderr),t},V_=async(r,e)=>{if(r){r.destroy();try{return await e}catch(t){return t.bufferedData}}},$_=(r,{encoding:e,buffer:t,maxBuffer:n})=>{if(!(!r||!t))return e?TR(r,{encoding:e,maxBuffer:n}):TR.buffer(r,{maxBuffer:n})},y4=async({stdout:r,stderr:e,all:t},{encoding:n,buffer:i,maxBuffer:o},s)=>{let a=$_(r,{encoding:n,buffer:i,maxBuffer:o}),c=$_(e,{encoding:n,buffer:i,maxBuffer:o}),u=$_(t,{encoding:n,buffer:i,maxBuffer:o*2});try{return await Promise.all([s,a,c,u])}catch(l){return Promise.all([{error:l,signal:l.signal,timedOut:l.timedOut},V_(r,a),V_(e,c),V_(t,u)])}},b4=({input:r})=>{if(CR(r))throw new TypeError("The `input` option cannot be a stream in sync mode")};PR.exports={handleInput:m4,makeAllStream:g4,getSpawnedResult:y4,validateInputSync:b4}});var RR=v((pae,kR)=>{"use strict";var v4=(async()=>{})().constructor.prototype,w4=["then","catch","finally"].map(r=>[r,Reflect.getOwnPropertyDescriptor(v4,r)]),S4=(r,e)=>{for(let[t,n]of w4){let i=typeof e=="function"?(...o)=>Reflect.apply(n.value,e(),o):n.value.bind(e);Reflect.defineProperty(r,t,{...n,value:i})}return r},_4=r=>new Promise((e,t)=>{r.on("exit",(n,i)=>{e({exitCode:n,signal:i})}),r.on("error",n=>{t(n)}),r.stdin&&r.stdin.on("error",n=>{t(n)})});kR.exports={mergePromise:S4,getSpawnedPromise:_4}});var OR=v((dae,DR)=>{"use strict";var AR=(r,e=[])=>Array.isArray(e)?[r,...e]:[r],I4=/^[\w.-]+$/,x4=/"/g,T4=r=>typeof r!="string"||I4.test(r)?r:`"${r.replace(x4,'\\"')}"`,C4=(r,e)=>AR(r,e).join(" "),P4=(r,e)=>AR(r,e).map(t=>T4(t)).join(" "),E4=/ +/g,k4=r=>{let e=[];for(let t of r.trim().split(E4)){let n=e[e.length-1];n&&n.endsWith("\\")?e[e.length-1]=`${n.slice(0,-1)} ${t}`:e.push(t)}return e};DR.exports={joinCommand:C4,getEscapedCommand:P4,parseCommand:k4}});var Pm=v((fae,Qc)=>{"use strict";var R4=require("path"),H_=require("child_process"),A4=Gk(),D4=Kk(),O4=Xk(),M4=tR(),Tm=uR(),LR=pR(),{spawnedKill:L4,spawnedCancel:N4,setupTimeout:F4,validateTimeout:B4,setExitHandler:j4}=yR(),{handleInput:U4,getSpawnedResult:q4,makeAllStream:W4,validateInputSync:V4}=ER(),{mergePromise:MR,getSpawnedPromise:$4}=RR(),{joinCommand:NR,parseCommand:FR,getEscapedCommand:BR}=OR(),H4=1e3*1e3*100,G4=({env:r,extendEnv:e,preferLocal:t,localDir:n,execPath:i})=>{let o=e?{...process.env,...r}:r;return t?O4.env({env:o,cwd:n,execPath:i}):o},jR=(r,e,t={})=>{let n=A4._parse(r,e,t);return r=n.command,e=n.args,t=n.options,t={maxBuffer:H4,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:t.cwd||process.cwd(),execPath:process.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,...t},t.env=G4(t),t.stdio=LR(t),process.platform==="win32"&&R4.basename(r,".exe")==="cmd"&&e.unshift("/q"),{file:r,args:e,options:t,parsed:n}},Sd=(r,e,t)=>typeof e!="string"&&!Buffer.isBuffer(e)?t===void 0?void 0:"":r.stripFinalNewline?D4(e):e,Cm=(r,e,t)=>{let n=jR(r,e,t),i=NR(r,e),o=BR(r,e);B4(n.options);let s;try{s=H_.spawn(n.file,n.args,n.options)}catch(f){let h=new H_.ChildProcess,g=Promise.reject(Tm({error:f,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1}));return MR(h,g)}let a=$4(s),c=F4(s,n.options,a),u=j4(s,n.options,c),l={isCanceled:!1};s.kill=L4.bind(null,s.kill.bind(s)),s.cancel=N4.bind(null,s,l);let d=M4(async()=>{let[{error:f,exitCode:h,signal:g,timedOut:b},I,L,E]=await q4(s,n.options,u),B=Sd(n.options,I),A=Sd(n.options,L),R=Sd(n.options,E);if(f||h!==0||g!==null){let x=Tm({error:f,exitCode:h,signal:g,stdout:B,stderr:A,all:R,command:i,escapedCommand:o,parsed:n,timedOut:b,isCanceled:l.isCanceled,killed:s.killed});if(!n.options.reject)return x;throw x}return{command:i,escapedCommand:o,exitCode:0,stdout:B,stderr:A,all:R,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}});return U4(s,n.options.input),s.all=W4(s,n.options),MR(s,d)};Qc.exports=Cm;Qc.exports.sync=(r,e,t)=>{let n=jR(r,e,t),i=NR(r,e),o=BR(r,e);V4(n.options);let s;try{s=H_.spawnSync(n.file,n.args,n.options)}catch(u){throw Tm({error:u,stdout:"",stderr:"",all:"",command:i,escapedCommand:o,parsed:n,timedOut:!1,isCanceled:!1,killed:!1})}let a=Sd(n.options,s.stdout,s.error),c=Sd(n.options,s.stderr,s.error);if(s.error||s.status!==0||s.signal!==null){let u=Tm({stdout:a,stderr:c,error:s.error,signal:s.signal,exitCode:s.status,command:i,escapedCommand:o,parsed:n,timedOut:s.error&&s.error.code==="ETIMEDOUT",isCanceled:!1,killed:s.signal!==null});if(!n.options.reject)return u;throw u}return{command:i,escapedCommand:o,exitCode:0,stdout:a,stderr:c,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}};Qc.exports.command=(r,e)=>{let[t,...n]=FR(r);return Cm(t,n,e)};Qc.exports.commandSync=(r,e)=>{let[t,...n]=FR(r);return Cm.sync(t,n,e)};Qc.exports.node=(r,e,t={})=>{e&&!Array.isArray(e)&&typeof e=="object"&&(t=e,e=[]);let n=LR.node(t),i=process.execArgv.filter(a=>!a.startsWith("--inspect")),{nodePath:o=process.execPath,nodeOptions:s=i}=t;return Cm(o,[...s,r,...Array.isArray(e)?e:[]],{...t,stdin:void 0,stdout:void 0,stderr:void 0,stdio:n,shell:!1})}});var bt=v(Se=>{"use strict";Object.defineProperty(Se,"__esModule",{value:!0});Se.NON_CUSTOM_TAG_KEYS=Se.PRE_DESTROY=Se.POST_CONSTRUCT=Se.DESIGN_PARAM_TYPES=Se.PARAM_TYPES=Se.TAGGED_PROP=Se.TAGGED=Se.MULTI_INJECT_TAG=Se.INJECT_TAG=Se.OPTIONAL_TAG=Se.UNMANAGED_TAG=Se.NAME_TAG=Se.NAMED_TAG=void 0;Se.NAMED_TAG="named";Se.NAME_TAG="name";Se.UNMANAGED_TAG="unmanaged";Se.OPTIONAL_TAG="optional";Se.INJECT_TAG="inject";Se.MULTI_INJECT_TAG="multi_inject";Se.TAGGED="inversify:tagged";Se.TAGGED_PROP="inversify:tagged_props";Se.PARAM_TYPES="inversify:paramtypes";Se.DESIGN_PARAM_TYPES="design:paramtypes";Se.POST_CONSTRUCT="post_construct";Se.PRE_DESTROY="pre_destroy";function z4(){return[Se.INJECT_TAG,Se.MULTI_INJECT_TAG,Se.NAME_TAG,Se.UNMANAGED_TAG,Se.NAMED_TAG,Se.OPTIONAL_TAG]}Se.NON_CUSTOM_TAG_KEYS=z4()});var pn=v(ts=>{"use strict";Object.defineProperty(ts,"__esModule",{value:!0});ts.TargetTypeEnum=ts.BindingTypeEnum=ts.BindingScopeEnum=void 0;var K4={Request:"Request",Singleton:"Singleton",Transient:"Transient"};ts.BindingScopeEnum=K4;var J4={ConstantValue:"ConstantValue",Constructor:"Constructor",DynamicValue:"DynamicValue",Factory:"Factory",Function:"Function",Instance:"Instance",Invalid:"Invalid",Provider:"Provider"};ts.BindingTypeEnum=J4;var Y4={ClassProperty:"ClassProperty",ConstructorArgument:"ConstructorArgument",Variable:"Variable"};ts.TargetTypeEnum=Y4});var rs=v(Em=>{"use strict";Object.defineProperty(Em,"__esModule",{value:!0});Em.id=void 0;var X4=0;function Q4(){return X4++}Em.id=Q4});var qR=v(km=>{"use strict";Object.defineProperty(km,"__esModule",{value:!0});km.Binding=void 0;var UR=pn(),Z4=rs(),eG=function(){function r(e,t){this.id=(0,Z4.id)(),this.activated=!1,this.serviceIdentifier=e,this.scope=t,this.type=UR.BindingTypeEnum.Invalid,this.constraint=function(n){return!0},this.implementationType=null,this.cache=null,this.factory=null,this.provider=null,this.onActivation=null,this.onDeactivation=null,this.dynamicValue=null}return r.prototype.clone=function(){var e=new r(this.serviceIdentifier,this.scope);return e.activated=e.scope===UR.BindingScopeEnum.Singleton?this.activated:!1,e.implementationType=this.implementationType,e.dynamicValue=this.dynamicValue,e.scope=this.scope,e.type=this.type,e.factory=this.factory,e.provider=this.provider,e.constraint=this.constraint,e.onActivation=this.onActivation,e.onDeactivation=this.onDeactivation,e.cache=this.cache,e},r}();km.Binding=eG});var nr=v(K=>{"use strict";Object.defineProperty(K,"__esModule",{value:!0});K.STACK_OVERFLOW=K.CIRCULAR_DEPENDENCY_IN_FACTORY=K.ON_DEACTIVATION_ERROR=K.PRE_DESTROY_ERROR=K.POST_CONSTRUCT_ERROR=K.ASYNC_UNBIND_REQUIRED=K.MULTIPLE_POST_CONSTRUCT_METHODS=K.MULTIPLE_PRE_DESTROY_METHODS=K.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK=K.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE=K.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE=K.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT=K.ARGUMENTS_LENGTH_MISMATCH=K.INVALID_DECORATOR_OPERATION=K.INVALID_TO_SELF_VALUE=K.LAZY_IN_SYNC=K.INVALID_FUNCTION_BINDING=K.INVALID_MIDDLEWARE_RETURN=K.NO_MORE_SNAPSHOTS_AVAILABLE=K.INVALID_BINDING_TYPE=K.NOT_IMPLEMENTED=K.CIRCULAR_DEPENDENCY=K.UNDEFINED_INJECT_ANNOTATION=K.MISSING_INJECT_ANNOTATION=K.MISSING_INJECTABLE_ANNOTATION=K.NOT_REGISTERED=K.CANNOT_UNBIND=K.AMBIGUOUS_MATCH=K.KEY_NOT_FOUND=K.NULL_ARGUMENT=K.DUPLICATED_METADATA=K.DUPLICATED_INJECTABLE_DECORATOR=void 0;K.DUPLICATED_INJECTABLE_DECORATOR="Cannot apply @injectable decorator multiple times.";K.DUPLICATED_METADATA="Metadata key was used more than once in a parameter:";K.NULL_ARGUMENT="NULL argument";K.KEY_NOT_FOUND="Key Not Found";K.AMBIGUOUS_MATCH="Ambiguous match found for serviceIdentifier:";K.CANNOT_UNBIND="Could not unbind serviceIdentifier:";K.NOT_REGISTERED="No matching bindings found for serviceIdentifier:";K.MISSING_INJECTABLE_ANNOTATION="Missing required @injectable annotation in:";K.MISSING_INJECT_ANNOTATION="Missing required @inject or @multiInject annotation in:";var tG=function(r){return"@inject called with undefined this could mean that the class "+r+" has a circular dependency problem. You can use a LazyServiceIdentifier to  overcome this limitation."};K.UNDEFINED_INJECT_ANNOTATION=tG;K.CIRCULAR_DEPENDENCY="Circular dependency found:";K.NOT_IMPLEMENTED="Sorry, this feature is not fully implemented yet.";K.INVALID_BINDING_TYPE="Invalid binding type:";K.NO_MORE_SNAPSHOTS_AVAILABLE="No snapshot available to restore.";K.INVALID_MIDDLEWARE_RETURN="Invalid return type in middleware. Middleware must return!";K.INVALID_FUNCTION_BINDING="Value provided to function binding must be a function!";var rG=function(r){return"You are attempting to construct '"+r+`' in a synchronous way
 but it has asynchronous dependencies.`};K.LAZY_IN_SYNC=rG;K.INVALID_TO_SELF_VALUE="The toSelf function can only be applied when a constructor is used as service identifier";K.INVALID_DECORATOR_OPERATION="The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.";var nG=function(){for(var r=[],e=0;e<arguments.length;e++)r[e]=arguments[e];return"The number of constructor arguments in the derived class "+(r[0]+" must be >= than the number of constructor arguments of its base class.")};K.ARGUMENTS_LENGTH_MISMATCH=nG;K.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT="Invalid Container constructor argument. Container options must be an object.";K.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE='Invalid Container option. Default scope must be a string ("singleton" or "transient").';K.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE="Invalid Container option. Auto bind injectable must be a boolean";K.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK="Invalid Container option. Skip base check must be a boolean";K.MULTIPLE_PRE_DESTROY_METHODS="Cannot apply @preDestroy decorator multiple times in the same class";K.MULTIPLE_POST_CONSTRUCT_METHODS="Cannot apply @postConstruct decorator multiple times in the same class";K.ASYNC_UNBIND_REQUIRED="Attempting to unbind dependency with asynchronous destruction (@preDestroy or onDeactivation)";var iG=function(r,e){return"@postConstruct error in class "+r+": "+e};K.POST_CONSTRUCT_ERROR=iG;var oG=function(r,e){return"@preDestroy error in class "+r+": "+e};K.PRE_DESTROY_ERROR=oG;var sG=function(r,e){return"onDeactivation() error in class "+r+": "+e};K.ON_DEACTIVATION_ERROR=sG;var aG=function(r,e){return"It looks like there is a circular dependency in one of the '"+r+"' bindings. Please investigate bindings with "+("service identifier '"+e+"'.")};K.CIRCULAR_DEPENDENCY_IN_FACTORY=aG;K.STACK_OVERFLOW="Maximum call stack size exceeded"});var z_=v(di=>{"use strict";var cG=di&&di.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uG=di&&di.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lG=di&&di.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cG(e,r,t);return uG(e,r),e};Object.defineProperty(di,"__esModule",{value:!0});di.MetadataReader=void 0;var G_=lG(bt()),pG=function(){function r(){}return r.prototype.getConstructorMetadata=function(e){var t=Reflect.getMetadata(G_.PARAM_TYPES,e),n=Reflect.getMetadata(G_.TAGGED,e);return{compilerGeneratedMetadata:t,userGeneratedMetadata:n||{}}},r.prototype.getPropertiesMetadata=function(e){var t=Reflect.getMetadata(G_.TAGGED_PROP,e)||[];return t},r}();di.MetadataReader=pG});var WR=v(Rm=>{"use strict";Object.defineProperty(Rm,"__esModule",{value:!0});Rm.BindingCount=void 0;Rm.BindingCount={MultipleBindingsAvailable:2,NoBindingsAvailable:0,OnlyOneBindingAvailable:1}});var K_=v(dn=>{"use strict";var dG=dn&&dn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),fG=dn&&dn.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),hG=dn&&dn.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&dG(e,r,t);return fG(e,r),e};Object.defineProperty(dn,"__esModule",{value:!0});dn.tryAndThrowErrorIfStackOverflow=dn.isStackOverflowExeption=void 0;var mG=hG(nr());function VR(r){return r instanceof RangeError||r.message===mG.STACK_OVERFLOW}dn.isStackOverflowExeption=VR;var gG=function(r,e){try{return r()}catch(t){throw VR(t)&&(t=e()),t}};dn.tryAndThrowErrorIfStackOverflow=gG});var wa=v(vt=>{"use strict";var yG=vt&&vt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),bG=vt&&vt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),vG=vt&&vt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&yG(e,r,t);return bG(e,r),e};Object.defineProperty(vt,"__esModule",{value:!0});vt.getSymbolDescription=vt.circularDependencyToException=vt.listMetadataForTarget=vt.listRegisteredBindingsForServiceIdentifier=vt.getServiceIdentifierAsString=vt.getFunctionName=void 0;var wG=vG(nr());function $R(r){if(typeof r=="function"){var e=r;return e.name}else{if(typeof r=="symbol")return r.toString();var e=r;return e}}vt.getServiceIdentifierAsString=$R;function SG(r,e,t){var n="",i=t(r,e);return i.length!==0&&(n=`
Registered bindings:`,i.forEach(function(o){var s="Object";o.implementationType!==null&&(s=zR(o.implementationType)),n=n+`
 `+s,o.constraint.metaData&&(n=n+" - "+o.constraint.metaData)})),n}vt.listRegisteredBindingsForServiceIdentifier=SG;function HR(r,e){return r.parentRequest===null?!1:r.parentRequest.serviceIdentifier===e?!0:HR(r.parentRequest,e)}function _G(r){function e(n,i){i===void 0&&(i=[]);var o=$R(n.serviceIdentifier);return i.push(o),n.parentRequest!==null?e(n.parentRequest,i):i}var t=e(r);return t.reverse().join(" --> ")}function GR(r){r.childRequests.forEach(function(e){if(HR(e,e.serviceIdentifier)){var t=_G(e);throw new Error(wG.CIRCULAR_DEPENDENCY+" "+t)}else GR(e)})}vt.circularDependencyToException=GR;function IG(r,e){if(e.isTagged()||e.isNamed()){var t="",n=e.getNamedTag(),i=e.getCustomTags();return n!==null&&(t+=n.toString()+`
`),i!==null&&i.forEach(function(o){t+=o.toString()+`
`})," "+r+`
 `+r+" - "+t}else return" "+r}vt.listMetadataForTarget=IG;function zR(r){if(r.name)return r.name;var e=r.toString(),t=e.match(/^function\s*([^\s(]+)/);return t?t[1]:"Anonymous function: "+e}vt.getFunctionName=zR;function xG(r){return r.toString().slice(7,-1)}vt.getSymbolDescription=xG});var KR=v(Am=>{"use strict";Object.defineProperty(Am,"__esModule",{value:!0});Am.Context=void 0;var TG=rs(),CG=function(){function r(e){this.id=(0,TG.id)(),this.container=e}return r.prototype.addPlan=function(e){this.plan=e},r.prototype.setCurrentRequest=function(e){this.currentRequest=e},r}();Am.Context=CG});var Gn=v(fi=>{"use strict";var PG=fi&&fi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),EG=fi&&fi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),kG=fi&&fi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&PG(e,r,t);return EG(e,r),e};Object.defineProperty(fi,"__esModule",{value:!0});fi.Metadata=void 0;var RG=kG(bt()),AG=function(){function r(e,t){this.key=e,this.value=t}return r.prototype.toString=function(){return this.key===RG.NAMED_TAG?"named: "+String(this.value).toString()+" ":"tagged: { key:"+this.key.toString()+", value: "+String(this.value)+" }"},r}();fi.Metadata=AG});var JR=v(Dm=>{"use strict";Object.defineProperty(Dm,"__esModule",{value:!0});Dm.Plan=void 0;var DG=function(){function r(e,t){this.parentContext=e,this.rootRequest=t}return r}();Dm.Plan=DG});var Mm=v(Om=>{"use strict";Object.defineProperty(Om,"__esModule",{value:!0});Om.LazyServiceIdentifier=void 0;var OG=function(){function r(e){this._cb=e}return r.prototype.unwrap=function(){return this._cb()},r}();Om.LazyServiceIdentifier=OG});var YR=v(Lm=>{"use strict";Object.defineProperty(Lm,"__esModule",{value:!0});Lm.QueryableString=void 0;var MG=function(){function r(e){this.str=e}return r.prototype.startsWith=function(e){return this.str.indexOf(e)===0},r.prototype.endsWith=function(e){var t="",n=e.split("").reverse().join("");return t=this.str.split("").reverse().join(""),this.startsWith.call({str:t},n)},r.prototype.contains=function(e){return this.str.indexOf(e)!==-1},r.prototype.equals=function(e){return this.str===e},r.prototype.value=function(){return this.str},r}();Lm.QueryableString=MG});var J_=v(hi=>{"use strict";var LG=hi&&hi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),NG=hi&&hi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),FG=hi&&hi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&LG(e,r,t);return NG(e,r),e};Object.defineProperty(hi,"__esModule",{value:!0});hi.Target=void 0;var ho=FG(bt()),BG=rs(),jG=wa(),XR=Gn(),UG=YR(),qG=function(){function r(e,t,n,i){this.id=(0,BG.id)(),this.type=e,this.serviceIdentifier=n;var o=typeof t=="symbol"?(0,jG.getSymbolDescription)(t):t;this.name=new UG.QueryableString(o||""),this.identifier=t,this.metadata=new Array;var s=null;typeof i=="string"?s=new XR.Metadata(ho.NAMED_TAG,i):i instanceof XR.Metadata&&(s=i),s!==null&&this.metadata.push(s)}return r.prototype.hasTag=function(e){for(var t=0,n=this.metadata;t<n.length;t++){var i=n[t];if(i.key===e)return!0}return!1},r.prototype.isArray=function(){return this.hasTag(ho.MULTI_INJECT_TAG)},r.prototype.matchesArray=function(e){return this.matchesTag(ho.MULTI_INJECT_TAG)(e)},r.prototype.isNamed=function(){return this.hasTag(ho.NAMED_TAG)},r.prototype.isTagged=function(){return this.metadata.some(function(e){return ho.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})})},r.prototype.isOptional=function(){return this.matchesTag(ho.OPTIONAL_TAG)(!0)},r.prototype.getNamedTag=function(){return this.isNamed()?this.metadata.filter(function(e){return e.key===ho.NAMED_TAG})[0]:null},r.prototype.getCustomTags=function(){return this.isTagged()?this.metadata.filter(function(e){return ho.NON_CUSTOM_TAG_KEYS.every(function(t){return e.key!==t})}):null},r.prototype.matchesNamedTag=function(e){return this.matchesTag(ho.NAMED_TAG)(e)},r.prototype.matchesTag=function(e){var t=this;return function(n){for(var i=0,o=t.metadata;i<o.length;i++){var s=o[i];if(s.key===e&&s.value===n)return!0}return!1}},r}();hi.Target=qG});var oA=v(ir=>{"use strict";var WG=ir&&ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),VG=ir&&ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),QR=ir&&ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&WG(e,r,t);return VG(e,r),e},Nm=ir&&ir.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(ir,"__esModule",{value:!0});ir.getFunctionName=ir.getBaseClassDependencyCount=ir.getDependencies=void 0;var $G=Mm(),Y_=QR(nr()),ZR=pn(),_d=QR(bt()),X_=wa();Object.defineProperty(ir,"getFunctionName",{enumerable:!0,get:function(){return X_.getFunctionName}});var eA=J_();function HG(r,e){var t=(0,X_.getFunctionName)(e);return tA(r,t,e,!1)}ir.getDependencies=HG;function tA(r,e,t,n){var i=r.getConstructorMetadata(t),o=i.compilerGeneratedMetadata;if(o===void 0){var s=Y_.MISSING_INJECTABLE_ANNOTATION+" "+e+".";throw new Error(s)}var a=i.userGeneratedMetadata,c=Object.keys(a),u=t.length===0&&c.length>0,l=c.length>t.length,p=u||l?c.length:t.length,d=zG(n,e,o,a,p),f=rA(r,t,e),h=Nm(Nm([],d,!0),f,!0);return h}function GG(r,e,t,n,i){var o=i[r.toString()]||[],s=iA(o),a=s.unmanaged!==!0,c=n[r],u=s.inject||s.multiInject;if(c=u||c,c instanceof $G.LazyServiceIdentifier&&(c=c.unwrap()),a){var l=c===Object,p=c===Function,d=c===void 0,f=l||p||d;if(!e&&f){var h=Y_.MISSING_INJECT_ANNOTATION+" argument "+r+" in class "+t+".";throw new Error(h)}var g=new eA.Target(ZR.TargetTypeEnum.ConstructorArgument,s.targetName,c);return g.metadata=o,g}return null}function zG(r,e,t,n,i){for(var o=[],s=0;s<i;s++){var a=s,c=GG(a,r,e,t,n);c!==null&&o.push(c)}return o}function KG(r,e,t,n){var i=r||e;if(i===void 0){var o=Y_.MISSING_INJECTABLE_ANNOTATION+" for property "+String(t)+" in class "+n+".";throw new Error(o)}return i}function rA(r,e,t){for(var n=r.getPropertiesMetadata(e),i=[],o=Object.getOwnPropertySymbols(n),s=Object.keys(n),a=s.concat(o),c=0,u=a;c<u.length;c++){var l=u[c],p=n[l],d=iA(p),f=d.targetName||l,h=KG(d.inject,d.multiInject,l,t),g=new eA.Target(ZR.TargetTypeEnum.ClassProperty,f,h);g.metadata=p,i.push(g)}var b=Object.getPrototypeOf(e.prototype).constructor;if(b!==Object){var I=rA(r,b,t);i=Nm(Nm([],i,!0),I,!0)}return i}function nA(r,e){var t=Object.getPrototypeOf(e.prototype).constructor;if(t!==Object){var n=(0,X_.getFunctionName)(t),i=tA(r,n,t,!0),o=i.map(function(c){return c.metadata.filter(function(u){return u.key===_d.UNMANAGED_TAG})}),s=[].concat.apply([],o).length,a=i.length-s;return a>0?a:nA(r,t)}else return 0}ir.getBaseClassDependencyCount=nA;function iA(r){var e={};return r.forEach(function(t){e[t.key.toString()]=t.value}),{inject:e[_d.INJECT_TAG],multiInject:e[_d.MULTI_INJECT_TAG],targetName:e[_d.NAME_TAG],unmanaged:e[_d.UNMANAGED_TAG]}}});var sA=v(Fm=>{"use strict";Object.defineProperty(Fm,"__esModule",{value:!0});Fm.Request=void 0;var JG=rs(),YG=function(){function r(e,t,n,i,o){this.id=(0,JG.id)(),this.serviceIdentifier=e,this.parentContext=t,this.parentRequest=n,this.target=o,this.childRequests=[],this.bindings=Array.isArray(i)?i:[i],this.requestScope=n===null?new Map:null}return r.prototype.addChildRequest=function(e,t,n){var i=new r(e,this.parentContext,this,t,n);return this.childRequests.push(i),i},r}();Fm.Request=YG});var rI=v(_r=>{"use strict";var XG=_r&&_r.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),QG=_r&&_r.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),uA=_r&&_r.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&XG(e,r,t);return QG(e,r),e};Object.defineProperty(_r,"__esModule",{value:!0});_r.getBindingDictionary=_r.createMockRequest=_r.plan=void 0;var Bm=WR(),Z_=uA(nr()),lA=pn(),aA=uA(bt()),ZG=K_(),Zc=wa(),pA=KR(),eI=Gn(),e6=JR(),Q_=oA(),tI=sA(),dA=J_();function fA(r){return r._bindingDictionary}_r.getBindingDictionary=fA;function t6(r,e,t,n,i,o){var s=r?aA.MULTI_INJECT_TAG:aA.INJECT_TAG,a=new eI.Metadata(s,t),c=new dA.Target(e,n,t,a);if(i!==void 0){var u=new eI.Metadata(i,o);c.metadata.push(u)}return c}function cA(r,e,t,n,i){var o=Id(t.container,i.serviceIdentifier),s=[];return o.length===Bm.BindingCount.NoBindingsAvailable&&t.container.options.autoBindInjectable&&typeof i.serviceIdentifier=="function"&&r.getConstructorMetadata(i.serviceIdentifier).compilerGeneratedMetadata&&(t.container.bind(i.serviceIdentifier).toSelf(),o=Id(t.container,i.serviceIdentifier)),e?s=o:s=o.filter(function(a){var c=new tI.Request(a.serviceIdentifier,t,n,a,i);return a.constraint(c)}),r6(i.serviceIdentifier,s,i,t.container),s}function r6(r,e,t,n){switch(e.length){case Bm.BindingCount.NoBindingsAvailable:if(t.isOptional())return e;var i=(0,Zc.getServiceIdentifierAsString)(r),o=Z_.NOT_REGISTERED;throw o+=(0,Zc.listMetadataForTarget)(i,t),o+=(0,Zc.listRegisteredBindingsForServiceIdentifier)(n,i,Id),new Error(o);case Bm.BindingCount.OnlyOneBindingAvailable:return e;case Bm.BindingCount.MultipleBindingsAvailable:default:if(t.isArray())return e;var i=(0,Zc.getServiceIdentifierAsString)(r),o=Z_.AMBIGUOUS_MATCH+" "+i;throw o+=(0,Zc.listRegisteredBindingsForServiceIdentifier)(n,i,Id),new Error(o)}}function hA(r,e,t,n,i,o){var s,a;if(i===null){s=cA(r,e,n,null,o),a=new tI.Request(t,n,null,s,o);var c=new e6.Plan(n,a);n.addPlan(c)}else s=cA(r,e,n,i,o),a=i.addChildRequest(o.serviceIdentifier,s,o);s.forEach(function(u){var l=null;if(o.isArray())l=a.addChildRequest(u.serviceIdentifier,u,o);else{if(u.cache)return;l=a}if(u.type===lA.BindingTypeEnum.Instance&&u.implementationType!==null){var p=(0,Q_.getDependencies)(r,u.implementationType);if(!n.container.options.skipBaseClassChecks){var d=(0,Q_.getBaseClassDependencyCount)(r,u.implementationType);if(p.length<d){var f=Z_.ARGUMENTS_LENGTH_MISMATCH((0,Q_.getFunctionName)(u.implementationType));throw new Error(f)}}p.forEach(function(h){hA(r,!1,h.serviceIdentifier,n,l,h)})}})}function Id(r,e){var t=[],n=fA(r);return n.hasKey(e)?t=n.get(e):r.parent!==null&&(t=Id(r.parent,e)),t}function n6(r,e,t,n,i,o,s,a){a===void 0&&(a=!1);var c=new pA.Context(e),u=t6(t,n,i,"",o,s);try{return hA(r,a,i,c,null,u),c}catch(l){throw(0,ZG.isStackOverflowExeption)(l)&&(0,Zc.circularDependencyToException)(c.plan.rootRequest),l}}_r.plan=n6;function i6(r,e,t,n){var i=new dA.Target(lA.TargetTypeEnum.Variable,"",e,new eI.Metadata(t,n)),o=new pA.Context(r),s=new tI.Request(e,o,null,[],i);return s}_r.createMockRequest=i6});var xd=v(eu=>{"use strict";Object.defineProperty(eu,"__esModule",{value:!0});eu.isPromiseOrContainsPromise=eu.isPromise=void 0;function nI(r){var e=typeof r=="object"&&r!==null||typeof r=="function";return e&&typeof r.then=="function"}eu.isPromise=nI;function o6(r){return nI(r)?!0:Array.isArray(r)&&r.some(nI)}eu.isPromiseOrContainsPromise=o6});var mA=v(mi=>{"use strict";var s6=mi&&mi.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},a6=mi&&mi.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(mi,"__esModule",{value:!0});mi.saveToScope=mi.tryGetFromScope=void 0;var jm=pn(),c6=xd(),u6=function(r,e){return e.scope===jm.BindingScopeEnum.Singleton&&e.activated?e.cache:e.scope===jm.BindingScopeEnum.Request&&r.has(e.id)?r.get(e.id):null};mi.tryGetFromScope=u6;var l6=function(r,e,t){e.scope===jm.BindingScopeEnum.Singleton&&d6(e,t),e.scope===jm.BindingScopeEnum.Request&&p6(r,e,t)};mi.saveToScope=l6;var p6=function(r,e,t){r.has(e.id)||r.set(e.id,t)},d6=function(r,e){r.cache=e,r.activated=!0,(0,c6.isPromise)(e)&&f6(r,e)},f6=function(r,e){return s6(void 0,void 0,void 0,function(){var t,n;return a6(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return t=i.sent(),r.cache=t,[3,3];case 2:throw n=i.sent(),r.cache=null,r.activated=!1,n;case 3:return[2]}})})}});var gA=v(Td=>{"use strict";Object.defineProperty(Td,"__esModule",{value:!0});Td.FactoryType=void 0;var h6;(function(r){r.DynamicValue="toDynamicValue",r.Factory="toFactory",r.Provider="toProvider"})(h6=Td.FactoryType||(Td.FactoryType={}))});var oI=v(Ir=>{"use strict";var m6=Ir&&Ir.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),g6=Ir&&Ir.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y6=Ir&&Ir.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&m6(e,r,t);return g6(e,r),e};Object.defineProperty(Ir,"__esModule",{value:!0});Ir.getFactoryDetails=Ir.ensureFullyBound=Ir.multiBindToService=void 0;var b6=wa(),v6=y6(nr()),gi=pn(),iI=gA(),w6=function(r){return function(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];return t.forEach(function(i){return r.bind(i).toService(e)})}}};Ir.multiBindToService=w6;var S6=function(r){var e=null;switch(r.type){case gi.BindingTypeEnum.ConstantValue:case gi.BindingTypeEnum.Function:e=r.cache;break;case gi.BindingTypeEnum.Constructor:case gi.BindingTypeEnum.Instance:e=r.implementationType;break;case gi.BindingTypeEnum.DynamicValue:e=r.dynamicValue;break;case gi.BindingTypeEnum.Provider:e=r.provider;break;case gi.BindingTypeEnum.Factory:e=r.factory;break}if(e===null){var t=(0,b6.getServiceIdentifierAsString)(r.serviceIdentifier);throw new Error(v6.INVALID_BINDING_TYPE+" "+t)}};Ir.ensureFullyBound=S6;var _6=function(r){switch(r.type){case gi.BindingTypeEnum.Factory:return{factory:r.factory,factoryType:iI.FactoryType.Factory};case gi.BindingTypeEnum.Provider:return{factory:r.provider,factoryType:iI.FactoryType.Provider};case gi.BindingTypeEnum.DynamicValue:return{factory:r.dynamicValue,factoryType:iI.FactoryType.DynamicValue};default:throw new Error("Unexpected factory type "+r.type)}};Ir.getFactoryDetails=_6});var _A=v(Dt=>{"use strict";var tu=Dt&&Dt.__assign||function(){return tu=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},tu.apply(this,arguments)},I6=Dt&&Dt.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),x6=Dt&&Dt.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),T6=Dt&&Dt.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&I6(e,r,t);return x6(e,r),e},vA=Dt&&Dt.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},wA=Dt&&Dt.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},C6=Dt&&Dt.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Dt,"__esModule",{value:!0});Dt.resolveInstance=void 0;var sI=nr(),cI=pn(),aI=T6(bt()),uI=xd();function P6(r,e){return r.reduce(function(t,n){var i=e(n),o=n.target.type;return o===cI.TargetTypeEnum.ConstructorArgument?t.constructorInjections.push(i):(t.propertyRequests.push(n),t.propertyInjections.push(i)),t.isAsync||(t.isAsync=(0,uI.isPromiseOrContainsPromise)(i)),t},{constructorInjections:[],propertyInjections:[],propertyRequests:[],isAsync:!1})}function E6(r,e,t){var n;if(e.length>0){var i=P6(e,t),o=tu(tu({},i),{constr:r});i.isAsync?n=k6(o):n=SA(o)}else n=new r;return n}function SA(r){var e,t=new((e=r.constr).bind.apply(e,C6([void 0],r.constructorInjections,!1)));return r.propertyRequests.forEach(function(n,i){var o=n.target.identifier,s=r.propertyInjections[i];(!n.target.isOptional()||s!==void 0)&&(t[o]=s)}),t}function k6(r){return vA(this,void 0,void 0,function(){var e,t;return wA(this,function(n){switch(n.label){case 0:return[4,yA(r.constructorInjections)];case 1:return e=n.sent(),[4,yA(r.propertyInjections)];case 2:return t=n.sent(),[2,SA(tu(tu({},r),{constructorInjections:e,propertyInjections:t}))]}})})}function yA(r){return vA(this,void 0,void 0,function(){var e,t,n,i;return wA(this,function(o){for(e=[],t=0,n=r;t<n.length;t++)i=n[t],Array.isArray(i)?e.push(Promise.all(i)):e.push(i);return[2,Promise.all(e)]})})}function bA(r,e){var t=R6(r,e);return(0,uI.isPromise)(t)?t.then(function(){return e}):e}function R6(r,e){var t,n;if(Reflect.hasMetadata(aI.POST_CONSTRUCT,r)){var i=Reflect.getMetadata(aI.POST_CONSTRUCT,r);try{return(n=(t=e)[i.value])===null||n===void 0?void 0:n.call(t)}catch(o){if(o instanceof Error)throw new Error((0,sI.POST_CONSTRUCT_ERROR)(r.name,o.message))}}}function A6(r,e){r.scope!==cI.BindingScopeEnum.Singleton&&D6(r,e)}function D6(r,e){var t="Class cannot be instantiated in "+(r.scope===cI.BindingScopeEnum.Request?"request":"transient")+" scope.";if(typeof r.onDeactivation=="function")throw new Error((0,sI.ON_DEACTIVATION_ERROR)(e.name,t));if(Reflect.hasMetadata(aI.PRE_DESTROY,e))throw new Error((0,sI.PRE_DESTROY_ERROR)(e.name,t))}function O6(r,e,t,n){A6(r,e);var i=E6(e,t,n);return(0,uI.isPromise)(i)?i.then(function(o){return bA(e,o)}):bA(e,i)}Dt.resolveInstance=O6});var PA=v(xr=>{"use strict";var M6=xr&&xr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),L6=xr&&xr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),N6=xr&&xr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&M6(e,r,t);return L6(e,r),e},F6=xr&&xr.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},B6=xr&&xr.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}};Object.defineProperty(xr,"__esModule",{value:!0});xr.resolve=void 0;var j6=N6(nr()),Um=pn(),U6=rI(),IA=mA(),lI=xd(),TA=oI(),q6=K_(),W6=_A(),pI=function(r){return function(e){e.parentContext.setCurrentRequest(e);var t=e.bindings,n=e.childRequests,i=e.target&&e.target.isArray(),o=!e.parentRequest||!e.parentRequest.target||!e.target||!e.parentRequest.target.matchesArray(e.target.serviceIdentifier);if(i&&o)return n.map(function(a){var c=pI(r);return c(a)});if(e.target.isOptional()&&t.length===0)return;var s=t[0];return G6(r,e,s)}},V6=function(r,e){var t=(0,TA.getFactoryDetails)(r);return(0,q6.tryAndThrowErrorIfStackOverflow)(function(){return t.factory.bind(r)(e)},function(){return new Error(j6.CIRCULAR_DEPENDENCY_IN_FACTORY(t.factoryType,e.currentRequest.serviceIdentifier.toString()))})},$6=function(r,e,t){var n,i=e.childRequests;switch((0,TA.ensureFullyBound)(t),t.type){case Um.BindingTypeEnum.ConstantValue:case Um.BindingTypeEnum.Function:n=t.cache;break;case Um.BindingTypeEnum.Constructor:n=t.implementationType;break;case Um.BindingTypeEnum.Instance:n=(0,W6.resolveInstance)(t,t.implementationType,i,pI(r));break;default:n=V6(t,e.parentContext)}return n},H6=function(r,e,t){var n=(0,IA.tryGetFromScope)(r,e);return n!==null||(n=t(),(0,IA.saveToScope)(r,e,n)),n},G6=function(r,e,t){return H6(r,t,function(){var n=$6(r,e,t);return(0,lI.isPromise)(n)?n=n.then(function(i){return xA(e,t,i)}):n=xA(e,t,n),n})};function xA(r,e,t){var n=z6(r.parentContext,e,t),i=Y6(r.parentContext.container),o,s=i.next();do{o=s.value;var a=r.parentContext,c=r.serviceIdentifier,u=J6(o,c);(0,lI.isPromise)(n)?n=CA(u,a,n):n=K6(u,a,n),s=i.next()}while(s.done!==!0&&!(0,U6.getBindingDictionary)(o).hasKey(r.serviceIdentifier));return n}var z6=function(r,e,t){var n;return typeof e.onActivation=="function"?n=e.onActivation(r,t):n=t,n},K6=function(r,e,t){for(var n=r.next();!n.done;){if(t=n.value(e,t),(0,lI.isPromise)(t))return CA(r,e,t);n=r.next()}return t},CA=function(r,e,t){return F6(void 0,void 0,void 0,function(){var n,i;return B6(this,function(o){switch(o.label){case 0:return[4,t];case 1:n=o.sent(),i=r.next(),o.label=2;case 2:return i.done?[3,4]:[4,i.value(e,n)];case 3:return n=o.sent(),i=r.next(),[3,2];case 4:return[2,n]}})})},J6=function(r,e){var t=r._activations;return t.hasKey(e)?t.get(e).values():[].values()},Y6=function(r){for(var e=[r],t=r.parent;t!==null;)e.push(t),t=t.parent;var n=function(){var o=e.pop();return o!==void 0?{done:!1,value:o}:{done:!0,value:void 0}},i={next:n};return i};function X6(r){var e=pI(r.plan.rootRequest.requestScope);return e(r.plan.rootRequest)}xr.resolve=X6});var dI=v(or=>{"use strict";var Q6=or&&or.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Z6=or&&or.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),ez=or&&or.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Q6(e,r,t);return Z6(e,r),e};Object.defineProperty(or,"__esModule",{value:!0});or.typeConstraint=or.namedConstraint=or.taggedConstraint=or.traverseAncerstors=void 0;var tz=ez(bt()),rz=Gn(),EA=function(r,e){var t=r.parentRequest;return t!==null?e(t)?!0:EA(t,e):!1};or.traverseAncerstors=EA;var kA=function(r){return function(e){var t=function(n){return n!==null&&n.target!==null&&n.target.matchesTag(r)(e)};return t.metaData=new rz.Metadata(r,e),t}};or.taggedConstraint=kA;var nz=kA(tz.NAMED_TAG);or.namedConstraint=nz;var iz=function(r){return function(e){var t=null;if(e!==null)if(t=e.bindings[0],typeof r=="string"){var n=t.serviceIdentifier;return n===r}else{var i=e.bindings[0].implementationType;return r===i}return!1}};or.typeConstraint=iz});var Wm=v(qm=>{"use strict";Object.defineProperty(qm,"__esModule",{value:!0});qm.BindingWhenSyntax=void 0;var fr=Vm(),Et=dI(),oz=function(){function r(e){this._binding=e}return r.prototype.when=function(e){return this._binding.constraint=e,new fr.BindingOnSyntax(this._binding)},r.prototype.whenTargetNamed=function(e){return this._binding.constraint=(0,Et.namedConstraint)(e),new fr.BindingOnSyntax(this._binding)},r.prototype.whenTargetIsDefault=function(){return this._binding.constraint=function(e){if(e===null)return!1;var t=e.target!==null&&!e.target.isNamed()&&!e.target.isTagged();return t},new fr.BindingOnSyntax(this._binding)},r.prototype.whenTargetTagged=function(e,t){return this._binding.constraint=(0,Et.taggedConstraint)(e)(t),new fr.BindingOnSyntax(this._binding)},r.prototype.whenInjectedInto=function(e){return this._binding.constraint=function(t){return t!==null&&(0,Et.typeConstraint)(e)(t.parentRequest)},new fr.BindingOnSyntax(this._binding)},r.prototype.whenParentNamed=function(e){return this._binding.constraint=function(t){return t!==null&&(0,Et.namedConstraint)(e)(t.parentRequest)},new fr.BindingOnSyntax(this._binding)},r.prototype.whenParentTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&(0,Et.taggedConstraint)(e)(t)(n.parentRequest)},new fr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorIs=function(e){return this._binding.constraint=function(t){return t!==null&&(0,Et.traverseAncerstors)(t,(0,Et.typeConstraint)(e))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorIs=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,Et.traverseAncerstors)(t,(0,Et.typeConstraint)(e))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorNamed=function(e){return this._binding.constraint=function(t){return t!==null&&(0,Et.traverseAncerstors)(t,(0,Et.namedConstraint)(e))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorNamed=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,Et.traverseAncerstors)(t,(0,Et.namedConstraint)(e))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&(0,Et.traverseAncerstors)(n,(0,Et.taggedConstraint)(e)(t))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorTagged=function(e,t){return this._binding.constraint=function(n){return n!==null&&!(0,Et.traverseAncerstors)(n,(0,Et.taggedConstraint)(e)(t))},new fr.BindingOnSyntax(this._binding)},r.prototype.whenAnyAncestorMatches=function(e){return this._binding.constraint=function(t){return t!==null&&(0,Et.traverseAncerstors)(t,e)},new fr.BindingOnSyntax(this._binding)},r.prototype.whenNoAncestorMatches=function(e){return this._binding.constraint=function(t){return t!==null&&!(0,Et.traverseAncerstors)(t,e)},new fr.BindingOnSyntax(this._binding)},r}();qm.BindingWhenSyntax=oz});var Vm=v($m=>{"use strict";Object.defineProperty($m,"__esModule",{value:!0});$m.BindingOnSyntax=void 0;var RA=Wm(),sz=function(){function r(e){this._binding=e}return r.prototype.onActivation=function(e){return this._binding.onActivation=e,new RA.BindingWhenSyntax(this._binding)},r.prototype.onDeactivation=function(e){return this._binding.onDeactivation=e,new RA.BindingWhenSyntax(this._binding)},r}();$m.BindingOnSyntax=sz});var fI=v(Hm=>{"use strict";Object.defineProperty(Hm,"__esModule",{value:!0});Hm.BindingWhenOnSyntax=void 0;var az=Vm(),cz=Wm(),uz=function(){function r(e){this._binding=e,this._bindingWhenSyntax=new cz.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new az.BindingOnSyntax(this._binding)}return r.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},r.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},r.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},r.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},r.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},r.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},r.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},r.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},r.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},r.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},r.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},r.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},r.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},r.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},r}();Hm.BindingWhenOnSyntax=uz});var AA=v(Gm=>{"use strict";Object.defineProperty(Gm,"__esModule",{value:!0});Gm.BindingInSyntax=void 0;var hI=pn(),mI=fI(),lz=function(){function r(e){this._binding=e}return r.prototype.inRequestScope=function(){return this._binding.scope=hI.BindingScopeEnum.Request,new mI.BindingWhenOnSyntax(this._binding)},r.prototype.inSingletonScope=function(){return this._binding.scope=hI.BindingScopeEnum.Singleton,new mI.BindingWhenOnSyntax(this._binding)},r.prototype.inTransientScope=function(){return this._binding.scope=hI.BindingScopeEnum.Transient,new mI.BindingWhenOnSyntax(this._binding)},r}();Gm.BindingInSyntax=lz});var DA=v(zm=>{"use strict";Object.defineProperty(zm,"__esModule",{value:!0});zm.BindingInWhenOnSyntax=void 0;var pz=AA(),dz=Vm(),fz=Wm(),hz=function(){function r(e){this._binding=e,this._bindingWhenSyntax=new fz.BindingWhenSyntax(this._binding),this._bindingOnSyntax=new dz.BindingOnSyntax(this._binding),this._bindingInSyntax=new pz.BindingInSyntax(e)}return r.prototype.inRequestScope=function(){return this._bindingInSyntax.inRequestScope()},r.prototype.inSingletonScope=function(){return this._bindingInSyntax.inSingletonScope()},r.prototype.inTransientScope=function(){return this._bindingInSyntax.inTransientScope()},r.prototype.when=function(e){return this._bindingWhenSyntax.when(e)},r.prototype.whenTargetNamed=function(e){return this._bindingWhenSyntax.whenTargetNamed(e)},r.prototype.whenTargetIsDefault=function(){return this._bindingWhenSyntax.whenTargetIsDefault()},r.prototype.whenTargetTagged=function(e,t){return this._bindingWhenSyntax.whenTargetTagged(e,t)},r.prototype.whenInjectedInto=function(e){return this._bindingWhenSyntax.whenInjectedInto(e)},r.prototype.whenParentNamed=function(e){return this._bindingWhenSyntax.whenParentNamed(e)},r.prototype.whenParentTagged=function(e,t){return this._bindingWhenSyntax.whenParentTagged(e,t)},r.prototype.whenAnyAncestorIs=function(e){return this._bindingWhenSyntax.whenAnyAncestorIs(e)},r.prototype.whenNoAncestorIs=function(e){return this._bindingWhenSyntax.whenNoAncestorIs(e)},r.prototype.whenAnyAncestorNamed=function(e){return this._bindingWhenSyntax.whenAnyAncestorNamed(e)},r.prototype.whenAnyAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenAnyAncestorTagged(e,t)},r.prototype.whenNoAncestorNamed=function(e){return this._bindingWhenSyntax.whenNoAncestorNamed(e)},r.prototype.whenNoAncestorTagged=function(e,t){return this._bindingWhenSyntax.whenNoAncestorTagged(e,t)},r.prototype.whenAnyAncestorMatches=function(e){return this._bindingWhenSyntax.whenAnyAncestorMatches(e)},r.prototype.whenNoAncestorMatches=function(e){return this._bindingWhenSyntax.whenNoAncestorMatches(e)},r.prototype.onActivation=function(e){return this._bindingOnSyntax.onActivation(e)},r.prototype.onDeactivation=function(e){return this._bindingOnSyntax.onDeactivation(e)},r}();zm.BindingInWhenOnSyntax=hz});var LA=v(yi=>{"use strict";var mz=yi&&yi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),gz=yi&&yi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),yz=yi&&yi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&mz(e,r,t);return gz(e,r),e};Object.defineProperty(yi,"__esModule",{value:!0});yi.BindingToSyntax=void 0;var OA=yz(nr()),hr=pn(),MA=DA(),ru=fI(),bz=function(){function r(e){this._binding=e}return r.prototype.to=function(e){return this._binding.type=hr.BindingTypeEnum.Instance,this._binding.implementationType=e,new MA.BindingInWhenOnSyntax(this._binding)},r.prototype.toSelf=function(){if(typeof this._binding.serviceIdentifier!="function")throw new Error(""+OA.INVALID_TO_SELF_VALUE);var e=this._binding.serviceIdentifier;return this.to(e)},r.prototype.toConstantValue=function(e){return this._binding.type=hr.BindingTypeEnum.ConstantValue,this._binding.cache=e,this._binding.dynamicValue=null,this._binding.implementationType=null,this._binding.scope=hr.BindingScopeEnum.Singleton,new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toDynamicValue=function(e){return this._binding.type=hr.BindingTypeEnum.DynamicValue,this._binding.cache=null,this._binding.dynamicValue=e,this._binding.implementationType=null,new MA.BindingInWhenOnSyntax(this._binding)},r.prototype.toConstructor=function(e){return this._binding.type=hr.BindingTypeEnum.Constructor,this._binding.implementationType=e,this._binding.scope=hr.BindingScopeEnum.Singleton,new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toFactory=function(e){return this._binding.type=hr.BindingTypeEnum.Factory,this._binding.factory=e,this._binding.scope=hr.BindingScopeEnum.Singleton,new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toFunction=function(e){if(typeof e!="function")throw new Error(OA.INVALID_FUNCTION_BINDING);var t=this.toConstantValue(e);return this._binding.type=hr.BindingTypeEnum.Function,this._binding.scope=hr.BindingScopeEnum.Singleton,t},r.prototype.toAutoFactory=function(e){return this._binding.type=hr.BindingTypeEnum.Factory,this._binding.factory=function(t){var n=function(){return t.container.get(e)};return n},this._binding.scope=hr.BindingScopeEnum.Singleton,new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toAutoNamedFactory=function(e){return this._binding.type=hr.BindingTypeEnum.Factory,this._binding.factory=function(t){return function(n){return t.container.getNamed(e,n)}},new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toProvider=function(e){return this._binding.type=hr.BindingTypeEnum.Provider,this._binding.provider=e,this._binding.scope=hr.BindingScopeEnum.Singleton,new ru.BindingWhenOnSyntax(this._binding)},r.prototype.toService=function(e){this.toDynamicValue(function(t){return t.container.get(e)})},r}();yi.BindingToSyntax=bz});var NA=v(Km=>{"use strict";Object.defineProperty(Km,"__esModule",{value:!0});Km.ContainerSnapshot=void 0;var vz=function(){function r(){}return r.of=function(e,t,n,i,o){var s=new r;return s.bindings=e,s.middleware=t,s.deactivations=i,s.activations=n,s.moduleActivationStore=o,s},r}();Km.ContainerSnapshot=vz});var FA=v(Jm=>{"use strict";Object.defineProperty(Jm,"__esModule",{value:!0});Jm.isClonable=void 0;function wz(r){return typeof r=="object"&&r!==null&&"clone"in r&&typeof r.clone=="function"}Jm.isClonable=wz});var gI=v(bi=>{"use strict";var Sz=bi&&bi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_z=bi&&bi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),Iz=bi&&bi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Sz(e,r,t);return _z(e,r),e};Object.defineProperty(bi,"__esModule",{value:!0});bi.Lookup=void 0;var Sa=Iz(nr()),xz=FA(),Tz=function(){function r(){this._map=new Map}return r.prototype.getMap=function(){return this._map},r.prototype.add=function(e,t){if(e==null)throw new Error(Sa.NULL_ARGUMENT);if(t==null)throw new Error(Sa.NULL_ARGUMENT);var n=this._map.get(e);n!==void 0?n.push(t):this._map.set(e,[t])},r.prototype.get=function(e){if(e==null)throw new Error(Sa.NULL_ARGUMENT);var t=this._map.get(e);if(t!==void 0)return t;throw new Error(Sa.KEY_NOT_FOUND)},r.prototype.remove=function(e){if(e==null)throw new Error(Sa.NULL_ARGUMENT);if(!this._map.delete(e))throw new Error(Sa.KEY_NOT_FOUND)},r.prototype.removeIntersection=function(e){var t=this;this.traverse(function(n,i){var o=e.hasKey(n)?e.get(n):void 0;if(o!==void 0){var s=i.filter(function(a){return!o.some(function(c){return a===c})});t._setValue(n,s)}})},r.prototype.removeByCondition=function(e){var t=this,n=[];return this._map.forEach(function(i,o){for(var s=[],a=0,c=i;a<c.length;a++){var u=c[a],l=e(u);l?n.push(u):s.push(u)}t._setValue(o,s)}),n},r.prototype.hasKey=function(e){if(e==null)throw new Error(Sa.NULL_ARGUMENT);return this._map.has(e)},r.prototype.clone=function(){var e=new r;return this._map.forEach(function(t,n){t.forEach(function(i){return e.add(n,(0,xz.isClonable)(i)?i.clone():i)})}),e},r.prototype.traverse=function(e){this._map.forEach(function(t,n){e(n,t)})},r.prototype._setValue=function(e,t){t.length>0?this._map.set(e,t):this._map.delete(e)},r}();bi.Lookup=Tz});var jA=v(Ym=>{"use strict";Object.defineProperty(Ym,"__esModule",{value:!0});Ym.ModuleActivationStore=void 0;var BA=gI(),Cz=function(){function r(){this._map=new Map}return r.prototype.remove=function(e){if(this._map.has(e)){var t=this._map.get(e);return this._map.delete(e),t}return this._getEmptyHandlersStore()},r.prototype.addDeactivation=function(e,t,n){this._getModuleActivationHandlers(e).onDeactivations.add(t,n)},r.prototype.addActivation=function(e,t,n){this._getModuleActivationHandlers(e).onActivations.add(t,n)},r.prototype.clone=function(){var e=new r;return this._map.forEach(function(t,n){e._map.set(n,{onActivations:t.onActivations.clone(),onDeactivations:t.onDeactivations.clone()})}),e},r.prototype._getModuleActivationHandlers=function(e){var t=this._map.get(e);return t===void 0&&(t=this._getEmptyHandlersStore(),this._map.set(e,t)),t},r.prototype._getEmptyHandlersStore=function(){var e={onActivations:new BA.Lookup,onDeactivations:new BA.Lookup};return e},r}();Ym.ModuleActivationStore=Cz});var qA=v(Ot=>{"use strict";var Qm=Ot&&Ot.__assign||function(){return Qm=Object.assign||function(r){for(var e,t=1,n=arguments.length;t<n;t++){e=arguments[t];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}return r},Qm.apply(this,arguments)},Pz=Ot&&Ot.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Ez=Ot&&Ot.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),UA=Ot&&Ot.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Pz(e,r,t);return Ez(e,r),e},fn=Ot&&Ot.__awaiter||function(r,e,t,n){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(l){try{u(n.next(l))}catch(p){s(p)}}function c(l){try{u(n.throw(l))}catch(p){s(p)}}function u(l){l.done?o(l.value):i(l.value).then(a,c)}u((n=n.apply(r,e||[])).next())})},hn=Ot&&Ot.__generator||function(r,e){var t={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(u){return function(l){return c([u,l])}}function c(u){if(n)throw new TypeError("Generator is already executing.");for(;t;)try{if(n=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return t.label++,{value:u[1],done:!1};case 5:t.label++,i=u[1],u=[0];continue;case 7:u=t.ops.pop(),t.trys.pop();continue;default:if(o=t.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){t=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){t.label=u[1];break}if(u[0]===6&&t.label<o[1]){t.label=o[1],o=u;break}if(o&&t.label<o[2]){t.label=o[2],t.ops.push(u);break}o[2]&&t.ops.pop(),t.trys.pop();continue}u=e.call(r,t)}catch(l){u=[6,l],i=0}finally{n=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}},kz=Ot&&Ot.__spreadArray||function(r,e,t){if(t||arguments.length===2)for(var n=0,i=e.length,o;n<i;n++)(o||!(n in e))&&(o||(o=Array.prototype.slice.call(e,0,n)),o[n]=e[n]);return r.concat(o||Array.prototype.slice.call(e))};Object.defineProperty(Ot,"__esModule",{value:!0});Ot.Container=void 0;var Rz=qR(),zn=UA(nr()),nu=pn(),_a=UA(bt()),Az=z_(),Xm=rI(),Dz=PA(),Oz=LA(),Ia=xd(),Mz=rs(),Lz=wa(),Nz=NA(),Cd=gI(),Fz=jA(),Bz=function(){function r(e){var t=e||{};if(typeof t!="object")throw new Error(""+zn.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);if(t.defaultScope===void 0)t.defaultScope=nu.BindingScopeEnum.Transient;else if(t.defaultScope!==nu.BindingScopeEnum.Singleton&&t.defaultScope!==nu.BindingScopeEnum.Transient&&t.defaultScope!==nu.BindingScopeEnum.Request)throw new Error(""+zn.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);if(t.autoBindInjectable===void 0)t.autoBindInjectable=!1;else if(typeof t.autoBindInjectable!="boolean")throw new Error(""+zn.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);if(t.skipBaseClassChecks===void 0)t.skipBaseClassChecks=!1;else if(typeof t.skipBaseClassChecks!="boolean")throw new Error(""+zn.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);this.options={autoBindInjectable:t.autoBindInjectable,defaultScope:t.defaultScope,skipBaseClassChecks:t.skipBaseClassChecks},this.id=(0,Mz.id)(),this._bindingDictionary=new Cd.Lookup,this._snapshots=[],this._middleware=null,this._activations=new Cd.Lookup,this._deactivations=new Cd.Lookup,this.parent=null,this._metadataReader=new Az.MetadataReader,this._moduleActivationStore=new Fz.ModuleActivationStore}return r.merge=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var o=new r,s=kz([e,t],n,!0).map(function(u){return(0,Xm.getBindingDictionary)(u)}),a=(0,Xm.getBindingDictionary)(o);function c(u,l){u.traverse(function(p,d){d.forEach(function(f){l.add(f.serviceIdentifier,f.clone())})})}return s.forEach(function(u){c(u,a)}),o},r.prototype.load=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n=this._getContainerModuleHelpersFactory(),i=0,o=e;i<o.length;i++){var s=o[i],a=n(s.id);s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)}},r.prototype.loadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fn(this,void 0,void 0,function(){var n,i,o,s,a;return hn(this,function(c){switch(c.label){case 0:n=this._getContainerModuleHelpersFactory(),i=0,o=e,c.label=1;case 1:return i<o.length?(s=o[i],a=n(s.id),[4,s.registry(a.bindFunction,a.unbindFunction,a.isboundFunction,a.rebindFunction,a.unbindAsyncFunction,a.onActivationFunction,a.onDeactivationFunction)]):[3,4];case 2:c.sent(),c.label=3;case 3:return i++,[3,1];case 4:return[2]}})})},r.prototype.unload=function(){for(var e=this,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];t.forEach(function(i){var o=e._removeModuleBindings(i.id);e._deactivateSingletons(o),e._removeModuleHandlers(i.id)})},r.prototype.unloadAsync=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return fn(this,void 0,void 0,function(){var n,i,o,s;return hn(this,function(a){switch(a.label){case 0:n=0,i=e,a.label=1;case 1:return n<i.length?(o=i[n],s=this._removeModuleBindings(o.id),[4,this._deactivateSingletonsAsync(s)]):[3,4];case 2:a.sent(),this._removeModuleHandlers(o.id),a.label=3;case 3:return n++,[3,1];case 4:return[2]}})})},r.prototype.bind=function(e){var t=this.options.defaultScope||nu.BindingScopeEnum.Transient,n=new Rz.Binding(e,t);return this._bindingDictionary.add(e,n),new Oz.BindingToSyntax(n)},r.prototype.rebind=function(e){return this.unbind(e),this.bind(e)},r.prototype.rebindAsync=function(e){return fn(this,void 0,void 0,function(){return hn(this,function(t){switch(t.label){case 0:return[4,this.unbindAsync(e)];case 1:return t.sent(),[2,this.bind(e)]}})})},r.prototype.unbind=function(e){if(this._bindingDictionary.hasKey(e)){var t=this._bindingDictionary.get(e);this._deactivateSingletons(t)}this._removeServiceFromDictionary(e)},r.prototype.unbindAsync=function(e){return fn(this,void 0,void 0,function(){var t;return hn(this,function(n){switch(n.label){case 0:return this._bindingDictionary.hasKey(e)?(t=this._bindingDictionary.get(e),[4,this._deactivateSingletonsAsync(t)]):[3,2];case 1:n.sent(),n.label=2;case 2:return this._removeServiceFromDictionary(e),[2]}})})},r.prototype.unbindAll=function(){var e=this;this._bindingDictionary.traverse(function(t,n){e._deactivateSingletons(n)}),this._bindingDictionary=new Cd.Lookup},r.prototype.unbindAllAsync=function(){return fn(this,void 0,void 0,function(){var e,t=this;return hn(this,function(n){switch(n.label){case 0:return e=[],this._bindingDictionary.traverse(function(i,o){e.push(t._deactivateSingletonsAsync(o))}),[4,Promise.all(e)];case 1:return n.sent(),this._bindingDictionary=new Cd.Lookup,[2]}})})},r.prototype.onActivation=function(e,t){this._activations.add(e,t)},r.prototype.onDeactivation=function(e,t){this._deactivations.add(e,t)},r.prototype.isBound=function(e){var t=this._bindingDictionary.hasKey(e);return!t&&this.parent&&(t=this.parent.isBound(e)),t},r.prototype.isCurrentBound=function(e){return this._bindingDictionary.hasKey(e)},r.prototype.isBoundNamed=function(e,t){return this.isBoundTagged(e,_a.NAMED_TAG,t)},r.prototype.isBoundTagged=function(e,t,n){var i=!1;if(this._bindingDictionary.hasKey(e)){var o=this._bindingDictionary.get(e),s=(0,Xm.createMockRequest)(this,e,t,n);i=o.some(function(a){return a.constraint(s)})}return!i&&this.parent&&(i=this.parent.isBoundTagged(e,t,n)),i},r.prototype.snapshot=function(){this._snapshots.push(Nz.ContainerSnapshot.of(this._bindingDictionary.clone(),this._middleware,this._activations.clone(),this._deactivations.clone(),this._moduleActivationStore.clone()))},r.prototype.restore=function(){var e=this._snapshots.pop();if(e===void 0)throw new Error(zn.NO_MORE_SNAPSHOTS_AVAILABLE);this._bindingDictionary=e.bindings,this._activations=e.activations,this._deactivations=e.deactivations,this._middleware=e.middleware,this._moduleActivationStore=e.moduleActivationStore},r.prototype.createChild=function(e){var t=new r(e||this.options);return t.parent=this,t},r.prototype.applyMiddleware=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=this._middleware?this._middleware:this._planAndResolve();this._middleware=e.reduce(function(i,o){return o(i)},n)},r.prototype.applyCustomMetadataReader=function(e){this._metadataReader=e},r.prototype.get=function(e){var t=this._getNotAllArgs(e,!1);return this._getButThrowIfAsync(t)},r.prototype.getAsync=function(e){return fn(this,void 0,void 0,function(){var t;return hn(this,function(n){return t=this._getNotAllArgs(e,!1),[2,this._get(t)]})})},r.prototype.getTagged=function(e,t,n){var i=this._getNotAllArgs(e,!1,t,n);return this._getButThrowIfAsync(i)},r.prototype.getTaggedAsync=function(e,t,n){return fn(this,void 0,void 0,function(){var i;return hn(this,function(o){return i=this._getNotAllArgs(e,!1,t,n),[2,this._get(i)]})})},r.prototype.getNamed=function(e,t){return this.getTagged(e,_a.NAMED_TAG,t)},r.prototype.getNamedAsync=function(e,t){return this.getTaggedAsync(e,_a.NAMED_TAG,t)},r.prototype.getAll=function(e){var t=this._getAllArgs(e);return this._getButThrowIfAsync(t)},r.prototype.getAllAsync=function(e){var t=this._getAllArgs(e);return this._getAll(t)},r.prototype.getAllTagged=function(e,t,n){var i=this._getNotAllArgs(e,!0,t,n);return this._getButThrowIfAsync(i)},r.prototype.getAllTaggedAsync=function(e,t,n){var i=this._getNotAllArgs(e,!0,t,n);return this._getAll(i)},r.prototype.getAllNamed=function(e,t){return this.getAllTagged(e,_a.NAMED_TAG,t)},r.prototype.getAllNamedAsync=function(e,t){return this.getAllTaggedAsync(e,_a.NAMED_TAG,t)},r.prototype.resolve=function(e){var t=this.isBound(e);t||this.bind(e).toSelf();var n=this.get(e);return t||this.unbind(e),n},r.prototype._preDestroy=function(e,t){var n,i;if(Reflect.hasMetadata(_a.PRE_DESTROY,e)){var o=Reflect.getMetadata(_a.PRE_DESTROY,e);return(i=(n=t)[o.value])===null||i===void 0?void 0:i.call(n)}},r.prototype._removeModuleHandlers=function(e){var t=this._moduleActivationStore.remove(e);this._activations.removeIntersection(t.onActivations),this._deactivations.removeIntersection(t.onDeactivations)},r.prototype._removeModuleBindings=function(e){return this._bindingDictionary.removeByCondition(function(t){return t.moduleId===e})},r.prototype._deactivate=function(e,t){var n=this,i=Object.getPrototypeOf(t).constructor;try{if(this._deactivations.hasKey(e.serviceIdentifier)){var o=this._deactivateContainer(t,this._deactivations.get(e.serviceIdentifier).values());if((0,Ia.isPromise)(o))return this._handleDeactivationError(o.then(function(){return n._propagateContainerDeactivationThenBindingAndPreDestroyAsync(e,t,i)}),i)}var s=this._propagateContainerDeactivationThenBindingAndPreDestroy(e,t,i);if((0,Ia.isPromise)(s))return this._handleDeactivationError(s,i)}catch(a){if(a instanceof Error)throw new Error(zn.ON_DEACTIVATION_ERROR(i.name,a.message))}},r.prototype._handleDeactivationError=function(e,t){return fn(this,void 0,void 0,function(){var n;return hn(this,function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,e];case 1:return i.sent(),[3,3];case 2:if(n=i.sent(),n instanceof Error)throw new Error(zn.ON_DEACTIVATION_ERROR(t.name,n.message));return[3,3];case 3:return[2]}})})},r.prototype._deactivateContainer=function(e,t){for(var n=this,i=t.next();i.value;){var o=i.value(e);if((0,Ia.isPromise)(o))return o.then(function(){return n._deactivateContainerAsync(e,t)});i=t.next()}},r.prototype._deactivateContainerAsync=function(e,t){return fn(this,void 0,void 0,function(){var n;return hn(this,function(i){switch(i.label){case 0:n=t.next(),i.label=1;case 1:return n.value?[4,n.value(e)]:[3,3];case 2:return i.sent(),n=t.next(),[3,1];case 3:return[2]}})})},r.prototype._getContainerModuleHelpersFactory=function(){var e=this,t=function(l,p){l._binding.moduleId=p},n=function(l){return function(p){var d=e.bind(p);return t(d,l),d}},i=function(){return function(l){return e.unbind(l)}},o=function(){return function(l){return e.unbindAsync(l)}},s=function(){return function(l){return e.isBound(l)}},a=function(l){return function(p){var d=e.rebind(p);return t(d,l),d}},c=function(l){return function(p,d){e._moduleActivationStore.addActivation(l,p,d),e.onActivation(p,d)}},u=function(l){return function(p,d){e._moduleActivationStore.addDeactivation(l,p,d),e.onDeactivation(p,d)}};return function(l){return{bindFunction:n(l),isboundFunction:s(),onActivationFunction:c(l),onDeactivationFunction:u(l),rebindFunction:a(l),unbindFunction:i(),unbindAsyncFunction:o()}}},r.prototype._getAll=function(e){return Promise.all(this._get(e))},r.prototype._get=function(e){var t=Qm(Qm({},e),{contextInterceptor:function(i){return i},targetType:nu.TargetTypeEnum.Variable});if(this._middleware){var n=this._middleware(t);if(n==null)throw new Error(zn.INVALID_MIDDLEWARE_RETURN);return n}return this._planAndResolve()(t)},r.prototype._getButThrowIfAsync=function(e){var t=this._get(e);if((0,Ia.isPromiseOrContainsPromise)(t))throw new Error(zn.LAZY_IN_SYNC(e.serviceIdentifier));return t},r.prototype._getAllArgs=function(e){var t={avoidConstraints:!0,isMultiInject:!0,serviceIdentifier:e};return t},r.prototype._getNotAllArgs=function(e,t,n,i){var o={avoidConstraints:!1,isMultiInject:t,serviceIdentifier:e,key:n,value:i};return o},r.prototype._planAndResolve=function(){var e=this;return function(t){var n=(0,Xm.plan)(e._metadataReader,e,t.isMultiInject,t.targetType,t.serviceIdentifier,t.key,t.value,t.avoidConstraints);n=t.contextInterceptor(n);var i=(0,Dz.resolve)(n);return i}},r.prototype._deactivateIfSingleton=function(e){var t=this;if(e.activated)return(0,Ia.isPromise)(e.cache)?e.cache.then(function(n){return t._deactivate(e,n)}):this._deactivate(e,e.cache)},r.prototype._deactivateSingletons=function(e){for(var t=0,n=e;t<n.length;t++){var i=n[t],o=this._deactivateIfSingleton(i);if((0,Ia.isPromise)(o))throw new Error(zn.ASYNC_UNBIND_REQUIRED)}},r.prototype._deactivateSingletonsAsync=function(e){return fn(this,void 0,void 0,function(){var t=this;return hn(this,function(n){switch(n.label){case 0:return[4,Promise.all(e.map(function(i){return t._deactivateIfSingleton(i)}))];case 1:return n.sent(),[2]}})})},r.prototype._propagateContainerDeactivationThenBindingAndPreDestroy=function(e,t,n){return this.parent?this._deactivate.bind(this.parent)(e,t):this._bindingDeactivationAndPreDestroy(e,t,n)},r.prototype._propagateContainerDeactivationThenBindingAndPreDestroyAsync=function(e,t,n){return fn(this,void 0,void 0,function(){return hn(this,function(i){switch(i.label){case 0:return this.parent?[4,this._deactivate.bind(this.parent)(e,t)]:[3,2];case 1:return i.sent(),[3,4];case 2:return[4,this._bindingDeactivationAndPreDestroyAsync(e,t,n)];case 3:i.sent(),i.label=4;case 4:return[2]}})})},r.prototype._removeServiceFromDictionary=function(e){try{this._bindingDictionary.remove(e)}catch{throw new Error(zn.CANNOT_UNBIND+" "+(0,Lz.getServiceIdentifierAsString)(e))}},r.prototype._bindingDeactivationAndPreDestroy=function(e,t,n){var i=this;if(typeof e.onDeactivation=="function"){var o=e.onDeactivation(t);if((0,Ia.isPromise)(o))return o.then(function(){return i._preDestroy(n,t)})}return this._preDestroy(n,t)},r.prototype._bindingDeactivationAndPreDestroyAsync=function(e,t,n){return fn(this,void 0,void 0,function(){return hn(this,function(i){switch(i.label){case 0:return typeof e.onDeactivation!="function"?[3,2]:[4,e.onDeactivation(t)];case 1:i.sent(),i.label=2;case 2:return[4,this._preDestroy(n,t)];case 3:return i.sent(),[2]}})})},r}();Ot.Container=Bz});var VA=v(iu=>{"use strict";Object.defineProperty(iu,"__esModule",{value:!0});iu.AsyncContainerModule=iu.ContainerModule=void 0;var WA=rs(),jz=function(){function r(e){this.id=(0,WA.id)(),this.registry=e}return r}();iu.ContainerModule=jz;var Uz=function(){function r(e){this.id=(0,WA.id)(),this.registry=e}return r}();iu.AsyncContainerModule=Uz});var $A=v(Zm=>{"use strict";Object.defineProperty(Zm,"__esModule",{value:!0});Zm.getFirstArrayDuplicate=void 0;function qz(r){for(var e=new Set,t=0,n=r;t<n.length;t++){var i=n[t];if(e.has(i))return i;e.add(i)}}Zm.getFirstArrayDuplicate=qz});var mo=v(sr=>{"use strict";var Wz=sr&&sr.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Vz=sr&&sr.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),GA=sr&&sr.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Wz(e,r,t);return Vz(e,r),e};Object.defineProperty(sr,"__esModule",{value:!0});sr.createTaggedDecorator=sr.tagProperty=sr.tagParameter=sr.decorate=void 0;var eg=GA(nr()),zA=GA(bt()),$z=$A();function Hz(r){return r.prototype!==void 0}function Gz(r){if(r!==void 0)throw new Error(eg.INVALID_DECORATOR_OPERATION)}function KA(r,e,t,n){Gz(e),YA(zA.TAGGED,r,t.toString(),n)}sr.tagParameter=KA;function JA(r,e,t){if(Hz(r))throw new Error(eg.INVALID_DECORATOR_OPERATION);YA(zA.TAGGED_PROP,r.constructor,e,t)}sr.tagProperty=JA;function zz(r){var e=[];if(Array.isArray(r)){e=r;var t=(0,$z.getFirstArrayDuplicate)(e.map(function(n){return n.key}));if(t!==void 0)throw new Error(eg.DUPLICATED_METADATA+" "+t.toString())}else e=[r];return e}function YA(r,e,t,n){var i=zz(n),o={};Reflect.hasOwnMetadata(r,e)&&(o=Reflect.getMetadata(r,e));var s=o[t];if(s===void 0)s=[];else for(var a=function(p){if(i.some(function(d){return d.key===p.key}))throw new Error(eg.DUPLICATED_METADATA+" "+p.key.toString())},c=0,u=s;c<u.length;c++){var l=u[c];a(l)}s.push.apply(s,i),o[t]=s,Reflect.defineMetadata(r,o,e)}function Kz(r){return function(e,t,n){typeof n=="number"?KA(e,t,n,r):JA(e,t,r)}}sr.createTaggedDecorator=Kz;function HA(r,e){Reflect.decorate(r,e)}function Jz(r,e){return function(t,n){e(t,n,r)}}function Yz(r,e,t){typeof t=="number"?HA([Jz(t,r)],e):typeof t=="string"?Reflect.decorate([r],e,t):HA([r],e)}sr.decorate=Yz});var QA=v(vi=>{"use strict";var Xz=vi&&vi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qz=vi&&vi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),XA=vi&&vi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Xz(e,r,t);return Qz(e,r),e};Object.defineProperty(vi,"__esModule",{value:!0});vi.injectable=void 0;var Zz=XA(nr()),yI=XA(bt());function e8(){return function(r){if(Reflect.hasOwnMetadata(yI.PARAM_TYPES,r))throw new Error(Zz.DUPLICATED_INJECTABLE_DECORATOR);var e=Reflect.getMetadata(yI.DESIGN_PARAM_TYPES,r)||[];return Reflect.defineMetadata(yI.PARAM_TYPES,e,r),r}}vi.injectable=e8});var ZA=v(tg=>{"use strict";Object.defineProperty(tg,"__esModule",{value:!0});tg.tagged=void 0;var t8=Gn(),r8=mo();function n8(r,e){return(0,r8.createTaggedDecorator)(new t8.Metadata(r,e))}tg.tagged=n8});var eD=v(wi=>{"use strict";var i8=wi&&wi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),o8=wi&&wi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),s8=wi&&wi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&i8(e,r,t);return o8(e,r),e};Object.defineProperty(wi,"__esModule",{value:!0});wi.named=void 0;var a8=s8(bt()),c8=Gn(),u8=mo();function l8(r){return(0,u8.createTaggedDecorator)(new c8.Metadata(a8.NAMED_TAG,r))}wi.named=l8});var bI=v(rg=>{"use strict";Object.defineProperty(rg,"__esModule",{value:!0});rg.injectBase=void 0;var p8=nr(),d8=Gn(),f8=mo();function h8(r){return function(e){return function(t,n,i){if(e===void 0){var o=typeof t=="function"?t.name:t.constructor.name;throw new Error((0,p8.UNDEFINED_INJECT_ANNOTATION)(o))}return(0,f8.createTaggedDecorator)(new d8.Metadata(r,e))(t,n,i)}}}rg.injectBase=h8});var tD=v(Si=>{"use strict";var m8=Si&&Si.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),g8=Si&&Si.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),y8=Si&&Si.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&m8(e,r,t);return g8(e,r),e};Object.defineProperty(Si,"__esModule",{value:!0});Si.inject=void 0;var b8=y8(bt()),v8=bI(),w8=(0,v8.injectBase)(b8.INJECT_TAG);Si.inject=w8});var rD=v(_i=>{"use strict";var S8=_i&&_i.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),_8=_i&&_i.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),I8=_i&&_i.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&S8(e,r,t);return _8(e,r),e};Object.defineProperty(_i,"__esModule",{value:!0});_i.optional=void 0;var x8=I8(bt()),T8=Gn(),C8=mo();function P8(){return(0,C8.createTaggedDecorator)(new T8.Metadata(x8.OPTIONAL_TAG,!0))}_i.optional=P8});var nD=v(Ii=>{"use strict";var E8=Ii&&Ii.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),k8=Ii&&Ii.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),R8=Ii&&Ii.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&E8(e,r,t);return k8(e,r),e};Object.defineProperty(Ii,"__esModule",{value:!0});Ii.unmanaged=void 0;var A8=R8(bt()),D8=Gn(),O8=mo();function M8(){return function(r,e,t){var n=new D8.Metadata(A8.UNMANAGED_TAG,!0);(0,O8.tagParameter)(r,e,t,n)}}Ii.unmanaged=M8});var iD=v(xi=>{"use strict";var L8=xi&&xi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),N8=xi&&xi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),F8=xi&&xi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&L8(e,r,t);return N8(e,r),e};Object.defineProperty(xi,"__esModule",{value:!0});xi.multiInject=void 0;var B8=F8(bt()),j8=bI(),U8=(0,j8.injectBase)(B8.MULTI_INJECT_TAG);xi.multiInject=U8});var oD=v(Ti=>{"use strict";var q8=Ti&&Ti.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),W8=Ti&&Ti.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),V8=Ti&&Ti.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&q8(e,r,t);return W8(e,r),e};Object.defineProperty(Ti,"__esModule",{value:!0});Ti.targetName=void 0;var $8=V8(bt()),H8=Gn(),G8=mo();function z8(r){return function(e,t,n){var i=new H8.Metadata($8.NAME_TAG,r);(0,G8.tagParameter)(e,t,n,i)}}Ti.targetName=z8});var vI=v(ng=>{"use strict";Object.defineProperty(ng,"__esModule",{value:!0});ng.propertyEventDecorator=void 0;var K8=Gn();function J8(r,e){return function(){return function(t,n){var i=new K8.Metadata(r,n);if(Reflect.hasOwnMetadata(r,t.constructor))throw new Error(e);Reflect.defineMetadata(r,i,t.constructor)}}}ng.propertyEventDecorator=J8});var aD=v(Ci=>{"use strict";var Y8=Ci&&Ci.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),X8=Ci&&Ci.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),sD=Ci&&Ci.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&Y8(e,r,t);return X8(e,r),e};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.postConstruct=void 0;var Q8=sD(nr()),Z8=sD(bt()),eK=vI(),tK=(0,eK.propertyEventDecorator)(Z8.POST_CONSTRUCT,Q8.MULTIPLE_POST_CONSTRUCT_METHODS);Ci.postConstruct=tK});var uD=v(Pi=>{"use strict";var rK=Pi&&Pi.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),nK=Pi&&Pi.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),cD=Pi&&Pi.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&rK(e,r,t);return nK(e,r),e};Object.defineProperty(Pi,"__esModule",{value:!0});Pi.preDestroy=void 0;var iK=cD(nr()),oK=cD(bt()),sK=vI(),aK=(0,sK.propertyEventDecorator)(oK.PRE_DESTROY,iK.MULTIPLE_PRE_DESTROY_METHODS);Pi.preDestroy=aK});var lD=v(ig=>{"use strict";Object.defineProperty(ig,"__esModule",{value:!0});ig.interfaces=void 0;var wI;wI||(wI={});ig.interfaces=wI});var N=v(z=>{"use strict";var cK=z&&z.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),uK=z&&z.__setModuleDefault||(Object.create?function(r,e){Object.defineProperty(r,"default",{enumerable:!0,value:e})}:function(r,e){r.default=e}),lK=z&&z.__importStar||function(r){if(r&&r.__esModule)return r;var e={};if(r!=null)for(var t in r)t!=="default"&&Object.prototype.hasOwnProperty.call(r,t)&&cK(e,r,t);return uK(e,r),e};Object.defineProperty(z,"__esModule",{value:!0});z.multiBindToService=z.getServiceIdentifierAsString=z.typeConstraint=z.namedConstraint=z.taggedConstraint=z.traverseAncerstors=z.decorate=z.interfaces=z.id=z.MetadataReader=z.preDestroy=z.postConstruct=z.targetName=z.multiInject=z.unmanaged=z.optional=z.LazyServiceIdentifer=z.LazyServiceIdentifier=z.inject=z.named=z.tagged=z.injectable=z.createTaggedDecorator=z.ContainerModule=z.AsyncContainerModule=z.TargetTypeEnum=z.BindingTypeEnum=z.BindingScopeEnum=z.Container=z.METADATA_KEY=void 0;var pK=lK(bt());z.METADATA_KEY=pK;var dK=qA();Object.defineProperty(z,"Container",{enumerable:!0,get:function(){return dK.Container}});var SI=pn();Object.defineProperty(z,"BindingScopeEnum",{enumerable:!0,get:function(){return SI.BindingScopeEnum}});Object.defineProperty(z,"BindingTypeEnum",{enumerable:!0,get:function(){return SI.BindingTypeEnum}});Object.defineProperty(z,"TargetTypeEnum",{enumerable:!0,get:function(){return SI.TargetTypeEnum}});var pD=VA();Object.defineProperty(z,"AsyncContainerModule",{enumerable:!0,get:function(){return pD.AsyncContainerModule}});Object.defineProperty(z,"ContainerModule",{enumerable:!0,get:function(){return pD.ContainerModule}});var fK=mo();Object.defineProperty(z,"createTaggedDecorator",{enumerable:!0,get:function(){return fK.createTaggedDecorator}});var hK=QA();Object.defineProperty(z,"injectable",{enumerable:!0,get:function(){return hK.injectable}});var mK=ZA();Object.defineProperty(z,"tagged",{enumerable:!0,get:function(){return mK.tagged}});var gK=eD();Object.defineProperty(z,"named",{enumerable:!0,get:function(){return gK.named}});var yK=tD();Object.defineProperty(z,"inject",{enumerable:!0,get:function(){return yK.inject}});var bK=Mm();Object.defineProperty(z,"LazyServiceIdentifier",{enumerable:!0,get:function(){return bK.LazyServiceIdentifier}});var vK=Mm();Object.defineProperty(z,"LazyServiceIdentifer",{enumerable:!0,get:function(){return vK.LazyServiceIdentifier}});var wK=rD();Object.defineProperty(z,"optional",{enumerable:!0,get:function(){return wK.optional}});var SK=nD();Object.defineProperty(z,"unmanaged",{enumerable:!0,get:function(){return SK.unmanaged}});var _K=iD();Object.defineProperty(z,"multiInject",{enumerable:!0,get:function(){return _K.multiInject}});var IK=oD();Object.defineProperty(z,"targetName",{enumerable:!0,get:function(){return IK.targetName}});var xK=aD();Object.defineProperty(z,"postConstruct",{enumerable:!0,get:function(){return xK.postConstruct}});var TK=uD();Object.defineProperty(z,"preDestroy",{enumerable:!0,get:function(){return TK.preDestroy}});var CK=z_();Object.defineProperty(z,"MetadataReader",{enumerable:!0,get:function(){return CK.MetadataReader}});var PK=rs();Object.defineProperty(z,"id",{enumerable:!0,get:function(){return PK.id}});var EK=lD();Object.defineProperty(z,"interfaces",{enumerable:!0,get:function(){return EK.interfaces}});var kK=mo();Object.defineProperty(z,"decorate",{enumerable:!0,get:function(){return kK.decorate}});var og=dI();Object.defineProperty(z,"traverseAncerstors",{enumerable:!0,get:function(){return og.traverseAncerstors}});Object.defineProperty(z,"taggedConstraint",{enumerable:!0,get:function(){return og.taggedConstraint}});Object.defineProperty(z,"namedConstraint",{enumerable:!0,get:function(){return og.namedConstraint}});Object.defineProperty(z,"typeConstraint",{enumerable:!0,get:function(){return og.typeConstraint}});var RK=wa();Object.defineProperty(z,"getServiceIdentifierAsString",{enumerable:!0,get:function(){return RK.getServiceIdentifierAsString}});var AK=oI();Object.defineProperty(z,"multiBindToService",{enumerable:!0,get:function(){return AK.multiBindToService}})});var fD=v(()=>{var dD;(function(r){(function(e){var t=typeof globalThis=="object"?globalThis:typeof global=="object"?global:typeof self=="object"?self:typeof this=="object"?this:a(),n=i(r);typeof t.Reflect<"u"&&(n=i(t.Reflect,n)),e(n,t),typeof t.Reflect>"u"&&(t.Reflect=r);function i(c,u){return function(l,p){Object.defineProperty(c,l,{configurable:!0,writable:!0,value:p}),u&&u(l,p)}}function o(){try{return Function("return this;")()}catch{}}function s(){try{return(0,eval)("(function() { return this; })()")}catch{}}function a(){return o()||s()}})(function(e,t){var n=Object.prototype.hasOwnProperty,i=typeof Symbol=="function",o=i&&typeof Symbol.toPrimitive<"u"?Symbol.toPrimitive:"@@toPrimitive",s=i&&typeof Symbol.iterator<"u"?Symbol.iterator:"@@iterator",a=typeof Object.create=="function",c={__proto__:[]}instanceof Array,u=!a&&!c,l={create:a?function(){return QS(Object.create(null))}:c?function(){return QS({__proto__:null})}:function(){return QS({})},has:u?function(_,C){return n.call(_,C)}:function(_,C){return C in _},get:u?function(_,C){return n.call(_,C)?_[C]:void 0}:function(_,C){return _[C]}},p=Object.getPrototypeOf(Function),d=typeof Map=="function"&&typeof Map.prototype.entries=="function"?Map:FH(),f=typeof Set=="function"&&typeof Set.prototype.entries=="function"?Set:BH(),h=typeof WeakMap=="function"?WeakMap:jH(),g=i?Symbol.for("@reflect-metadata:registry"):void 0,b=MH(),I=LH(b);function L(_,C,D,j){if(te(D)){if(!q(_))throw new TypeError;if(!Ve(C))throw new TypeError;return Pe(_,C)}else{if(!q(_))throw new TypeError;if(!Ne(C))throw new TypeError;if(!Ne(j)&&!te(j)&&!Yo(j))throw new TypeError;return Yo(j)&&(j=void 0),D=ye(D),we(_,C,D,j)}}e("decorate",L);function E(_,C){function D(j,ee){if(!Ne(j))throw new TypeError;if(!te(ee)&&!Gt(ee))throw new TypeError;le(_,C,j,ee)}return D}e("metadata",E);function B(_,C,D,j){if(!Ne(D))throw new TypeError;return te(j)||(j=ye(j)),le(_,C,D,j)}e("defineMetadata",B);function A(_,C,D){if(!Ne(C))throw new TypeError;return te(D)||(D=ye(D)),oe(_,C,D)}e("hasMetadata",A);function R(_,C,D){if(!Ne(C))throw new TypeError;return te(D)||(D=ye(D)),T(_,C,D)}e("hasOwnMetadata",R);function x(_,C,D){if(!Ne(C))throw new TypeError;return te(D)||(D=ye(D)),k(_,C,D)}e("getMetadata",x);function V(_,C,D){if(!Ne(C))throw new TypeError;return te(D)||(D=ye(D)),De(_,C,D)}e("getOwnMetadata",V);function ne(_,C){if(!Ne(_))throw new TypeError;return te(C)||(C=ye(C)),Br(_,C)}e("getMetadataKeys",ne);function Ie(_,C){if(!Ne(_))throw new TypeError;return te(C)||(C=ye(C)),jr(_,C)}e("getOwnMetadataKeys",Ie);function O(_,C,D){if(!Ne(C))throw new TypeError;if(te(D)||(D=ye(D)),!Ne(C))throw new TypeError;te(D)||(D=ye(D));var j=ad(C,D,!1);return te(j)?!1:j.OrdinaryDeleteMetadata(_,C,D)}e("deleteMetadata",O);function Pe(_,C){for(var D=_.length-1;D>=0;--D){var j=_[D],ee=j(C);if(!te(ee)&&!Yo(ee)){if(!Ve(ee))throw new TypeError;C=ee}}return C}function we(_,C,D,j){for(var ee=_.length-1;ee>=0;--ee){var pt=_[ee],Pt=pt(C,D,j);if(!te(Pt)&&!Yo(Pt)){if(!Ne(Pt))throw new TypeError;j=Pt}}return j}function oe(_,C,D){var j=T(_,C,D);if(j)return!0;var ee=XS(C);return Yo(ee)?!1:oe(_,ee,D)}function T(_,C,D){var j=ad(C,D,!1);return te(j)?!1:Hh(j.OrdinaryHasOwnMetadata(_,C,D))}function k(_,C,D){var j=T(_,C,D);if(j)return De(_,C,D);var ee=XS(C);if(!Yo(ee))return k(_,ee,D)}function De(_,C,D){var j=ad(C,D,!1);if(!te(j))return j.OrdinaryGetOwnMetadata(_,C,D)}function le(_,C,D,j){var ee=ad(D,j,!0);ee.OrdinaryDefineOwnMetadata(_,C,D,j)}function Br(_,C){var D=jr(_,C),j=XS(_);if(j===null)return D;var ee=Br(j,C);if(ee.length<=0)return D;if(D.length<=0)return ee;for(var pt=new f,Pt=[],me=0,$=D;me<$.length;me++){var Y=$[me],J=pt.has(Y);J||(pt.add(Y),Pt.push(Y))}for(var Q=0,be=ee;Q<be.length;Q++){var Y=be[Q],J=pt.has(Y);J||(pt.add(Y),Pt.push(Y))}return Pt}function jr(_,C){var D=ad(_,C,!1);return D?D.OrdinaryOwnMetadataKeys(_,C):[]}function er(_){if(_===null)return 1;switch(typeof _){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return _===null?1:6;default:return 6}}function te(_){return _===void 0}function Yo(_){return _===null}function qc(_){return typeof _=="symbol"}function Ne(_){return typeof _=="object"?_!==null:typeof _=="function"}function he(_,C){switch(er(_)){case 0:return _;case 1:return _;case 2:return _;case 3:return _;case 4:return _;case 5:return _}var D=C===3?"string":C===5?"number":"default",j=Vc(_,o);if(j!==void 0){var ee=j.call(_,D);if(Ne(ee))throw new TypeError;return ee}return Wc(_,D==="default"?"number":D)}function Wc(_,C){if(C==="string"){var D=_.toString;if(se(D)){var j=D.call(_);if(!Ne(j))return j}var ee=_.valueOf;if(se(ee)){var j=ee.call(_);if(!Ne(j))return j}}else{var ee=_.valueOf;if(se(ee)){var j=ee.call(_);if(!Ne(j))return j}var pt=_.toString;if(se(pt)){var j=pt.call(_);if(!Ne(j))return j}}throw new TypeError}function Hh(_){return!!_}function G(_){return""+_}function ye(_){var C=he(_,3);return qc(C)?C:G(C)}function q(_){return Array.isArray?Array.isArray(_):_ instanceof Object?_ instanceof Array:Object.prototype.toString.call(_)==="[object Array]"}function se(_){return typeof _=="function"}function Ve(_){return typeof _=="function"}function Gt(_){switch(er(_)){case 3:return!0;case 4:return!0;default:return!1}}function it(_,C){return _===C||_!==_&&C!==C}function Vc(_,C){var D=_[C];if(D!=null){if(!se(D))throw new TypeError;return D}}function ya(_){var C=Vc(_,s);if(!se(C))throw new TypeError;var D=C.call(_);if(!Ne(D))throw new TypeError;return D}function PE(_){return _.value}function EE(_){var C=_.next();return C.done?!1:C}function kE(_){var C=_.return;C&&C.call(_)}function XS(_){var C=Object.getPrototypeOf(_);if(typeof _!="function"||_===p||C!==p)return C;var D=_.prototype,j=D&&Object.getPrototypeOf(D);if(j==null||j===Object.prototype)return C;var ee=j.constructor;return typeof ee!="function"||ee===_?C:ee}function OH(){var _;!te(g)&&typeof t.Reflect<"u"&&!(g in t.Reflect)&&typeof t.Reflect.defineMetadata=="function"&&(_=NH(t.Reflect));var C,D,j,ee=new h,pt={registerProvider:Pt,getProvider:$,setProvider:J};return pt;function Pt(Q){if(!Object.isExtensible(pt))throw new Error("Cannot add provider to a frozen registry.");switch(!0){case _===Q:break;case te(C):C=Q;break;case C===Q:break;case te(D):D=Q;break;case D===Q:break;default:j===void 0&&(j=new f),j.add(Q);break}}function me(Q,be){if(!te(C)){if(C.isProviderFor(Q,be))return C;if(!te(D)){if(D.isProviderFor(Q,be))return C;if(!te(j))for(var ze=ya(j);;){var dt=EE(ze);if(!dt)return;var Wn=PE(dt);if(Wn.isProviderFor(Q,be))return kE(ze),Wn}}}if(!te(_)&&_.isProviderFor(Q,be))return _}function $(Q,be){var ze=ee.get(Q),dt;return te(ze)||(dt=ze.get(be)),te(dt)&&(dt=me(Q,be),te(dt)||(te(ze)&&(ze=new d,ee.set(Q,ze)),ze.set(be,dt))),dt}function Y(Q){if(te(Q))throw new TypeError;return C===Q||D===Q||!te(j)&&j.has(Q)}function J(Q,be,ze){if(!Y(ze))throw new Error("Metadata provider not registered.");var dt=$(Q,be);if(dt!==ze){if(!te(dt))return!1;var Wn=ee.get(Q);te(Wn)&&(Wn=new d,ee.set(Q,Wn)),Wn.set(be,ze)}return!0}}function MH(){var _;return!te(g)&&Ne(t.Reflect)&&Object.isExtensible(t.Reflect)&&(_=t.Reflect[g]),te(_)&&(_=OH()),!te(g)&&Ne(t.Reflect)&&Object.isExtensible(t.Reflect)&&Object.defineProperty(t.Reflect,g,{enumerable:!1,configurable:!1,writable:!1,value:_}),_}function LH(_){var C=new h,D={isProviderFor:function(Y,J){var Q=C.get(Y);return te(Q)?!1:Q.has(J)},OrdinaryDefineOwnMetadata:Pt,OrdinaryHasOwnMetadata:ee,OrdinaryGetOwnMetadata:pt,OrdinaryOwnMetadataKeys:me,OrdinaryDeleteMetadata:$};return b.registerProvider(D),D;function j(Y,J,Q){var be=C.get(Y),ze=!1;if(te(be)){if(!Q)return;be=new d,C.set(Y,be),ze=!0}var dt=be.get(J);if(te(dt)){if(!Q)return;if(dt=new d,be.set(J,dt),!_.setProvider(Y,J,D))throw be.delete(J),ze&&C.delete(Y),new Error("Wrong provider for target.")}return dt}function ee(Y,J,Q){var be=j(J,Q,!1);return te(be)?!1:Hh(be.has(Y))}function pt(Y,J,Q){var be=j(J,Q,!1);if(!te(be))return be.get(Y)}function Pt(Y,J,Q,be){var ze=j(Q,be,!0);ze.set(Y,J)}function me(Y,J){var Q=[],be=j(Y,J,!1);if(te(be))return Q;for(var ze=be.keys(),dt=ya(ze),Wn=0;;){var RE=EE(dt);if(!RE)return Q.length=Wn,Q;var UH=PE(RE);try{Q[Wn]=UH}catch(qH){try{kE(dt)}finally{throw qH}}Wn++}}function $(Y,J,Q){var be=j(J,Q,!1);if(te(be)||!be.delete(Y))return!1;if(be.size===0){var ze=C.get(J);te(ze)||(ze.delete(Q),ze.size===0&&C.delete(ze))}return!0}}function NH(_){var C=_.defineMetadata,D=_.hasOwnMetadata,j=_.getOwnMetadata,ee=_.getOwnMetadataKeys,pt=_.deleteMetadata,Pt=new h,me={isProviderFor:function($,Y){var J=Pt.get($);return te(J)?ee($,Y).length?(te(J)&&(J=new f,Pt.set($,J)),J.add(Y),!0):!1:J.has(Y)},OrdinaryDefineOwnMetadata:C,OrdinaryHasOwnMetadata:D,OrdinaryGetOwnMetadata:j,OrdinaryOwnMetadataKeys:ee,OrdinaryDeleteMetadata:pt};return me}function ad(_,C,D){var j=b.getProvider(_,C);if(!te(j))return j;if(D){if(b.setProvider(_,C,I))return I;throw new Error("Illegal state.")}}function FH(){var _={},C=[],D=function(){function me($,Y,J){this._index=0,this._keys=$,this._values=Y,this._selector=J}return me.prototype["@@iterator"]=function(){return this},me.prototype[s]=function(){return this},me.prototype.next=function(){var $=this._index;if($>=0&&$<this._keys.length){var Y=this._selector(this._keys[$],this._values[$]);return $+1>=this._keys.length?(this._index=-1,this._keys=C,this._values=C):this._index++,{value:Y,done:!1}}return{value:void 0,done:!0}},me.prototype.throw=function($){throw this._index>=0&&(this._index=-1,this._keys=C,this._values=C),$},me.prototype.return=function($){return this._index>=0&&(this._index=-1,this._keys=C,this._values=C),{value:$,done:!0}},me}(),j=function(){function me(){this._keys=[],this._values=[],this._cacheKey=_,this._cacheIndex=-2}return Object.defineProperty(me.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),me.prototype.has=function($){return this._find($,!1)>=0},me.prototype.get=function($){var Y=this._find($,!1);return Y>=0?this._values[Y]:void 0},me.prototype.set=function($,Y){var J=this._find($,!0);return this._values[J]=Y,this},me.prototype.delete=function($){var Y=this._find($,!1);if(Y>=0){for(var J=this._keys.length,Q=Y+1;Q<J;Q++)this._keys[Q-1]=this._keys[Q],this._values[Q-1]=this._values[Q];return this._keys.length--,this._values.length--,it($,this._cacheKey)&&(this._cacheKey=_,this._cacheIndex=-2),!0}return!1},me.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=_,this._cacheIndex=-2},me.prototype.keys=function(){return new D(this._keys,this._values,ee)},me.prototype.values=function(){return new D(this._keys,this._values,pt)},me.prototype.entries=function(){return new D(this._keys,this._values,Pt)},me.prototype["@@iterator"]=function(){return this.entries()},me.prototype[s]=function(){return this.entries()},me.prototype._find=function($,Y){if(!it(this._cacheKey,$)){this._cacheIndex=-1;for(var J=0;J<this._keys.length;J++)if(it(this._keys[J],$)){this._cacheIndex=J;break}}return this._cacheIndex<0&&Y&&(this._cacheIndex=this._keys.length,this._keys.push($),this._values.push(void 0)),this._cacheIndex},me}();return j;function ee(me,$){return me}function pt(me,$){return $}function Pt(me,$){return[me,$]}}function BH(){var _=function(){function C(){this._map=new d}return Object.defineProperty(C.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),C.prototype.has=function(D){return this._map.has(D)},C.prototype.add=function(D){return this._map.set(D,D),this},C.prototype.delete=function(D){return this._map.delete(D)},C.prototype.clear=function(){this._map.clear()},C.prototype.keys=function(){return this._map.keys()},C.prototype.values=function(){return this._map.keys()},C.prototype.entries=function(){return this._map.entries()},C.prototype["@@iterator"]=function(){return this.keys()},C.prototype[s]=function(){return this.keys()},C}();return _}function jH(){var _=16,C=l.create(),D=j();return function(){function $(){this._key=j()}return $.prototype.has=function(Y){var J=ee(Y,!1);return J!==void 0?l.has(J,this._key):!1},$.prototype.get=function(Y){var J=ee(Y,!1);return J!==void 0?l.get(J,this._key):void 0},$.prototype.set=function(Y,J){var Q=ee(Y,!0);return Q[this._key]=J,this},$.prototype.delete=function(Y){var J=ee(Y,!1);return J!==void 0?delete J[this._key]:!1},$.prototype.clear=function(){this._key=j()},$}();function j(){var $;do $="@@WeakMap@@"+me();while(l.has(C,$));return C[$]=!0,$}function ee($,Y){if(!n.call($,D)){if(!Y)return;Object.defineProperty($,D,{value:l.create()})}return $[D]}function pt($,Y){for(var J=0;J<Y;++J)$[J]=Math.random()*255|0;return $}function Pt($){return typeof Uint8Array=="function"?typeof crypto<"u"?crypto.getRandomValues(new Uint8Array($)):typeof msCrypto<"u"?msCrypto.getRandomValues(new Uint8Array($)):pt(new Uint8Array($),$):pt(new Array($),$)}function me(){var $=Pt(_);$[6]=$[6]&79|64,$[8]=$[8]&191|128;for(var Y="",J=0;J<_;++J){var Q=$[J];(J===4||J===6||J===8)&&(Y+="-"),Q<16&&(Y+="0"),Y+=Q.toString(16).toLowerCase()}return Y}}function QS(_){return _.__=void 0,delete _.__,_}})})(dD||(dD={}))});var dO=v((xle,Na)=>{var lO={};lO.__wbindgen_placeholder__=Na.exports;var Bi,{TextDecoder:e7}=require("util"),Jg=null;function lx(){return(Jg===null||Jg.byteLength===0)&&(Jg=new Uint8Array(Bi.memory.buffer)),Jg}function t7(r,e){return r=r>>>0,lx().subarray(r/1,r/1+e)}var _o=new Array(128).fill(void 0);_o.push(void 0,null,!0,!1);function Yg(r){return _o[r]}var Yd=_o.length;function r7(r){r<132||(_o[r]=Yd,Yd=r)}function n7(r){let e=Yg(r);return r7(r),e}var pO=new e7("utf-8",{ignoreBOM:!0,fatal:!0});pO.decode();function i7(r,e){return r=r>>>0,pO.decode(lx().subarray(r,r+e))}var cx=0;function cO(r,e){let t=e(r.length*1,1)>>>0;return lx().set(r,t/1),cx=r.length,t}function o7(r){Yd===_o.length&&_o.push(_o.length+1);let e=Yd;return Yd=_o[e],_o[e]=r,e}var uO=typeof FinalizationRegistry>"u"?{register:()=>{},unregister:()=>{}}:new FinalizationRegistry(r=>Bi.__wbg_hasher_free(r>>>0,1)),ux=class{__destroy_into_raw(){let e=this.__wbg_ptr;return this.__wbg_ptr=0,uO.unregister(this),e}free(){let e=this.__destroy_into_raw();Bi.__wbg_hasher_free(e,0)}constructor(){let e=Bi.hasher_new();return this.__wbg_ptr=e>>>0,uO.register(this,this.__wbg_ptr,this),this}update(e){let t=cO(e,Bi.__wbindgen_malloc),n=cx;Bi.hasher_update(this.__wbg_ptr,t,n)}digest(e){var t=cO(e,Bi.__wbindgen_malloc),n=cx;Bi.hasher_digest(this.__wbg_ptr,t,n,o7(e))}};Na.exports.Hasher=ux;Na.exports.__wbindgen_copy_to_typed_array=function(r,e,t){new Uint8Array(Yg(t).buffer,Yg(t).byteOffset,Yg(t).byteLength).set(t7(r,e))};Na.exports.__wbindgen_object_drop_ref=function(r){n7(r)};Na.exports.__wbindgen_throw=function(r,e){throw new Error(i7(r,e))};var s7=require("path").join(__dirname,"chromehash_bg.wasm"),a7=require("fs").readFileSync(s7),c7=new WebAssembly.Module(a7),u7=new WebAssembly.Instance(c7,lO);Bi=u7.exports;Na.exports.__wasm=Bi});var bO=v(Gr=>{"use strict";Object.defineProperty(Gr,"__esModule",{value:!0});Gr.normalizeShaBuffer=Gr.shaHashFile=Gr.hashFile=Gr.shaHash=Gr.hash=void 0;var mO=dO(),gO=require("fs"),fO=require("string_decoder"),yO=require("crypto"),Qg=Buffer.alloc(4*5),l7=r=>{let e=new mO.Hasher;return e.update(h7(r)),e.digest(Qg),e.free(),Qg.toString("hex")};Gr.hash=l7;var p7=r=>{let e=(0,yO.createHash)("sha256");return e.update((0,Gr.normalizeShaBuffer)(r)),e.digest("hex")};Gr.shaHash=p7;var d7=async(r,e=4096)=>{e%2===1&&e++;let t=Buffer.alloc(e),n=new mO.Hasher,i;try{i=await gO.promises.open(r,"r");let o=await i.read(t,0,t.length,null),s=t.slice(0,o.bytesRead);if(ey(s))for(n.update(s.slice(2));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));else if(ty(s))for(n.update(s.slice(2).swap16());o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead).swap16());else if(Zg(s)){let a=new fO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s.slice(3)),"utf16le"));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(Buffer.from(a.write(t.slice(0,o.bytesRead)),"utf16le"))}else{let a=new fO.StringDecoder("utf8");for(n.update(Buffer.from(a.write(s),"utf16le"));o.bytesRead===t.length;)o=await i.read(t,0,t.length,null),n.update(Buffer.from(a.write(t.slice(0,o.bytesRead)),"utf16le"))}return n.digest(Qg),Qg.toString("hex")}finally{n.free(),i!==void 0&&await i.close()}};Gr.hashFile=d7;var Xg={stream:!0},f7=async(r,e=4096)=>{e%2===1&&e++;let t=Buffer.alloc(e),n=(0,yO.createHash)("sha256"),i;try{i=await gO.promises.open(r,"r");let o=await i.read(t,0,t.length,null),s=t.slice(0,o.bytesRead);if(ey(s)){let a=new TextDecoder("utf-16le");for(n.update(a.decode(s.slice(2),Xg));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(a.decode(t.slice(0,o.bytesRead),Xg))}else if(ty(s)){let a=new TextDecoder("utf-16be");for(n.update(a.decode(s.slice(2),Xg));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(a.decode(t.slice(0,o.bytesRead),Xg))}else if(Zg(s))for(n.update(s.slice(3));o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));else for(n.update(s);o.bytesRead>0;)o=await i.read(t,0,t.length,null),n.update(t.slice(0,o.bytesRead));return n.digest("hex")}finally{await i?.close()}};Gr.shaHashFile=f7;var Zg=r=>r.length>=3&&r[0]===239&&r[1]===187&&r[2]===191,ey=r=>r.length>=2&&r[0]===255&&r[1]===254,ty=r=>r.length>=2&&r[0]===254&&r[1]===255,h7=r=>Zg(r)?hO(r.slice(3)):ey(r)?r.slice(2):ty(r)?r.slice(2).swap16():hO(r),m7=r=>Zg(r)?r.slice(3):ey(r)?new TextEncoder().encode(new TextDecoder("utf-16le").decode(r.slice(2))):ty(r)?new TextEncoder().encode(new TextDecoder("utf-16be").decode(r.slice(2))):r;Gr.normalizeShaBuffer=m7;var hO=r=>Buffer.from(r.toString("utf8"),"utf16le")});var hy=v(vn=>{"use strict";vn.isInteger=r=>typeof r=="number"?Number.isInteger(r):typeof r=="string"&&r.trim()!==""?Number.isInteger(Number(r)):!1;vn.find=(r,e)=>r.nodes.find(t=>t.type===e);vn.exceedsLimit=(r,e,t=1,n)=>n===!1||!vn.isInteger(r)||!vn.isInteger(e)?!1:(Number(e)-Number(r))/Number(t)>=n;vn.escapeNode=(r,e=0,t)=>{let n=r.nodes[e];n&&(t&&n.type===t||n.type==="open"||n.type==="close")&&n.escaped!==!0&&(n.value="\\"+n.value,n.escaped=!0)};vn.encloseBrace=r=>r.type!=="brace"?!1:r.commas>>0+r.ranges>>0===0?(r.invalid=!0,!0):!1;vn.isInvalidBrace=r=>r.type!=="brace"?!1:r.invalid===!0||r.dollar?!0:r.commas>>0+r.ranges>>0===0||r.open!==!0||r.close!==!0?(r.invalid=!0,!0):!1;vn.isOpenOrClose=r=>r.type==="open"||r.type==="close"?!0:r.open===!0||r.close===!0;vn.reduce=r=>r.reduce((e,t)=>(t.type==="text"&&e.push(t.value),t.type==="range"&&(t.type="text"),e),[]);vn.flatten=(...r)=>{let e=[],t=n=>{for(let i=0;i<n.length;i++){let o=n[i];if(Array.isArray(o)){t(o);continue}o!==void 0&&e.push(o)}return e};return t(r),e}});var my=v((Ede,VO)=>{"use strict";var WO=hy();VO.exports=(r,e={})=>{let t=(n,i={})=>{let o=e.escapeInvalid&&WO.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a="";if(n.value)return(o||s)&&WO.isOpenOrClose(n)?"\\"+n.value:n.value;if(n.value)return n.value;if(n.nodes)for(let c of n.nodes)a+=t(c);return a};return t(r)}});var HO=v((kde,$O)=>{"use strict";$O.exports=function(r){return typeof r=="number"?r-r===0:typeof r=="string"&&r.trim()!==""?Number.isFinite?Number.isFinite(+r):isFinite(+r):!1}});var eM=v((Rde,ZO)=>{"use strict";var GO=HO(),qa=(r,e,t)=>{if(GO(r)===!1)throw new TypeError("toRegexRange: expected the first argument to be a number");if(e===void 0||r===e)return String(r);if(GO(e)===!1)throw new TypeError("toRegexRange: expected the second argument to be a number.");let n={relaxZeros:!0,...t};typeof n.strictZeros=="boolean"&&(n.relaxZeros=n.strictZeros===!1);let i=String(n.relaxZeros),o=String(n.shorthand),s=String(n.capture),a=String(n.wrap),c=r+":"+e+"="+i+o+s+a;if(qa.cache.hasOwnProperty(c))return qa.cache[c].result;let u=Math.min(r,e),l=Math.max(r,e);if(Math.abs(u-l)===1){let g=r+"|"+e;return n.capture?`(${g})`:n.wrap===!1?g:`(?:${g})`}let p=QO(r)||QO(e),d={min:r,max:e,a:u,b:l},f=[],h=[];if(p&&(d.isPadded=p,d.maxLen=String(d.max).length),u<0){let g=l<0?Math.abs(l):1;h=zO(g,Math.abs(u),d,n),u=d.a=0}return l>=0&&(f=zO(u,l,d,n)),d.negatives=h,d.positives=f,d.result=L7(h,f,n),n.capture===!0?d.result=`(${d.result})`:n.wrap!==!1&&f.length+h.length>1&&(d.result=`(?:${d.result})`),qa.cache[c]=d,d.result};function L7(r,e,t){let n=gx(r,e,"-",!1,t)||[],i=gx(e,r,"",!1,t)||[],o=gx(r,e,"-?",!0,t)||[];return n.concat(o).concat(i).join("|")}function N7(r,e){let t=1,n=1,i=JO(r,t),o=new Set([e]);for(;r<=i&&i<=e;)o.add(i),t+=1,i=JO(r,t);for(i=YO(e+1,n)-1;r<i&&i<=e;)o.add(i),n+=1,i=YO(e+1,n)-1;return o=[...o],o.sort(j7),o}function F7(r,e,t){if(r===e)return{pattern:r,count:[],digits:0};let n=B7(r,e),i=n.length,o="",s=0;for(let a=0;a<i;a++){let[c,u]=n[a];c===u?o+=c:c!=="0"||u!=="9"?o+=U7(c,u,t):s++}return s&&(o+=t.shorthand===!0?"\\d":"[0-9]"),{pattern:o,count:[s],digits:i}}function zO(r,e,t,n){let i=N7(r,e),o=[],s=r,a;for(let c=0;c<i.length;c++){let u=i[c],l=F7(String(s),String(u),n),p="";if(!t.isPadded&&a&&a.pattern===l.pattern){a.count.length>1&&a.count.pop(),a.count.push(l.count[0]),a.string=a.pattern+XO(a.count),s=u+1;continue}t.isPadded&&(p=q7(u,t,n)),l.string=p+l.pattern+XO(l.count),o.push(l),s=u+1,a=l}return o}function gx(r,e,t,n,i){let o=[];for(let s of r){let{string:a}=s;!n&&!KO(e,"string",a)&&o.push(t+a),n&&KO(e,"string",a)&&o.push(t+a)}return o}function B7(r,e){let t=[];for(let n=0;n<r.length;n++)t.push([r[n],e[n]]);return t}function j7(r,e){return r>e?1:e>r?-1:0}function KO(r,e,t){return r.some(n=>n[e]===t)}function JO(r,e){return Number(String(r).slice(0,-e)+"9".repeat(e))}function YO(r,e){return r-r%Math.pow(10,e)}function XO(r){let[e=0,t=""]=r;return t||e>1?`{${e+(t?","+t:"")}}`:""}function U7(r,e,t){return`[${r}${e-r===1?"":"-"}${e}]`}function QO(r){return/^-?(0+)\d/.test(r)}function q7(r,e,t){if(!e.isPadded)return r;let n=Math.abs(e.maxLen-String(r).length),i=t.relaxZeros!==!1;switch(n){case 0:return"";case 1:return i?"0?":"0";case 2:return i?"0{0,2}":"00";default:return i?`0{0,${n}}`:`0{${n}}`}}qa.cache={};qa.clearCache=()=>qa.cache={};ZO.exports=qa});var vx=v((Ade,aM)=>{"use strict";var W7=require("util"),rM=eM(),tM=r=>r!==null&&typeof r=="object"&&!Array.isArray(r),V7=r=>e=>r===!0?Number(e):String(e),yx=r=>typeof r=="number"||typeof r=="string"&&r!=="",Qd=r=>Number.isInteger(+r),bx=r=>{let e=`${r}`,t=-1;if(e[0]==="-"&&(e=e.slice(1)),e==="0")return!1;for(;e[++t]==="0";);return t>0},$7=(r,e,t)=>typeof r=="string"||typeof e=="string"?!0:t.stringify===!0,H7=(r,e,t)=>{if(e>0){let n=r[0]==="-"?"-":"";n&&(r=r.slice(1)),r=n+r.padStart(n?e-1:e,"0")}return t===!1?String(r):r},yy=(r,e)=>{let t=r[0]==="-"?"-":"";for(t&&(r=r.slice(1),e--);r.length<e;)r="0"+r;return t?"-"+r:r},G7=(r,e,t)=>{r.negatives.sort((a,c)=>a<c?-1:a>c?1:0),r.positives.sort((a,c)=>a<c?-1:a>c?1:0);let n=e.capture?"":"?:",i="",o="",s;return r.positives.length&&(i=r.positives.map(a=>yy(String(a),t)).join("|")),r.negatives.length&&(o=`-(${n}${r.negatives.map(a=>yy(String(a),t)).join("|")})`),i&&o?s=`${i}|${o}`:s=i||o,e.wrap?`(${n}${s})`:s},nM=(r,e,t,n)=>{if(t)return rM(r,e,{wrap:!1,...n});let i=String.fromCharCode(r);if(r===e)return i;let o=String.fromCharCode(e);return`[${i}-${o}]`},iM=(r,e,t)=>{if(Array.isArray(r)){let n=t.wrap===!0,i=t.capture?"":"?:";return n?`(${i}${r.join("|")})`:r.join("|")}return rM(r,e,t)},oM=(...r)=>new RangeError("Invalid range arguments: "+W7.inspect(...r)),sM=(r,e,t)=>{if(t.strictRanges===!0)throw oM([r,e]);return[]},z7=(r,e)=>{if(e.strictRanges===!0)throw new TypeError(`Expected step "${r}" to be a number`);return[]},K7=(r,e,t=1,n={})=>{let i=Number(r),o=Number(e);if(!Number.isInteger(i)||!Number.isInteger(o)){if(n.strictRanges===!0)throw oM([r,e]);return[]}i===0&&(i=0),o===0&&(o=0);let s=i>o,a=String(r),c=String(e),u=String(t);t=Math.max(Math.abs(t),1);let l=bx(a)||bx(c)||bx(u),p=l?Math.max(a.length,c.length,u.length):0,d=l===!1&&$7(r,e,n)===!1,f=n.transform||V7(d);if(n.toRegex&&t===1)return nM(yy(r,p),yy(e,p),!0,n);let h={negatives:[],positives:[]},g=L=>h[L<0?"negatives":"positives"].push(Math.abs(L)),b=[],I=0;for(;s?i>=o:i<=o;)n.toRegex===!0&&t>1?g(i):b.push(H7(f(i,I),p,d)),i=s?i-t:i+t,I++;return n.toRegex===!0?t>1?G7(h,n,p):iM(b,null,{wrap:!1,...n}):b},J7=(r,e,t=1,n={})=>{if(!Qd(r)&&r.length>1||!Qd(e)&&e.length>1)return sM(r,e,n);let i=n.transform||(d=>String.fromCharCode(d)),o=`${r}`.charCodeAt(0),s=`${e}`.charCodeAt(0),a=o>s,c=Math.min(o,s),u=Math.max(o,s);if(n.toRegex&&t===1)return nM(c,u,!1,n);let l=[],p=0;for(;a?o>=s:o<=s;)l.push(i(o,p)),o=a?o-t:o+t,p++;return n.toRegex===!0?iM(l,null,{wrap:!1,options:n}):l},gy=(r,e,t,n={})=>{if(e==null&&yx(r))return[r];if(!yx(r)||!yx(e))return sM(r,e,n);if(typeof t=="function")return gy(r,e,1,{transform:t});if(tM(t))return gy(r,e,0,t);let i={...n};return i.capture===!0&&(i.wrap=!0),t=t||i.step||1,Qd(t)?Qd(r)&&Qd(e)?K7(r,e,t,i):J7(r,e,Math.max(Math.abs(t),1),i):t!=null&&!tM(t)?z7(t,i):gy(r,e,1,t)};aM.exports=gy});var lM=v((Dde,uM)=>{"use strict";var Y7=vx(),cM=hy(),X7=(r,e={})=>{let t=(n,i={})=>{let o=cM.isInvalidBrace(i),s=n.invalid===!0&&e.escapeInvalid===!0,a=o===!0||s===!0,c=e.escapeInvalid===!0?"\\":"",u="";if(n.isOpen===!0)return c+n.value;if(n.isClose===!0)return console.log("node.isClose",c,n.value),c+n.value;if(n.type==="open")return a?c+n.value:"(";if(n.type==="close")return a?c+n.value:")";if(n.type==="comma")return n.prev.type==="comma"?"":a?n.value:"|";if(n.value)return n.value;if(n.nodes&&n.ranges>0){let l=cM.reduce(n.nodes),p=Y7(...l,{...e,wrap:!1,toRegex:!0,strictZeros:!0});if(p.length!==0)return l.length>1&&p.length>1?`(${p})`:p}if(n.nodes)for(let l of n.nodes)u+=t(l,n);return u};return t(r)};uM.exports=X7});var fM=v((Ode,dM)=>{"use strict";var Q7=vx(),pM=my(),Ou=hy(),Wa=(r="",e="",t=!1)=>{let n=[];if(r=[].concat(r),e=[].concat(e),!e.length)return r;if(!r.length)return t?Ou.flatten(e).map(i=>`{${i}}`):e;for(let i of r)if(Array.isArray(i))for(let o of i)n.push(Wa(o,e,t));else for(let o of e)t===!0&&typeof o=="string"&&(o=`{${o}}`),n.push(Array.isArray(o)?Wa(i,o,t):i+o);return Ou.flatten(n)},Z7=(r,e={})=>{let t=e.rangeLimit===void 0?1e3:e.rangeLimit,n=(i,o={})=>{i.queue=[];let s=o,a=o.queue;for(;s.type!=="brace"&&s.type!=="root"&&s.parent;)s=s.parent,a=s.queue;if(i.invalid||i.dollar){a.push(Wa(a.pop(),pM(i,e)));return}if(i.type==="brace"&&i.invalid!==!0&&i.nodes.length===2){a.push(Wa(a.pop(),["{}"]));return}if(i.nodes&&i.ranges>0){let p=Ou.reduce(i.nodes);if(Ou.exceedsLimit(...p,e.step,t))throw new RangeError("expanded array length exceeds range limit. Use options.rangeLimit to increase or disable the limit.");let d=Q7(...p,e);d.length===0&&(d=pM(i,e)),a.push(Wa(a.pop(),d)),i.nodes=[];return}let c=Ou.encloseBrace(i),u=i.queue,l=i;for(;l.type!=="brace"&&l.type!=="root"&&l.parent;)l=l.parent,u=l.queue;for(let p=0;p<i.nodes.length;p++){let d=i.nodes[p];if(d.type==="comma"&&i.type==="brace"){p===1&&u.push(""),u.push("");continue}if(d.type==="close"){a.push(Wa(a.pop(),u,c));continue}if(d.value&&d.type!=="open"){u.push(Wa(u.pop(),d.value));continue}d.nodes&&n(d,i)}return u};return Ou.flatten(n(r))};dM.exports=Z7});var mM=v((Mde,hM)=>{"use strict";hM.exports={MAX_LENGTH:1e4,CHAR_0:"0",CHAR_9:"9",CHAR_UPPERCASE_A:"A",CHAR_LOWERCASE_A:"a",CHAR_UPPERCASE_Z:"Z",CHAR_LOWERCASE_Z:"z",CHAR_LEFT_PARENTHESES:"(",CHAR_RIGHT_PARENTHESES:")",CHAR_ASTERISK:"*",CHAR_AMPERSAND:"&",CHAR_AT:"@",CHAR_BACKSLASH:"\\",CHAR_BACKTICK:"`",CHAR_CARRIAGE_RETURN:"\r",CHAR_CIRCUMFLEX_ACCENT:"^",CHAR_COLON:":",CHAR_COMMA:",",CHAR_DOLLAR:"$",CHAR_DOT:".",CHAR_DOUBLE_QUOTE:'"',CHAR_EQUAL:"=",CHAR_EXCLAMATION_MARK:"!",CHAR_FORM_FEED:"\f",CHAR_FORWARD_SLASH:"/",CHAR_HASH:"#",CHAR_HYPHEN_MINUS:"-",CHAR_LEFT_ANGLE_BRACKET:"<",CHAR_LEFT_CURLY_BRACE:"{",CHAR_LEFT_SQUARE_BRACKET:"[",CHAR_LINE_FEED:`
`,CHAR_NO_BREAK_SPACE:"\xA0",CHAR_PERCENT:"%",CHAR_PLUS:"+",CHAR_QUESTION_MARK:"?",CHAR_RIGHT_ANGLE_BRACKET:">",CHAR_RIGHT_CURLY_BRACE:"}",CHAR_RIGHT_SQUARE_BRACKET:"]",CHAR_SEMICOLON:";",CHAR_SINGLE_QUOTE:"'",CHAR_SPACE:" ",CHAR_TAB:"	",CHAR_UNDERSCORE:"_",CHAR_VERTICAL_LINE:"|",CHAR_ZERO_WIDTH_NOBREAK_SPACE:"\uFEFF"}});var wM=v((Lde,vM)=>{"use strict";var eJ=my(),{MAX_LENGTH:gM,CHAR_BACKSLASH:wx,CHAR_BACKTICK:tJ,CHAR_COMMA:rJ,CHAR_DOT:nJ,CHAR_LEFT_PARENTHESES:iJ,CHAR_RIGHT_PARENTHESES:oJ,CHAR_LEFT_CURLY_BRACE:sJ,CHAR_RIGHT_CURLY_BRACE:aJ,CHAR_LEFT_SQUARE_BRACKET:yM,CHAR_RIGHT_SQUARE_BRACKET:bM,CHAR_DOUBLE_QUOTE:cJ,CHAR_SINGLE_QUOTE:uJ,CHAR_NO_BREAK_SPACE:lJ,CHAR_ZERO_WIDTH_NOBREAK_SPACE:pJ}=mM(),dJ=(r,e={})=>{if(typeof r!="string")throw new TypeError("Expected a string");let t=e||{},n=typeof t.maxLength=="number"?Math.min(gM,t.maxLength):gM;if(r.length>n)throw new SyntaxError(`Input length (${r.length}), exceeds max characters (${n})`);let i={type:"root",input:r,nodes:[]},o=[i],s=i,a=i,c=0,u=r.length,l=0,p=0,d,f=()=>r[l++],h=g=>{if(g.type==="text"&&a.type==="dot"&&(a.type="text"),a&&a.type==="text"&&g.type==="text"){a.value+=g.value;return}return s.nodes.push(g),g.parent=s,g.prev=a,a=g,g};for(h({type:"bos"});l<u;)if(s=o[o.length-1],d=f(),!(d===pJ||d===lJ)){if(d===wx){h({type:"text",value:(e.keepEscaping?d:"")+f()});continue}if(d===bM){h({type:"text",value:"\\"+d});continue}if(d===yM){c++;let g;for(;l<u&&(g=f());){if(d+=g,g===yM){c++;continue}if(g===wx){d+=f();continue}if(g===bM&&(c--,c===0))break}h({type:"text",value:d});continue}if(d===iJ){s=h({type:"paren",nodes:[]}),o.push(s),h({type:"text",value:d});continue}if(d===oJ){if(s.type!=="paren"){h({type:"text",value:d});continue}s=o.pop(),h({type:"text",value:d}),s=o[o.length-1];continue}if(d===cJ||d===uJ||d===tJ){let g=d,b;for(e.keepQuotes!==!0&&(d="");l<u&&(b=f());){if(b===wx){d+=b+f();continue}if(b===g){e.keepQuotes===!0&&(d+=b);break}d+=b}h({type:"text",value:d});continue}if(d===sJ){p++;let b={type:"brace",open:!0,close:!1,dollar:a.value&&a.value.slice(-1)==="$"||s.dollar===!0,depth:p,commas:0,ranges:0,nodes:[]};s=h(b),o.push(s),h({type:"open",value:d});continue}if(d===aJ){if(s.type!=="brace"){h({type:"text",value:d});continue}let g="close";s=o.pop(),s.close=!0,h({type:g,value:d}),p--,s=o[o.length-1];continue}if(d===rJ&&p>0){if(s.ranges>0){s.ranges=0;let g=s.nodes.shift();s.nodes=[g,{type:"text",value:eJ(s)}]}h({type:"comma",value:d}),s.commas++;continue}if(d===nJ&&p>0&&s.commas===0){let g=s.nodes;if(p===0||g.length===0){h({type:"text",value:d});continue}if(a.type==="dot"){if(s.range=[],a.value+=d,a.type="range",s.nodes.length!==3&&s.nodes.length!==5){s.invalid=!0,s.ranges=0,a.type="text";continue}s.ranges++,s.args=[];continue}if(a.type==="range"){g.pop();let b=g[g.length-1];b.value+=a.value+d,a=b,s.ranges--;continue}h({type:"dot",value:d});continue}h({type:"text",value:d})}do if(s=o.pop(),s.type!=="root"){s.nodes.forEach(I=>{I.nodes||(I.type==="open"&&(I.isOpen=!0),I.type==="close"&&(I.isClose=!0),I.nodes||(I.type="text"),I.invalid=!0)});let g=o[o.length-1],b=g.nodes.indexOf(s);g.nodes.splice(b,1,...s.nodes)}while(o.length>0);return h({type:"eos"}),i};vM.exports=dJ});var IM=v((Nde,_M)=>{"use strict";var SM=my(),fJ=lM(),hJ=fM(),mJ=wM(),zr=(r,e={})=>{let t=[];if(Array.isArray(r))for(let n of r){let i=zr.create(n,e);Array.isArray(i)?t.push(...i):t.push(i)}else t=[].concat(zr.create(r,e));return e&&e.expand===!0&&e.nodupes===!0&&(t=[...new Set(t)]),t};zr.parse=(r,e={})=>mJ(r,e);zr.stringify=(r,e={})=>SM(typeof r=="string"?zr.parse(r,e):r,e);zr.compile=(r,e={})=>(typeof r=="string"&&(r=zr.parse(r,e)),fJ(r,e));zr.expand=(r,e={})=>{typeof r=="string"&&(r=zr.parse(r,e));let t=hJ(r,e);return e.noempty===!0&&(t=t.filter(Boolean)),e.nodupes===!0&&(t=[...new Set(t)]),t};zr.create=(r,e={})=>r===""||r.length<3?[r]:e.expand!==!0?zr.compile(r,e):zr.expand(r,e);_M.exports=zr});var Zd=v((Fde,EM)=>{"use strict";var gJ=require("path"),Ui="\\\\/",xM=`[^${Ui}]`,To="\\.",yJ="\\+",bJ="\\?",by="\\/",vJ="(?=.)",TM="[^/]",Sx=`(?:${by}|$)`,CM=`(?:^|${by})`,_x=`${To}{1,2}${Sx}`,wJ=`(?!${To})`,SJ=`(?!${CM}${_x})`,_J=`(?!${To}{0,1}${Sx})`,IJ=`(?!${_x})`,xJ=`[^.${by}]`,TJ=`${TM}*?`,PM={DOT_LITERAL:To,PLUS_LITERAL:yJ,QMARK_LITERAL:bJ,SLASH_LITERAL:by,ONE_CHAR:vJ,QMARK:TM,END_ANCHOR:Sx,DOTS_SLASH:_x,NO_DOT:wJ,NO_DOTS:SJ,NO_DOT_SLASH:_J,NO_DOTS_SLASH:IJ,QMARK_NO_DOT:xJ,STAR:TJ,START_ANCHOR:CM},CJ={...PM,SLASH_LITERAL:`[${Ui}]`,QMARK:xM,STAR:`${xM}*?`,DOTS_SLASH:`${To}{1,2}(?:[${Ui}]|$)`,NO_DOT:`(?!${To})`,NO_DOTS:`(?!(?:^|[${Ui}])${To}{1,2}(?:[${Ui}]|$))`,NO_DOT_SLASH:`(?!${To}{0,1}(?:[${Ui}]|$))`,NO_DOTS_SLASH:`(?!${To}{1,2}(?:[${Ui}]|$))`,QMARK_NO_DOT:`[^.${Ui}]`,START_ANCHOR:`(?:^|[${Ui}])`,END_ANCHOR:`(?:[${Ui}]|$)`},PJ={alnum:"a-zA-Z0-9",alpha:"a-zA-Z",ascii:"\\x00-\\x7F",blank:" \\t",cntrl:"\\x00-\\x1F\\x7F",digit:"0-9",graph:"\\x21-\\x7E",lower:"a-z",print:"\\x20-\\x7E ",punct:"\\-!\"#$%&'()\\*+,./:;<=>?@[\\]^_`{|}~",space:" \\t\\r\\n\\v\\f",upper:"A-Z",word:"A-Za-z0-9_",xdigit:"A-Fa-f0-9"};EM.exports={MAX_LENGTH:1024*64,POSIX_REGEX_SOURCE:PJ,REGEX_BACKSLASH:/\\(?![*+?^${}(|)[\]])/g,REGEX_NON_SPECIAL_CHARS:/^[^@![\].,$*+?^{}()|\\/]+/,REGEX_SPECIAL_CHARS:/[-*+?.^${}(|)[\]]/,REGEX_SPECIAL_CHARS_BACKREF:/(\\?)((\W)(\3*))/g,REGEX_SPECIAL_CHARS_GLOBAL:/([-*+?.^${}(|)[\]])/g,REGEX_REMOVE_BACKSLASH:/(?:\[.*?[^\\]\]|\\(?=.))/g,REPLACEMENTS:{"***":"*","**/**":"**","**/**/**":"**"},CHAR_0:48,CHAR_9:57,CHAR_UPPERCASE_A:65,CHAR_LOWERCASE_A:97,CHAR_UPPERCASE_Z:90,CHAR_LOWERCASE_Z:122,CHAR_LEFT_PARENTHESES:40,CHAR_RIGHT_PARENTHESES:41,CHAR_ASTERISK:42,CHAR_AMPERSAND:38,CHAR_AT:64,CHAR_BACKWARD_SLASH:92,CHAR_CARRIAGE_RETURN:13,CHAR_CIRCUMFLEX_ACCENT:94,CHAR_COLON:58,CHAR_COMMA:44,CHAR_DOT:46,CHAR_DOUBLE_QUOTE:34,CHAR_EQUAL:61,CHAR_EXCLAMATION_MARK:33,CHAR_FORM_FEED:12,CHAR_FORWARD_SLASH:47,CHAR_GRAVE_ACCENT:96,CHAR_HASH:35,CHAR_HYPHEN_MINUS:45,CHAR_LEFT_ANGLE_BRACKET:60,CHAR_LEFT_CURLY_BRACE:123,CHAR_LEFT_SQUARE_BRACKET:91,CHAR_LINE_FEED:10,CHAR_NO_BREAK_SPACE:160,CHAR_PERCENT:37,CHAR_PLUS:43,CHAR_QUESTION_MARK:63,CHAR_RIGHT_ANGLE_BRACKET:62,CHAR_RIGHT_CURLY_BRACE:125,CHAR_RIGHT_SQUARE_BRACKET:93,CHAR_SEMICOLON:59,CHAR_SINGLE_QUOTE:39,CHAR_SPACE:32,CHAR_TAB:9,CHAR_UNDERSCORE:95,CHAR_VERTICAL_LINE:124,CHAR_ZERO_WIDTH_NOBREAK_SPACE:65279,SEP:gJ.sep,extglobChars(r){return{"!":{type:"negate",open:"(?:(?!(?:",close:`))${r.STAR})`},"?":{type:"qmark",open:"(?:",close:")?"},"+":{type:"plus",open:"(?:",close:")+"},"*":{type:"star",open:"(?:",close:")*"},"@":{type:"at",open:"(?:",close:")"}}},globChars(r){return r===!0?CJ:PM}}});var ef=v(Pr=>{"use strict";var EJ=require("path"),kJ=process.platform==="win32",{REGEX_BACKSLASH:RJ,REGEX_REMOVE_BACKSLASH:AJ,REGEX_SPECIAL_CHARS:DJ,REGEX_SPECIAL_CHARS_GLOBAL:OJ}=Zd();Pr.isObject=r=>r!==null&&typeof r=="object"&&!Array.isArray(r);Pr.hasRegexChars=r=>DJ.test(r);Pr.isRegexChar=r=>r.length===1&&Pr.hasRegexChars(r);Pr.escapeRegex=r=>r.replace(OJ,"\\$1");Pr.toPosixSlashes=r=>r.replace(RJ,"/");Pr.removeBackslashes=r=>r.replace(AJ,e=>e==="\\"?"":e);Pr.supportsLookbehinds=()=>{let r=process.version.slice(1).split(".").map(Number);return r.length===3&&r[0]>=9||r[0]===8&&r[1]>=10};Pr.isWindows=r=>r&&typeof r.windows=="boolean"?r.windows:kJ===!0||EJ.sep==="\\";Pr.escapeLast=(r,e,t)=>{let n=r.lastIndexOf(e,t);return n===-1?r:r[n-1]==="\\"?Pr.escapeLast(r,e,n-1):`${r.slice(0,n)}\\${r.slice(n)}`};Pr.removePrefix=(r,e={})=>{let t=r;return t.startsWith("./")&&(t=t.slice(2),e.prefix="./"),t};Pr.wrapOutput=(r,e={},t={})=>{let n=t.contains?"":"^",i=t.contains?"":"$",o=`${n}(?:${r})${i}`;return e.negated===!0&&(o=`(?:^(?!${o}).*$)`),o}});var NM=v((jde,LM)=>{"use strict";var kM=ef(),{CHAR_ASTERISK:Ix,CHAR_AT:MJ,CHAR_BACKWARD_SLASH:tf,CHAR_COMMA:LJ,CHAR_DOT:xx,CHAR_EXCLAMATION_MARK:Tx,CHAR_FORWARD_SLASH:MM,CHAR_LEFT_CURLY_BRACE:Cx,CHAR_LEFT_PARENTHESES:Px,CHAR_LEFT_SQUARE_BRACKET:NJ,CHAR_PLUS:FJ,CHAR_QUESTION_MARK:RM,CHAR_RIGHT_CURLY_BRACE:BJ,CHAR_RIGHT_PARENTHESES:AM,CHAR_RIGHT_SQUARE_BRACKET:jJ}=Zd(),DM=r=>r===MM||r===tf,OM=r=>{r.isPrefix!==!0&&(r.depth=r.isGlobstar?1/0:1)},UJ=(r,e)=>{let t=e||{},n=r.length-1,i=t.parts===!0||t.scanToEnd===!0,o=[],s=[],a=[],c=r,u=-1,l=0,p=0,d=!1,f=!1,h=!1,g=!1,b=!1,I=!1,L=!1,E=!1,B=!1,A=!1,R=0,x,V,ne={value:"",depth:0,isGlob:!1},Ie=()=>u>=n,O=()=>c.charCodeAt(u+1),Pe=()=>(x=V,c.charCodeAt(++u));for(;u<n;){V=Pe();let De;if(V===tf){L=ne.backslashes=!0,V=Pe(),V===Cx&&(I=!0);continue}if(I===!0||V===Cx){for(R++;Ie()!==!0&&(V=Pe());){if(V===tf){L=ne.backslashes=!0,Pe();continue}if(V===Cx){R++;continue}if(I!==!0&&V===xx&&(V=Pe())===xx){if(d=ne.isBrace=!0,h=ne.isGlob=!0,A=!0,i===!0)continue;break}if(I!==!0&&V===LJ){if(d=ne.isBrace=!0,h=ne.isGlob=!0,A=!0,i===!0)continue;break}if(V===BJ&&(R--,R===0)){I=!1,d=ne.isBrace=!0,A=!0;break}}if(i===!0)continue;break}if(V===MM){if(o.push(u),s.push(ne),ne={value:"",depth:0,isGlob:!1},A===!0)continue;if(x===xx&&u===l+1){l+=2;continue}p=u+1;continue}if(t.noext!==!0&&(V===FJ||V===MJ||V===Ix||V===RM||V===Tx)===!0&&O()===Px){if(h=ne.isGlob=!0,g=ne.isExtglob=!0,A=!0,V===Tx&&u===l&&(B=!0),i===!0){for(;Ie()!==!0&&(V=Pe());){if(V===tf){L=ne.backslashes=!0,V=Pe();continue}if(V===AM){h=ne.isGlob=!0,A=!0;break}}continue}break}if(V===Ix){if(x===Ix&&(b=ne.isGlobstar=!0),h=ne.isGlob=!0,A=!0,i===!0)continue;break}if(V===RM){if(h=ne.isGlob=!0,A=!0,i===!0)continue;break}if(V===NJ){for(;Ie()!==!0&&(De=Pe());){if(De===tf){L=ne.backslashes=!0,Pe();continue}if(De===jJ){f=ne.isBracket=!0,h=ne.isGlob=!0,A=!0;break}}if(i===!0)continue;break}if(t.nonegate!==!0&&V===Tx&&u===l){E=ne.negated=!0,l++;continue}if(t.noparen!==!0&&V===Px){if(h=ne.isGlob=!0,i===!0){for(;Ie()!==!0&&(V=Pe());){if(V===Px){L=ne.backslashes=!0,V=Pe();continue}if(V===AM){A=!0;break}}continue}break}if(h===!0){if(A=!0,i===!0)continue;break}}t.noext===!0&&(g=!1,h=!1);let we=c,oe="",T="";l>0&&(oe=c.slice(0,l),c=c.slice(l),p-=l),we&&h===!0&&p>0?(we=c.slice(0,p),T=c.slice(p)):h===!0?(we="",T=c):we=c,we&&we!==""&&we!=="/"&&we!==c&&DM(we.charCodeAt(we.length-1))&&(we=we.slice(0,-1)),t.unescape===!0&&(T&&(T=kM.removeBackslashes(T)),we&&L===!0&&(we=kM.removeBackslashes(we)));let k={prefix:oe,input:r,start:l,base:we,glob:T,isBrace:d,isBracket:f,isGlob:h,isExtglob:g,isGlobstar:b,negated:E,negatedExtglob:B};if(t.tokens===!0&&(k.maxDepth=0,DM(V)||s.push(ne),k.tokens=s),t.parts===!0||t.tokens===!0){let De;for(let le=0;le<o.length;le++){let Br=De?De+1:l,jr=o[le],er=r.slice(Br,jr);t.tokens&&(le===0&&l!==0?(s[le].isPrefix=!0,s[le].value=oe):s[le].value=er,OM(s[le]),k.maxDepth+=s[le].depth),(le!==0||er!=="")&&a.push(er),De=jr}if(De&&De+1<r.length){let le=r.slice(De+1);a.push(le),t.tokens&&(s[s.length-1].value=le,OM(s[s.length-1]),k.maxDepth+=s[s.length-1].depth)}k.slashes=o,k.parts=a}return k};LM.exports=UJ});var jM=v((Ude,BM)=>{"use strict";var vy=Zd(),Kr=ef(),{MAX_LENGTH:wy,POSIX_REGEX_SOURCE:qJ,REGEX_NON_SPECIAL_CHARS:WJ,REGEX_SPECIAL_CHARS_BACKREF:VJ,REPLACEMENTS:FM}=vy,$J=(r,e)=>{if(typeof e.expandRange=="function")return e.expandRange(...r,e);r.sort();let t=`[${r.join("-")}]`;try{new RegExp(t)}catch{return r.map(i=>Kr.escapeRegex(i)).join("..")}return t},Mu=(r,e)=>`Missing ${r}: "${e}" - use "\\\\${e}" to match literal characters`,Ex=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");r=FM[r]||r;let t={...e},n=typeof t.maxLength=="number"?Math.min(wy,t.maxLength):wy,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);let o={type:"bos",value:"",output:t.prepend||""},s=[o],a=t.capture?"":"?:",c=Kr.isWindows(e),u=vy.globChars(c),l=vy.extglobChars(u),{DOT_LITERAL:p,PLUS_LITERAL:d,SLASH_LITERAL:f,ONE_CHAR:h,DOTS_SLASH:g,NO_DOT:b,NO_DOT_SLASH:I,NO_DOTS_SLASH:L,QMARK:E,QMARK_NO_DOT:B,STAR:A,START_ANCHOR:R}=u,x=G=>`(${a}(?:(?!${R}${G.dot?g:p}).)*?)`,V=t.dot?"":b,ne=t.dot?E:B,Ie=t.bash===!0?x(t):A;t.capture&&(Ie=`(${Ie})`),typeof t.noext=="boolean"&&(t.noextglob=t.noext);let O={input:r,index:-1,start:0,dot:t.dot===!0,consumed:"",output:"",prefix:"",backtrack:!1,negated:!1,brackets:0,braces:0,parens:0,quotes:0,globstar:!1,tokens:s};r=Kr.removePrefix(r,O),i=r.length;let Pe=[],we=[],oe=[],T=o,k,De=()=>O.index===i-1,le=O.peek=(G=1)=>r[O.index+G],Br=O.advance=()=>r[++O.index]||"",jr=()=>r.slice(O.index+1),er=(G="",ye=0)=>{O.consumed+=G,O.index+=ye},te=G=>{O.output+=G.output!=null?G.output:G.value,er(G.value)},Yo=()=>{let G=1;for(;le()==="!"&&(le(2)!=="("||le(3)==="?");)Br(),O.start++,G++;return G%2===0?!1:(O.negated=!0,O.start++,!0)},qc=G=>{O[G]++,oe.push(G)},Ne=G=>{O[G]--,oe.pop()},he=G=>{if(T.type==="globstar"){let ye=O.braces>0&&(G.type==="comma"||G.type==="brace"),q=G.extglob===!0||Pe.length&&(G.type==="pipe"||G.type==="paren");G.type!=="slash"&&G.type!=="paren"&&!ye&&!q&&(O.output=O.output.slice(0,-T.output.length),T.type="star",T.value="*",T.output=Ie,O.output+=T.output)}if(Pe.length&&G.type!=="paren"&&(Pe[Pe.length-1].inner+=G.value),(G.value||G.output)&&te(G),T&&T.type==="text"&&G.type==="text"){T.output=(T.output||T.value)+G.value,T.value+=G.value;return}G.prev=T,s.push(G),T=G},Wc=(G,ye)=>{let q={...l[ye],conditions:1,inner:""};q.prev=T,q.parens=O.parens,q.output=O.output;let se=(t.capture?"(":"")+q.open;qc("parens"),he({type:G,value:ye,output:O.output?"":h}),he({type:"paren",extglob:!0,value:Br(),output:se}),Pe.push(q)},Hh=G=>{let ye=G.close+(t.capture?")":""),q;if(G.type==="negate"){let se=Ie;if(G.inner&&G.inner.length>1&&G.inner.includes("/")&&(se=x(t)),(se!==Ie||De()||/^\)+$/.test(jr()))&&(ye=G.close=`)$))${se}`),G.inner.includes("*")&&(q=jr())&&/^\.[^\\/.]+$/.test(q)){let Ve=Ex(q,{...e,fastpaths:!1}).output;ye=G.close=`)${Ve})${se})`}G.prev.type==="bos"&&(O.negatedExtglob=!0)}he({type:"paren",extglob:!0,value:k,output:ye}),Ne("parens")};if(t.fastpaths!==!1&&!/(^[*!]|[/()[\]{}"])/.test(r)){let G=!1,ye=r.replace(VJ,(q,se,Ve,Gt,it,Vc)=>Gt==="\\"?(G=!0,q):Gt==="?"?se?se+Gt+(it?E.repeat(it.length):""):Vc===0?ne+(it?E.repeat(it.length):""):E.repeat(Ve.length):Gt==="."?p.repeat(Ve.length):Gt==="*"?se?se+Gt+(it?Ie:""):Ie:se?q:`\\${q}`);return G===!0&&(t.unescape===!0?ye=ye.replace(/\\/g,""):ye=ye.replace(/\\+/g,q=>q.length%2===0?"\\\\":q?"\\":"")),ye===r&&t.contains===!0?(O.output=r,O):(O.output=Kr.wrapOutput(ye,O,e),O)}for(;!De();){if(k=Br(),k==="\0")continue;if(k==="\\"){let q=le();if(q==="/"&&t.bash!==!0||q==="."||q===";")continue;if(!q){k+="\\",he({type:"text",value:k});continue}let se=/^\\+/.exec(jr()),Ve=0;if(se&&se[0].length>2&&(Ve=se[0].length,O.index+=Ve,Ve%2!==0&&(k+="\\")),t.unescape===!0?k=Br():k+=Br(),O.brackets===0){he({type:"text",value:k});continue}}if(O.brackets>0&&(k!=="]"||T.value==="["||T.value==="[^")){if(t.posix!==!1&&k===":"){let q=T.value.slice(1);if(q.includes("[")&&(T.posix=!0,q.includes(":"))){let se=T.value.lastIndexOf("["),Ve=T.value.slice(0,se),Gt=T.value.slice(se+2),it=qJ[Gt];if(it){T.value=Ve+it,O.backtrack=!0,Br(),!o.output&&s.indexOf(T)===1&&(o.output=h);continue}}}(k==="["&&le()!==":"||k==="-"&&le()==="]")&&(k=`\\${k}`),k==="]"&&(T.value==="["||T.value==="[^")&&(k=`\\${k}`),t.posix===!0&&k==="!"&&T.value==="["&&(k="^"),T.value+=k,te({value:k});continue}if(O.quotes===1&&k!=='"'){k=Kr.escapeRegex(k),T.value+=k,te({value:k});continue}if(k==='"'){O.quotes=O.quotes===1?0:1,t.keepQuotes===!0&&he({type:"text",value:k});continue}if(k==="("){qc("parens"),he({type:"paren",value:k});continue}if(k===")"){if(O.parens===0&&t.strictBrackets===!0)throw new SyntaxError(Mu("opening","("));let q=Pe[Pe.length-1];if(q&&O.parens===q.parens+1){Hh(Pe.pop());continue}he({type:"paren",value:k,output:O.parens?")":"\\)"}),Ne("parens");continue}if(k==="["){if(t.nobracket===!0||!jr().includes("]")){if(t.nobracket!==!0&&t.strictBrackets===!0)throw new SyntaxError(Mu("closing","]"));k=`\\${k}`}else qc("brackets");he({type:"bracket",value:k});continue}if(k==="]"){if(t.nobracket===!0||T&&T.type==="bracket"&&T.value.length===1){he({type:"text",value:k,output:`\\${k}`});continue}if(O.brackets===0){if(t.strictBrackets===!0)throw new SyntaxError(Mu("opening","["));he({type:"text",value:k,output:`\\${k}`});continue}Ne("brackets");let q=T.value.slice(1);if(T.posix!==!0&&q[0]==="^"&&!q.includes("/")&&(k=`/${k}`),T.value+=k,te({value:k}),t.literalBrackets===!1||Kr.hasRegexChars(q))continue;let se=Kr.escapeRegex(T.value);if(O.output=O.output.slice(0,-T.value.length),t.literalBrackets===!0){O.output+=se,T.value=se;continue}T.value=`(${a}${se}|${T.value})`,O.output+=T.value;continue}if(k==="{"&&t.nobrace!==!0){qc("braces");let q={type:"brace",value:k,output:"(",outputIndex:O.output.length,tokensIndex:O.tokens.length};we.push(q),he(q);continue}if(k==="}"){let q=we[we.length-1];if(t.nobrace===!0||!q){he({type:"text",value:k,output:k});continue}let se=")";if(q.dots===!0){let Ve=s.slice(),Gt=[];for(let it=Ve.length-1;it>=0&&(s.pop(),Ve[it].type!=="brace");it--)Ve[it].type!=="dots"&&Gt.unshift(Ve[it].value);se=$J(Gt,t),O.backtrack=!0}if(q.comma!==!0&&q.dots!==!0){let Ve=O.output.slice(0,q.outputIndex),Gt=O.tokens.slice(q.tokensIndex);q.value=q.output="\\{",k=se="\\}",O.output=Ve;for(let it of Gt)O.output+=it.output||it.value}he({type:"brace",value:k,output:se}),Ne("braces"),we.pop();continue}if(k==="|"){Pe.length>0&&Pe[Pe.length-1].conditions++,he({type:"text",value:k});continue}if(k===","){let q=k,se=we[we.length-1];se&&oe[oe.length-1]==="braces"&&(se.comma=!0,q="|"),he({type:"comma",value:k,output:q});continue}if(k==="/"){if(T.type==="dot"&&O.index===O.start+1){O.start=O.index+1,O.consumed="",O.output="",s.pop(),T=o;continue}he({type:"slash",value:k,output:f});continue}if(k==="."){if(O.braces>0&&T.type==="dot"){T.value==="."&&(T.output=p);let q=we[we.length-1];T.type="dots",T.output+=k,T.value+=k,q.dots=!0;continue}if(O.braces+O.parens===0&&T.type!=="bos"&&T.type!=="slash"){he({type:"text",value:k,output:p});continue}he({type:"dot",value:k,output:p});continue}if(k==="?"){if(!(T&&T.value==="(")&&t.noextglob!==!0&&le()==="("&&le(2)!=="?"){Wc("qmark",k);continue}if(T&&T.type==="paren"){let se=le(),Ve=k;if(se==="<"&&!Kr.supportsLookbehinds())throw new Error("Node.js v10 or higher is required for regex lookbehinds");(T.value==="("&&!/[!=<:]/.test(se)||se==="<"&&!/<([!=]|\w+>)/.test(jr()))&&(Ve=`\\${k}`),he({type:"text",value:k,output:Ve});continue}if(t.dot!==!0&&(T.type==="slash"||T.type==="bos")){he({type:"qmark",value:k,output:B});continue}he({type:"qmark",value:k,output:E});continue}if(k==="!"){if(t.noextglob!==!0&&le()==="("&&(le(2)!=="?"||!/[!=<:]/.test(le(3)))){Wc("negate",k);continue}if(t.nonegate!==!0&&O.index===0){Yo();continue}}if(k==="+"){if(t.noextglob!==!0&&le()==="("&&le(2)!=="?"){Wc("plus",k);continue}if(T&&T.value==="("||t.regex===!1){he({type:"plus",value:k,output:d});continue}if(T&&(T.type==="bracket"||T.type==="paren"||T.type==="brace")||O.parens>0){he({type:"plus",value:k});continue}he({type:"plus",value:d});continue}if(k==="@"){if(t.noextglob!==!0&&le()==="("&&le(2)!=="?"){he({type:"at",extglob:!0,value:k,output:""});continue}he({type:"text",value:k});continue}if(k!=="*"){(k==="$"||k==="^")&&(k=`\\${k}`);let q=WJ.exec(jr());q&&(k+=q[0],O.index+=q[0].length),he({type:"text",value:k});continue}if(T&&(T.type==="globstar"||T.star===!0)){T.type="star",T.star=!0,T.value+=k,T.output=Ie,O.backtrack=!0,O.globstar=!0,er(k);continue}let G=jr();if(t.noextglob!==!0&&/^\([^?]/.test(G)){Wc("star",k);continue}if(T.type==="star"){if(t.noglobstar===!0){er(k);continue}let q=T.prev,se=q.prev,Ve=q.type==="slash"||q.type==="bos",Gt=se&&(se.type==="star"||se.type==="globstar");if(t.bash===!0&&(!Ve||G[0]&&G[0]!=="/")){he({type:"star",value:k,output:""});continue}let it=O.braces>0&&(q.type==="comma"||q.type==="brace"),Vc=Pe.length&&(q.type==="pipe"||q.type==="paren");if(!Ve&&q.type!=="paren"&&!it&&!Vc){he({type:"star",value:k,output:""});continue}for(;G.slice(0,3)==="/**";){let ya=r[O.index+4];if(ya&&ya!=="/")break;G=G.slice(3),er("/**",3)}if(q.type==="bos"&&De()){T.type="globstar",T.value+=k,T.output=x(t),O.output=T.output,O.globstar=!0,er(k);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&!Gt&&De()){O.output=O.output.slice(0,-(q.output+T.output).length),q.output=`(?:${q.output}`,T.type="globstar",T.output=x(t)+(t.strictSlashes?")":"|$)"),T.value+=k,O.globstar=!0,O.output+=q.output+T.output,er(k);continue}if(q.type==="slash"&&q.prev.type!=="bos"&&G[0]==="/"){let ya=G[1]!==void 0?"|$":"";O.output=O.output.slice(0,-(q.output+T.output).length),q.output=`(?:${q.output}`,T.type="globstar",T.output=`${x(t)}${f}|${f}${ya})`,T.value+=k,O.output+=q.output+T.output,O.globstar=!0,er(k+Br()),he({type:"slash",value:"/",output:""});continue}if(q.type==="bos"&&G[0]==="/"){T.type="globstar",T.value+=k,T.output=`(?:^|${f}|${x(t)}${f})`,O.output=T.output,O.globstar=!0,er(k+Br()),he({type:"slash",value:"/",output:""});continue}O.output=O.output.slice(0,-T.output.length),T.type="globstar",T.output=x(t),T.value+=k,O.output+=T.output,O.globstar=!0,er(k);continue}let ye={type:"star",value:k,output:Ie};if(t.bash===!0){ye.output=".*?",(T.type==="bos"||T.type==="slash")&&(ye.output=V+ye.output),he(ye);continue}if(T&&(T.type==="bracket"||T.type==="paren")&&t.regex===!0){ye.output=k,he(ye);continue}(O.index===O.start||T.type==="slash"||T.type==="dot")&&(T.type==="dot"?(O.output+=I,T.output+=I):t.dot===!0?(O.output+=L,T.output+=L):(O.output+=V,T.output+=V),le()!=="*"&&(O.output+=h,T.output+=h)),he(ye)}for(;O.brackets>0;){if(t.strictBrackets===!0)throw new SyntaxError(Mu("closing","]"));O.output=Kr.escapeLast(O.output,"["),Ne("brackets")}for(;O.parens>0;){if(t.strictBrackets===!0)throw new SyntaxError(Mu("closing",")"));O.output=Kr.escapeLast(O.output,"("),Ne("parens")}for(;O.braces>0;){if(t.strictBrackets===!0)throw new SyntaxError(Mu("closing","}"));O.output=Kr.escapeLast(O.output,"{"),Ne("braces")}if(t.strictSlashes!==!0&&(T.type==="star"||T.type==="bracket")&&he({type:"maybe_slash",value:"",output:`${f}?`}),O.backtrack===!0){O.output="";for(let G of O.tokens)O.output+=G.output!=null?G.output:G.value,G.suffix&&(O.output+=G.suffix)}return O};Ex.fastpaths=(r,e)=>{let t={...e},n=typeof t.maxLength=="number"?Math.min(wy,t.maxLength):wy,i=r.length;if(i>n)throw new SyntaxError(`Input length: ${i}, exceeds maximum allowed length: ${n}`);r=FM[r]||r;let o=Kr.isWindows(e),{DOT_LITERAL:s,SLASH_LITERAL:a,ONE_CHAR:c,DOTS_SLASH:u,NO_DOT:l,NO_DOTS:p,NO_DOTS_SLASH:d,STAR:f,START_ANCHOR:h}=vy.globChars(o),g=t.dot?p:l,b=t.dot?d:l,I=t.capture?"":"?:",L={negated:!1,prefix:""},E=t.bash===!0?".*?":f;t.capture&&(E=`(${E})`);let B=V=>V.noglobstar===!0?E:`(${I}(?:(?!${h}${V.dot?u:s}).)*?)`,A=V=>{switch(V){case"*":return`${g}${c}${E}`;case".*":return`${s}${c}${E}`;case"*.*":return`${g}${E}${s}${c}${E}`;case"*/*":return`${g}${E}${a}${c}${b}${E}`;case"**":return g+B(t);case"**/*":return`(?:${g}${B(t)}${a})?${b}${c}${E}`;case"**/*.*":return`(?:${g}${B(t)}${a})?${b}${E}${s}${c}${E}`;case"**/.*":return`(?:${g}${B(t)}${a})?${s}${c}${E}`;default:{let ne=/^(.*?)\.(\w+)$/.exec(V);if(!ne)return;let Ie=A(ne[1]);return Ie?Ie+s+ne[2]:void 0}}},R=Kr.removePrefix(r,L),x=A(R);return x&&t.strictSlashes!==!0&&(x+=`${a}?`),x};BM.exports=Ex});var qM=v((qde,UM)=>{"use strict";var HJ=require("path"),GJ=NM(),kx=jM(),Rx=ef(),zJ=Zd(),KJ=r=>r&&typeof r=="object"&&!Array.isArray(r),mt=(r,e,t=!1)=>{if(Array.isArray(r)){let l=r.map(d=>mt(d,e,t));return d=>{for(let f of l){let h=f(d);if(h)return h}return!1}}let n=KJ(r)&&r.tokens&&r.input;if(r===""||typeof r!="string"&&!n)throw new TypeError("Expected pattern to be a non-empty string");let i=e||{},o=Rx.isWindows(e),s=n?mt.compileRe(r,e):mt.makeRe(r,e,!1,!0),a=s.state;delete s.state;let c=()=>!1;if(i.ignore){let l={...e,ignore:null,onMatch:null,onResult:null};c=mt(i.ignore,l,t)}let u=(l,p=!1)=>{let{isMatch:d,match:f,output:h}=mt.test(l,s,e,{glob:r,posix:o}),g={glob:r,state:a,regex:s,posix:o,input:l,output:h,match:f,isMatch:d};return typeof i.onResult=="function"&&i.onResult(g),d===!1?(g.isMatch=!1,p?g:!1):c(l)?(typeof i.onIgnore=="function"&&i.onIgnore(g),g.isMatch=!1,p?g:!1):(typeof i.onMatch=="function"&&i.onMatch(g),p?g:!0)};return t&&(u.state=a),u};mt.test=(r,e,t,{glob:n,posix:i}={})=>{if(typeof r!="string")throw new TypeError("Expected input to be a string");if(r==="")return{isMatch:!1,output:""};let o=t||{},s=o.format||(i?Rx.toPosixSlashes:null),a=r===n,c=a&&s?s(r):r;return a===!1&&(c=s?s(r):r,a=c===n),(a===!1||o.capture===!0)&&(o.matchBase===!0||o.basename===!0?a=mt.matchBase(r,e,t,i):a=e.exec(c)),{isMatch:!!a,match:a,output:c}};mt.matchBase=(r,e,t,n=Rx.isWindows(t))=>(e instanceof RegExp?e:mt.makeRe(e,t)).test(HJ.basename(r));mt.isMatch=(r,e,t)=>mt(e,t)(r);mt.parse=(r,e)=>Array.isArray(r)?r.map(t=>mt.parse(t,e)):kx(r,{...e,fastpaths:!1});mt.scan=(r,e)=>GJ(r,e);mt.compileRe=(r,e,t=!1,n=!1)=>{if(t===!0)return r.output;let i=e||{},o=i.contains?"":"^",s=i.contains?"":"$",a=`${o}(?:${r.output})${s}`;r&&r.negated===!0&&(a=`^(?!${a}).*$`);let c=mt.toRegex(a,e);return n===!0&&(c.state=r),c};mt.makeRe=(r,e={},t=!1,n=!1)=>{if(!r||typeof r!="string")throw new TypeError("Expected a non-empty string");let i={negated:!1,fastpaths:!0};return e.fastpaths!==!1&&(r[0]==="."||r[0]==="*")&&(i.output=kx.fastpaths(r,e)),i.output||(i=kx(r,e)),mt.compileRe(i,e,t,n)};mt.toRegex=(r,e)=>{try{let t=e||{};return new RegExp(r,t.flags||(t.nocase?"i":""))}catch(t){if(e&&e.debug===!0)throw t;return/$^/}};mt.constants=zJ;UM.exports=mt});var Ax=v((Wde,WM)=>{"use strict";WM.exports=qM()});var rf=v((Vde,zM)=>{"use strict";var $M=require("util"),HM=IM(),qi=Ax(),Dx=ef(),VM=r=>r===""||r==="./",GM=r=>{let e=r.indexOf("{");return e>-1&&r.indexOf("}",e)>-1},Ke=(r,e,t)=>{e=[].concat(e),r=[].concat(r);let n=new Set,i=new Set,o=new Set,s=0,a=l=>{o.add(l.output),t&&t.onResult&&t.onResult(l)};for(let l=0;l<e.length;l++){let p=qi(String(e[l]),{...t,onResult:a},!0),d=p.state.negated||p.state.negatedExtglob;d&&s++;for(let f of r){let h=p(f,!0);(d?!h.isMatch:h.isMatch)&&(d?n.add(h.output):(n.delete(h.output),i.add(h.output)))}}let u=(s===e.length?[...o]:[...i]).filter(l=>!n.has(l));if(t&&u.length===0){if(t.failglob===!0)throw new Error(`No matches found for "${e.join(", ")}"`);if(t.nonull===!0||t.nullglob===!0)return t.unescape?e.map(l=>l.replace(/\\/g,"")):e}return u};Ke.match=Ke;Ke.matcher=(r,e)=>qi(r,e);Ke.isMatch=(r,e,t)=>qi(e,t)(r);Ke.any=Ke.isMatch;Ke.not=(r,e,t={})=>{e=[].concat(e).map(String);let n=new Set,i=[],o=a=>{t.onResult&&t.onResult(a),i.push(a.output)},s=new Set(Ke(r,e,{...t,onResult:o}));for(let a of i)s.has(a)||n.add(a);return[...n]};Ke.contains=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${$M.inspect(r)}"`);if(Array.isArray(e))return e.some(n=>Ke.contains(r,n,t));if(typeof e=="string"){if(VM(r)||VM(e))return!1;if(r.includes(e)||r.startsWith("./")&&r.slice(2).includes(e))return!0}return Ke.isMatch(r,e,{...t,contains:!0})};Ke.matchKeys=(r,e,t)=>{if(!Dx.isObject(r))throw new TypeError("Expected the first argument to be an object");let n=Ke(Object.keys(r),e,t),i={};for(let o of n)i[o]=r[o];return i};Ke.some=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let o=qi(String(i),t);if(n.some(s=>o(s)))return!0}return!1};Ke.every=(r,e,t)=>{let n=[].concat(r);for(let i of[].concat(e)){let o=qi(String(i),t);if(!n.every(s=>o(s)))return!1}return!0};Ke.all=(r,e,t)=>{if(typeof r!="string")throw new TypeError(`Expected a string: "${$M.inspect(r)}"`);return[].concat(e).every(n=>qi(n,t)(r))};Ke.capture=(r,e,t)=>{let n=Dx.isWindows(t),o=qi.makeRe(String(r),{...t,capture:!0}).exec(n?Dx.toPosixSlashes(e):e);if(o)return o.slice(1).map(s=>s===void 0?"":s)};Ke.makeRe=(...r)=>qi.makeRe(...r);Ke.scan=(...r)=>qi.scan(...r);Ke.parse=(r,e)=>{let t=[];for(let n of[].concat(r||[]))for(let i of HM(String(n),e))t.push(qi.parse(i,e));return t};Ke.braces=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return e&&e.nobrace===!0||!GM(r)?[r]:HM(r,e)};Ke.braceExpand=(r,e)=>{if(typeof r!="string")throw new TypeError("Expected a string");return Ke.braces(r,{...e,expand:!0})};Ke.hasBraces=GM;zM.exports=Ke});var yL=v((Ghe,gL)=>{"use strict";var{Duplex:iY}=require("stream");function hL(r){r.emit("close")}function oY(){!this.destroyed&&this._writableState.finished&&this.destroy()}function mL(r){this.removeListener("error",mL),this.destroy(),this.listenerCount("error")===0&&this.emit("error",r)}function sY(r,e){let t=!0,n=new iY({...e,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return r.on("message",function(o,s){let a=!s&&n._readableState.objectMode?o.toString():o;n.push(a)||r.pause()}),r.once("error",function(o){n.destroyed||(t=!1,n.destroy(o))}),r.once("close",function(){n.destroyed||n.push(null)}),n._destroy=function(i,o){if(r.readyState===r.CLOSED){o(i),process.nextTick(hL,n);return}let s=!1;r.once("error",function(c){s=!0,o(c)}),r.once("close",function(){s||o(i),process.nextTick(hL,n)}),t&&r.terminate()},n._final=function(i){if(r.readyState===r.CONNECTING){r.once("open",function(){n._final(i)});return}r._socket!==null&&(r._socket._writableState.finished?(i(),n._readableState.endEmitted&&n.destroy()):(r._socket.once("finish",function(){i()}),r.close()))},n._read=function(){r.isPaused&&r.resume()},n._write=function(i,o,s){if(r.readyState===r.CONNECTING){r.once("open",function(){n._write(i,o,s)});return}r.send(i,s)},n.on("end",oY),n.on("error",mL),n}gL.exports=sY});var vs=v((zhe,bL)=>{"use strict";bL.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}});var af=v((Khe,Ry)=>{"use strict";var{EMPTY_BUFFER:aY}=vs(),qx=Buffer[Symbol.species];function cY(r,e){if(r.length===0)return aY;if(r.length===1)return r[0];let t=Buffer.allocUnsafe(e),n=0;for(let i=0;i<r.length;i++){let o=r[i];t.set(o,n),n+=o.length}return n<e?new qx(t.buffer,t.byteOffset,n):t}function vL(r,e,t,n,i){for(let o=0;o<i;o++)t[n+o]=r[o]^e[o&3]}function wL(r,e){for(let t=0;t<r.length;t++)r[t]^=e[t&3]}function uY(r){return r.length===r.buffer.byteLength?r.buffer:r.buffer.slice(r.byteOffset,r.byteOffset+r.length)}function Wx(r){if(Wx.readOnly=!0,Buffer.isBuffer(r))return r;let e;return r instanceof ArrayBuffer?e=new qx(r):ArrayBuffer.isView(r)?e=new qx(r.buffer,r.byteOffset,r.byteLength):(e=Buffer.from(r),Wx.readOnly=!1),e}Ry.exports={concat:cY,mask:vL,toArrayBuffer:uY,toBuffer:Wx,unmask:wL};if(!process.env.WS_NO_BUFFER_UTIL)try{let r=require("bufferutil");Ry.exports.mask=function(e,t,n,i,o){o<48?vL(e,t,n,i,o):r.mask(e,t,n,i,o)},Ry.exports.unmask=function(e,t){e.length<32?wL(e,t):r.unmask(e,t)}}catch{}});var IL=v((Jhe,_L)=>{"use strict";var SL=Symbol("kDone"),Vx=Symbol("kRun"),$x=class{constructor(e){this[SL]=()=>{this.pending--,this[Vx]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[Vx]()}[Vx](){if(this.pending!==this.concurrency&&this.jobs.length){let e=this.jobs.shift();this.pending++,e(this[SL])}}};_L.exports=$x});var lf=v((Yhe,PL)=>{"use strict";var cf=require("zlib"),xL=af(),lY=IL(),{kStatusCode:TL}=vs(),pY=Buffer[Symbol.species],dY=Buffer.from([0,0,255,255]),Oy=Symbol("permessage-deflate"),Po=Symbol("total-length"),uf=Symbol("callback"),ws=Symbol("buffers"),Dy=Symbol("error"),Ay,Hx=class{constructor(e,t,n){if(this._maxPayload=n|0,this._options=e||{},this._threshold=this._options.threshold!==void 0?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!Ay){let i=this._options.concurrencyLimit!==void 0?this._options.concurrencyLimit:10;Ay=new lY(i)}}static get extensionName(){return"permessage-deflate"}offer(){let e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:this._options.clientMaxWindowBits==null&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){let e=this._deflate[uf];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){let t=this._options,n=e.find(i=>!(t.serverNoContextTakeover===!1&&i.server_no_context_takeover||i.server_max_window_bits&&(t.serverMaxWindowBits===!1||typeof t.serverMaxWindowBits=="number"&&t.serverMaxWindowBits>i.server_max_window_bits)||typeof t.clientMaxWindowBits=="number"&&!i.client_max_window_bits));if(!n)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(n.server_no_context_takeover=!0),t.clientNoContextTakeover&&(n.client_no_context_takeover=!0),typeof t.serverMaxWindowBits=="number"&&(n.server_max_window_bits=t.serverMaxWindowBits),typeof t.clientMaxWindowBits=="number"?n.client_max_window_bits=t.clientMaxWindowBits:(n.client_max_window_bits===!0||t.clientMaxWindowBits===!1)&&delete n.client_max_window_bits,n}acceptAsClient(e){let t=e[0];if(this._options.clientNoContextTakeover===!1&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(!t.client_max_window_bits)typeof this._options.clientMaxWindowBits=="number"&&(t.client_max_window_bits=this._options.clientMaxWindowBits);else if(this._options.clientMaxWindowBits===!1||typeof this._options.clientMaxWindowBits=="number"&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"');return t}normalizeParams(e){return e.forEach(t=>{Object.keys(t).forEach(n=>{let i=t[n];if(i.length>1)throw new Error(`Parameter "${n}" must have only a single value`);if(i=i[0],n==="client_max_window_bits"){if(i!==!0){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else if(n==="server_max_window_bits"){let o=+i;if(!Number.isInteger(o)||o<8||o>15)throw new TypeError(`Invalid value for parameter "${n}": ${i}`);i=o}else if(n==="client_no_context_takeover"||n==="server_no_context_takeover"){if(i!==!0)throw new TypeError(`Invalid value for parameter "${n}": ${i}`)}else throw new Error(`Unknown parameter "${n}"`);t[n]=i})}),e}decompress(e,t,n){Ay.add(i=>{this._decompress(e,t,(o,s)=>{i(),n(o,s)})})}compress(e,t,n){Ay.add(i=>{this._compress(e,t,(o,s)=>{i(),n(o,s)})})}_decompress(e,t,n){let i=this._isServer?"client":"server";if(!this._inflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?cf.Z_DEFAULT_WINDOWBITS:this.params[o];this._inflate=cf.createInflateRaw({...this._options.zlibInflateOptions,windowBits:s}),this._inflate[Oy]=this,this._inflate[Po]=0,this._inflate[ws]=[],this._inflate.on("error",hY),this._inflate.on("data",CL)}this._inflate[uf]=n,this._inflate.write(e),t&&this._inflate.write(dY),this._inflate.flush(()=>{let o=this._inflate[Dy];if(o){this._inflate.close(),this._inflate=null,n(o);return}let s=xL.concat(this._inflate[ws],this._inflate[Po]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[Po]=0,this._inflate[ws]=[],t&&this.params[`${i}_no_context_takeover`]&&this._inflate.reset()),n(null,s)})}_compress(e,t,n){let i=this._isServer?"server":"client";if(!this._deflate){let o=`${i}_max_window_bits`,s=typeof this.params[o]!="number"?cf.Z_DEFAULT_WINDOWBITS:this.params[o];this._deflate=cf.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:s}),this._deflate[Po]=0,this._deflate[ws]=[],this._deflate.on("data",fY)}this._deflate[uf]=n,this._deflate.write(e),this._deflate.flush(cf.Z_SYNC_FLUSH,()=>{if(!this._deflate)return;let o=xL.concat(this._deflate[ws],this._deflate[Po]);t&&(o=new pY(o.buffer,o.byteOffset,o.length-4)),this._deflate[uf]=null,this._deflate[Po]=0,this._deflate[ws]=[],t&&this.params[`${i}_no_context_takeover`]&&this._deflate.reset(),n(null,o)})}};PL.exports=Hx;function fY(r){this[ws].push(r),this[Po]+=r.length}function CL(r){if(this[Po]+=r.length,this[Oy]._maxPayload<1||this[Po]<=this[Oy]._maxPayload){this[ws].push(r);return}this[Dy]=new RangeError("Max payload size exceeded"),this[Dy].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[Dy][TL]=1009,this.removeListener("data",CL),this.reset()}function hY(r){this[Oy]._inflate=null,r[TL]=1007,this[uf](r)}});var pf=v((Xhe,My)=>{"use strict";var{isUtf8:EL}=require("buffer"),mY=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0];function gY(r){return r>=1e3&&r<=1014&&r!==1004&&r!==1005&&r!==1006||r>=3e3&&r<=4999}function Gx(r){let e=r.length,t=0;for(;t<e;)if((r[t]&128)===0)t++;else if((r[t]&224)===192){if(t+1===e||(r[t+1]&192)!==128||(r[t]&254)===192)return!1;t+=2}else if((r[t]&240)===224){if(t+2>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||r[t]===224&&(r[t+1]&224)===128||r[t]===237&&(r[t+1]&224)===160)return!1;t+=3}else if((r[t]&248)===240){if(t+3>=e||(r[t+1]&192)!==128||(r[t+2]&192)!==128||(r[t+3]&192)!==128||r[t]===240&&(r[t+1]&240)===128||r[t]===244&&r[t+1]>143||r[t]>244)return!1;t+=4}else return!1;return!0}My.exports={isValidStatusCode:gY,isValidUTF8:Gx,tokenChars:mY};if(EL)My.exports.isValidUTF8=function(r){return r.length<24?Gx(r):EL(r)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{let r=require("utf-8-validate");My.exports.isValidUTF8=function(e){return e.length<32?Gx(e):r(e)}}catch{}});var Xx=v((Qhe,LL)=>{"use strict";var{Writable:yY}=require("stream"),kL=lf(),{BINARY_TYPES:bY,EMPTY_BUFFER:RL,kStatusCode:vY,kWebSocket:wY}=vs(),{concat:zx,toArrayBuffer:SY,unmask:_Y}=af(),{isValidStatusCode:IY,isValidUTF8:AL}=pf(),Ly=Buffer[Symbol.species],_n=0,DL=1,OL=2,ML=3,Kx=4,Jx=5,Ny=6,Yx=class extends yY{constructor(e={}){super(),this._allowSynchronousEvents=e.allowSynchronousEvents!==void 0?e.allowSynchronousEvents:!0,this._binaryType=e.binaryType||bY[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=e.maxPayload|0,this._skipUTF8Validation=!!e.skipUTF8Validation,this[wY]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._errored=!1,this._loop=!1,this._state=_n}_write(e,t,n){if(this._opcode===8&&this._state==_n)return n();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(n)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){let n=this._buffers[0];return this._buffers[0]=new Ly(n.buffer,n.byteOffset+e,n.length-e),new Ly(n.buffer,n.byteOffset,e)}let t=Buffer.allocUnsafe(e);do{let n=this._buffers[0],i=t.length-e;e>=n.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(n.buffer,n.byteOffset,e),i),this._buffers[0]=new Ly(n.buffer,n.byteOffset+e,n.length-e)),e-=n.length}while(e>0);return t}startLoop(e){this._loop=!0;do switch(this._state){case _n:this.getInfo(e);break;case DL:this.getPayloadLength16(e);break;case OL:this.getPayloadLength64(e);break;case ML:this.getMask();break;case Kx:this.getData(e);break;case Jx:case Ny:this._loop=!1;return}while(this._loop);this._errored||e()}getInfo(e){if(this._bufferedBytes<2){this._loop=!1;return}let t=this.consume(2);if((t[0]&48)!==0){let i=this.createError(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");e(i);return}let n=(t[0]&64)===64;if(n&&!this._extensions[kL.extensionName]){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._fin=(t[0]&128)===128,this._opcode=t[0]&15,this._payloadLength=t[1]&127,this._opcode===0){if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(!this._fragmented){let i=this.createError(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._opcode=this._fragmented}else if(this._opcode===1||this._opcode===2){if(this._fragmented){let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}this._compressed=n}else if(this._opcode>7&&this._opcode<11){if(!this._fin){let i=this.createError(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");e(i);return}if(n){let i=this.createError(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");e(i);return}if(this._payloadLength>125||this._opcode===8&&this._payloadLength===1){let i=this.createError(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH");e(i);return}}else{let i=this.createError(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");e(i);return}if(!this._fin&&!this._fragmented&&(this._fragmented=this._opcode),this._masked=(t[1]&128)===128,this._isServer){if(!this._masked){let i=this.createError(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK");e(i);return}}else if(this._masked){let i=this.createError(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");e(i);return}this._payloadLength===126?this._state=DL:this._payloadLength===127?this._state=OL:this.haveLength(e)}getPayloadLength16(e){if(this._bufferedBytes<2){this._loop=!1;return}this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength(e)}getPayloadLength64(e){if(this._bufferedBytes<8){this._loop=!1;return}let t=this.consume(8),n=t.readUInt32BE(0);if(n>Math.pow(2,21)-1){let i=this.createError(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH");e(i);return}this._payloadLength=n*Math.pow(2,32)+t.readUInt32BE(4),this.haveLength(e)}haveLength(e){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0)){let t=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");e(t);return}this._masked?this._state=ML:this._state=Kx}getMask(){if(this._bufferedBytes<4){this._loop=!1;return}this._mask=this.consume(4),this._state=Kx}getData(e){let t=RL;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength){this._loop=!1;return}t=this.consume(this._payloadLength),this._masked&&(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])!==0&&_Y(t,this._mask)}if(this._opcode>7){this.controlMessage(t,e);return}if(this._compressed){this._state=Jx,this.decompress(t,e);return}t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage(e)}decompress(e,t){this._extensions[kL.extensionName].decompress(e,this._fin,(i,o)=>{if(i)return t(i);if(o.length){if(this._messageLength+=o.length,this._messageLength>this._maxPayload&&this._maxPayload>0){let s=this.createError(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");t(s);return}this._fragments.push(o)}this.dataMessage(t),this._state===_n&&this.startLoop(t)})}dataMessage(e){if(!this._fin){this._state=_n;return}let t=this._messageLength,n=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],this._opcode===2){let i;this._binaryType==="nodebuffer"?i=zx(n,t):this._binaryType==="arraybuffer"?i=SY(zx(n,t)):i=n,this._allowSynchronousEvents?(this.emit("message",i,!0),this._state=_n):(this._state=Ny,setImmediate(()=>{this.emit("message",i,!0),this._state=_n,this.startLoop(e)}))}else{let i=zx(n,t);if(!this._skipUTF8Validation&&!AL(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");e(o);return}this._state===Jx||this._allowSynchronousEvents?(this.emit("message",i,!1),this._state=_n):(this._state=Ny,setImmediate(()=>{this.emit("message",i,!1),this._state=_n,this.startLoop(e)}))}}controlMessage(e,t){if(this._opcode===8){if(e.length===0)this._loop=!1,this.emit("conclude",1005,RL),this.end();else{let n=e.readUInt16BE(0);if(!IY(n)){let o=this.createError(RangeError,`invalid status code ${n}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");t(o);return}let i=new Ly(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!AL(i)){let o=this.createError(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");t(o);return}this._loop=!1,this.emit("conclude",n,i),this.end()}this._state=_n;return}this._allowSynchronousEvents?(this.emit(this._opcode===9?"ping":"pong",e),this._state=_n):(this._state=Ny,setImmediate(()=>{this.emit(this._opcode===9?"ping":"pong",e),this._state=_n,this.startLoop(t)}))}createError(e,t,n,i,o){this._loop=!1,this._errored=!0;let s=new e(n?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(s,this.createError),s.code=o,s[vY]=i,s}};LL.exports=Yx});var Zx=v((eme,BL)=>{"use strict";var{Duplex:Zhe}=require("stream"),{randomFillSync:xY}=require("crypto"),NL=lf(),{EMPTY_BUFFER:TY}=vs(),{isValidStatusCode:CY}=pf(),{mask:FL,toBuffer:$u}=af(),Zn=Symbol("kByteLength"),PY=Buffer.alloc(4),Fy=8*1024,Ga,Hu=Fy,Qx=class r{constructor(e,t,n){this._extensions=t||{},n&&(this._generateMask=n,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let n,i=!1,o=2,s=!1;t.mask&&(n=t.maskBuffer||PY,t.generateMask?t.generateMask(n):(Hu===Fy&&(Ga===void 0&&(Ga=Buffer.alloc(Fy)),xY(Ga,0,Fy),Hu=0),n[0]=Ga[Hu++],n[1]=Ga[Hu++],n[2]=Ga[Hu++],n[3]=Ga[Hu++]),s=(n[0]|n[1]|n[2]|n[3])===0,o=6);let a;typeof e=="string"?(!t.mask||s)&&t[Zn]!==void 0?a=t[Zn]:(e=Buffer.from(e),a=e.length):(a=e.length,i=t.mask&&t.readOnly&&!s);let c=a;a>=65536?(o+=8,c=127):a>125&&(o+=2,c=126);let u=Buffer.allocUnsafe(i?a+o:o);return u[0]=t.fin?t.opcode|128:t.opcode,t.rsv1&&(u[0]|=64),u[1]=c,c===126?u.writeUInt16BE(a,2):c===127&&(u[2]=u[3]=0,u.writeUIntBE(a,4,6)),t.mask?(u[1]|=128,u[o-4]=n[0],u[o-3]=n[1],u[o-2]=n[2],u[o-1]=n[3],s?[u,e]:i?(FL(e,n,u,o,a),[u]):(FL(e,n,e,0,a),[u,e])):[u,e]}close(e,t,n,i){let o;if(e===void 0)o=TY;else{if(typeof e!="number"||!CY(e))throw new TypeError("First argument must be a valid error code number");if(t===void 0||!t.length)o=Buffer.allocUnsafe(2),o.writeUInt16BE(e,0);else{let a=Buffer.byteLength(t);if(a>123)throw new RangeError("The message must not be greater than 123 bytes");o=Buffer.allocUnsafe(2+a),o.writeUInt16BE(e,0),typeof t=="string"?o.write(t,2):o.set(t,2)}}let s={[Zn]:o.length,fin:!0,generateMask:this._generateMask,mask:n,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,o,!1,s,i]):this.sendFrame(r.frame(o,s),i)}ping(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=$u(e),i=e.length,o=$u.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Zn]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}pong(e,t,n){let i,o;if(typeof e=="string"?(i=Buffer.byteLength(e),o=!1):(e=$u(e),i=e.length,o=$u.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");let s={[Zn]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:o,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,s,n]):this.sendFrame(r.frame(e,s),n)}send(e,t,n){let i=this._extensions[NL.extensionName],o=t.binary?2:1,s=t.compress,a,c;if(typeof e=="string"?(a=Buffer.byteLength(e),c=!1):(e=$u(e),a=e.length,c=$u.readOnly),this._firstFragment?(this._firstFragment=!1,s&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(s=a>=i._threshold),this._compress=s):(s=!1,o=0),t.fin&&(this._firstFragment=!0),i){let u={[Zn]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:s};this._deflating?this.enqueue([this.dispatch,e,this._compress,u,n]):this.dispatch(e,this._compress,u,n)}else this.sendFrame(r.frame(e,{[Zn]:a,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:o,readOnly:c,rsv1:!1}),n)}dispatch(e,t,n,i){if(!t){this.sendFrame(r.frame(e,n),i);return}let o=this._extensions[NL.extensionName];this._bufferedBytes+=n[Zn],this._deflating=!0,o.compress(e,n.fin,(s,a)=>{if(this._socket.destroyed){let c=new Error("The socket was closed while data was being compressed");typeof i=="function"&&i(c);for(let u=0;u<this._queue.length;u++){let l=this._queue[u],p=l[l.length-1];typeof p=="function"&&p(c)}return}this._bufferedBytes-=n[Zn],this._deflating=!1,n.readOnly=!1,this.sendFrame(r.frame(a,n),i),this.dequeue()})}dequeue(){for(;!this._deflating&&this._queue.length;){let e=this._queue.shift();this._bufferedBytes-=e[3][Zn],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][Zn],this._queue.push(e)}sendFrame(e,t){e.length===2?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}};BL.exports=Qx});var zL=v((tme,GL)=>{"use strict";var{kForOnEventAttribute:df,kListener:eT}=vs(),jL=Symbol("kCode"),UL=Symbol("kData"),qL=Symbol("kError"),WL=Symbol("kMessage"),VL=Symbol("kReason"),Gu=Symbol("kTarget"),$L=Symbol("kType"),HL=Symbol("kWasClean"),Eo=class{constructor(e){this[Gu]=null,this[$L]=e}get target(){return this[Gu]}get type(){return this[$L]}};Object.defineProperty(Eo.prototype,"target",{enumerable:!0});Object.defineProperty(Eo.prototype,"type",{enumerable:!0});var za=class extends Eo{constructor(e,t={}){super(e),this[jL]=t.code===void 0?0:t.code,this[VL]=t.reason===void 0?"":t.reason,this[HL]=t.wasClean===void 0?!1:t.wasClean}get code(){return this[jL]}get reason(){return this[VL]}get wasClean(){return this[HL]}};Object.defineProperty(za.prototype,"code",{enumerable:!0});Object.defineProperty(za.prototype,"reason",{enumerable:!0});Object.defineProperty(za.prototype,"wasClean",{enumerable:!0});var zu=class extends Eo{constructor(e,t={}){super(e),this[qL]=t.error===void 0?null:t.error,this[WL]=t.message===void 0?"":t.message}get error(){return this[qL]}get message(){return this[WL]}};Object.defineProperty(zu.prototype,"error",{enumerable:!0});Object.defineProperty(zu.prototype,"message",{enumerable:!0});var ff=class extends Eo{constructor(e,t={}){super(e),this[UL]=t.data===void 0?null:t.data}get data(){return this[UL]}};Object.defineProperty(ff.prototype,"data",{enumerable:!0});var EY={addEventListener(r,e,t={}){for(let i of this.listeners(r))if(!t[df]&&i[eT]===e&&!i[df])return;let n;if(r==="message")n=function(o,s){let a=new ff("message",{data:s?o:o.toString()});a[Gu]=this,By(e,this,a)};else if(r==="close")n=function(o,s){let a=new za("close",{code:o,reason:s.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});a[Gu]=this,By(e,this,a)};else if(r==="error")n=function(o){let s=new zu("error",{error:o,message:o.message});s[Gu]=this,By(e,this,s)};else if(r==="open")n=function(){let o=new Eo("open");o[Gu]=this,By(e,this,o)};else return;n[df]=!!t[df],n[eT]=e,t.once?this.once(r,n):this.on(r,n)},removeEventListener(r,e){for(let t of this.listeners(r))if(t[eT]===e&&!t[df]){this.removeListener(r,t);break}}};GL.exports={CloseEvent:za,ErrorEvent:zu,Event:Eo,EventTarget:EY,MessageEvent:ff};function By(r,e,t){typeof r=="object"&&r.handleEvent?r.handleEvent.call(r,t):r.call(e,t)}});var tT=v((rme,KL)=>{"use strict";var{tokenChars:hf}=pf();function Gi(r,e,t){r[e]===void 0?r[e]=[t]:r[e].push(t)}function kY(r){let e=Object.create(null),t=Object.create(null),n=!1,i=!1,o=!1,s,a,c=-1,u=-1,l=-1,p=0;for(;p<r.length;p++)if(u=r.charCodeAt(p),s===void 0)if(l===-1&&hf[u]===1)c===-1&&(c=p);else if(p!==0&&(u===32||u===9))l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let f=r.slice(c,l);u===44?(Gi(e,f,t),t=Object.create(null)):s=f,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);else if(a===void 0)if(l===-1&&hf[u]===1)c===-1&&(c=p);else if(u===32||u===9)l===-1&&c!==-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p),Gi(t,r.slice(c,l),!0),u===44&&(Gi(e,s,t),t=Object.create(null),s=void 0),c=l=-1}else if(u===61&&c!==-1&&l===-1)a=r.slice(c,p),c=l=-1;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(i){if(hf[u]!==1)throw new SyntaxError(`Unexpected character at index ${p}`);c===-1?c=p:n||(n=!0),i=!1}else if(o)if(hf[u]===1)c===-1&&(c=p);else if(u===34&&c!==-1)o=!1,l=p;else if(u===92)i=!0;else throw new SyntaxError(`Unexpected character at index ${p}`);else if(u===34&&r.charCodeAt(p-1)===61)o=!0;else if(l===-1&&hf[u]===1)c===-1&&(c=p);else if(c!==-1&&(u===32||u===9))l===-1&&(l=p);else if(u===59||u===44){if(c===-1)throw new SyntaxError(`Unexpected character at index ${p}`);l===-1&&(l=p);let f=r.slice(c,l);n&&(f=f.replace(/\\/g,""),n=!1),Gi(t,a,f),u===44&&(Gi(e,s,t),t=Object.create(null),s=void 0),a=void 0,c=l=-1}else throw new SyntaxError(`Unexpected character at index ${p}`);if(c===-1||o||u===32||u===9)throw new SyntaxError("Unexpected end of input");l===-1&&(l=p);let d=r.slice(c,l);return s===void 0?Gi(e,d,t):(a===void 0?Gi(t,d,!0):n?Gi(t,a,d.replace(/\\/g,"")):Gi(t,a,d),Gi(e,s,t)),e}function RY(r){return Object.keys(r).map(e=>{let t=r[e];return Array.isArray(t)||(t=[t]),t.map(n=>[e].concat(Object.keys(n).map(i=>{let o=n[i];return Array.isArray(o)||(o=[o]),o.map(s=>s===!0?i:`${i}=${s}`).join("; ")})).join("; ")).join(", ")}).join(", ")}KL.exports={format:RY,parse:kY}});var sT=v((ome,oN)=>{"use strict";var AY=require("events"),DY=require("https"),OY=require("http"),XL=require("net"),MY=require("tls"),{randomBytes:LY,createHash:NY}=require("crypto"),{Duplex:nme,Readable:ime}=require("stream"),{URL:rT}=require("url"),Ss=lf(),FY=Xx(),BY=Zx(),{BINARY_TYPES:JL,EMPTY_BUFFER:jy,GUID:jY,kForOnEventAttribute:nT,kListener:UY,kStatusCode:qY,kWebSocket:lr,NOOP:QL}=vs(),{EventTarget:{addEventListener:WY,removeEventListener:VY}}=zL(),{format:$Y,parse:HY}=tT(),{toBuffer:GY}=af(),zY=30*1e3,ZL=Symbol("kAborted"),iT=[8,13],ko=["CONNECTING","OPEN","CLOSING","CLOSED"],KY=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/,gt=class r extends AY{constructor(e,t,n){super(),this._binaryType=JL[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=jy,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=r.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,e!==null?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,t===void 0?t=[]:Array.isArray(t)||(typeof t=="object"&&t!==null?(n=t,t=[]):t=[t]),eN(this,e,t,n)):(this._autoPong=n.autoPong,this._isServer=!0)}get binaryType(){return this._binaryType}set binaryType(e){JL.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,n){let i=new FY({allowSynchronousEvents:n.allowSynchronousEvents,binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:n.maxPayload,skipUTF8Validation:n.skipUTF8Validation});this._sender=new BY(e,this._extensions,n.generateMask),this._receiver=i,this._socket=e,i[lr]=this,e[lr]=this,i.on("conclude",XY),i.on("drain",QY),i.on("error",ZY),i.on("message",eX),i.on("ping",tX),i.on("pong",rX),e.setTimeout&&e.setTimeout(0),e.setNoDelay&&e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",rN),e.on("data",qy),e.on("end",nN),e.on("error",iN),this._readyState=r.OPEN,this.emit("open")}emitClose(){if(!this._socket){this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage);return}this._extensions[Ss.extensionName]&&this._extensions[Ss.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=r.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){Yr(this,this._req,"WebSocket was closed before the connection was established");return}if(this.readyState===r.CLOSING){this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();return}this._readyState=r.CLOSING,this._sender.close(e,t,!this._isServer,n=>{n||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())}),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),zY)}}pause(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!0,this._socket.pause())}ping(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){oT(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.ping(e||jy,t,n)}pong(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof e=="function"?(n=e,e=t=void 0):typeof t=="function"&&(n=t,t=void 0),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){oT(this,e,n);return}t===void 0&&(t=!this._isServer),this._sender.pong(e||jy,t,n)}resume(){this.readyState===r.CONNECTING||this.readyState===r.CLOSED||(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,n){if(this.readyState===r.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if(typeof t=="function"&&(n=t,t={}),typeof e=="number"&&(e=e.toString()),this.readyState!==r.OPEN){oT(this,e,n);return}let i={binary:typeof e!="string",mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[Ss.extensionName]||(i.compress=!1),this._sender.send(e||jy,i,n)}terminate(){if(this.readyState!==r.CLOSED){if(this.readyState===r.CONNECTING){Yr(this,this._req,"WebSocket was closed before the connection was established");return}this._socket&&(this._readyState=r.CLOSING,this._socket.destroy())}}};Object.defineProperty(gt,"CONNECTING",{enumerable:!0,value:ko.indexOf("CONNECTING")});Object.defineProperty(gt.prototype,"CONNECTING",{enumerable:!0,value:ko.indexOf("CONNECTING")});Object.defineProperty(gt,"OPEN",{enumerable:!0,value:ko.indexOf("OPEN")});Object.defineProperty(gt.prototype,"OPEN",{enumerable:!0,value:ko.indexOf("OPEN")});Object.defineProperty(gt,"CLOSING",{enumerable:!0,value:ko.indexOf("CLOSING")});Object.defineProperty(gt.prototype,"CLOSING",{enumerable:!0,value:ko.indexOf("CLOSING")});Object.defineProperty(gt,"CLOSED",{enumerable:!0,value:ko.indexOf("CLOSED")});Object.defineProperty(gt.prototype,"CLOSED",{enumerable:!0,value:ko.indexOf("CLOSED")});["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach(r=>{Object.defineProperty(gt.prototype,r,{enumerable:!0})});["open","error","close","message"].forEach(r=>{Object.defineProperty(gt.prototype,`on${r}`,{enumerable:!0,get(){for(let e of this.listeners(r))if(e[nT])return e[UY];return null},set(e){for(let t of this.listeners(r))if(t[nT]){this.removeListener(r,t);break}typeof e=="function"&&this.addEventListener(r,e,{[nT]:!0})}})});gt.prototype.addEventListener=WY;gt.prototype.removeEventListener=VY;oN.exports=gt;function eN(r,e,t,n){let i={allowSynchronousEvents:!0,autoPong:!0,protocolVersion:iT[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...n,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(r._autoPong=i.autoPong,!iT.includes(i.protocolVersion))throw new RangeError(`Unsupported protocol version: ${i.protocolVersion} (supported versions: ${iT.join(", ")})`);let o;if(e instanceof rT)o=e;else try{o=new rT(e)}catch{throw new SyntaxError(`Invalid URL: ${e}`)}o.protocol==="http:"?o.protocol="ws:":o.protocol==="https:"&&(o.protocol="wss:"),r._url=o.href;let s=o.protocol==="wss:",a=o.protocol==="ws+unix:",c;if(o.protocol!=="ws:"&&!s&&!a?c=`The URL's protocol must be one of "ws:", "wss:", "http:", "https", or "ws+unix:"`:a&&!o.pathname?c="The URL's pathname is empty":o.hash&&(c="The URL contains a fragment identifier"),c){let g=new SyntaxError(c);if(r._redirects===0)throw g;Uy(r,g);return}let u=s?443:80,l=LY(16).toString("base64"),p=s?DY.request:OY.request,d=new Set,f;if(i.createConnection=i.createConnection||(s?YY:JY),i.defaultPort=i.defaultPort||u,i.port=o.port||u,i.host=o.hostname.startsWith("[")?o.hostname.slice(1,-1):o.hostname,i.headers={...i.headers,"Sec-WebSocket-Version":i.protocolVersion,"Sec-WebSocket-Key":l,Connection:"Upgrade",Upgrade:"websocket"},i.path=o.pathname+o.search,i.timeout=i.handshakeTimeout,i.perMessageDeflate&&(f=new Ss(i.perMessageDeflate!==!0?i.perMessageDeflate:{},!1,i.maxPayload),i.headers["Sec-WebSocket-Extensions"]=$Y({[Ss.extensionName]:f.offer()})),t.length){for(let g of t){if(typeof g!="string"||!KY.test(g)||d.has(g))throw new SyntaxError("An invalid or duplicated subprotocol was specified");d.add(g)}i.headers["Sec-WebSocket-Protocol"]=t.join(",")}if(i.origin&&(i.protocolVersion<13?i.headers["Sec-WebSocket-Origin"]=i.origin:i.headers.Origin=i.origin),(o.username||o.password)&&(i.auth=`${o.username}:${o.password}`),a){let g=i.path.split(":");i.socketPath=g[0],i.path=g[1]}let h;if(i.followRedirects){if(r._redirects===0){r._originalIpc=a,r._originalSecure=s,r._originalHostOrSocketPath=a?i.socketPath:o.host;let g=n&&n.headers;if(n={...n,headers:{}},g)for(let[b,I]of Object.entries(g))n.headers[b.toLowerCase()]=I}else if(r.listenerCount("redirect")===0){let g=a?r._originalIpc?i.socketPath===r._originalHostOrSocketPath:!1:r._originalIpc?!1:o.host===r._originalHostOrSocketPath;(!g||r._originalSecure&&!s)&&(delete i.headers.authorization,delete i.headers.cookie,g||delete i.headers.host,i.auth=void 0)}i.auth&&!n.headers.authorization&&(n.headers.authorization="Basic "+Buffer.from(i.auth).toString("base64")),h=r._req=p(i),r._redirects&&r.emit("redirect",r.url,h)}else h=r._req=p(i);i.timeout&&h.on("timeout",()=>{Yr(r,h,"Opening handshake has timed out")}),h.on("error",g=>{h===null||h[ZL]||(h=r._req=null,Uy(r,g))}),h.on("response",g=>{let b=g.headers.location,I=g.statusCode;if(b&&i.followRedirects&&I>=300&&I<400){if(++r._redirects>i.maxRedirects){Yr(r,h,"Maximum redirects exceeded");return}h.abort();let L;try{L=new rT(b,e)}catch{let B=new SyntaxError(`Invalid URL: ${b}`);Uy(r,B);return}eN(r,L,t,n)}else r.emit("unexpected-response",h,g)||Yr(r,h,`Unexpected server response: ${g.statusCode}`)}),h.on("upgrade",(g,b,I)=>{if(r.emit("upgrade",g),r.readyState!==gt.CONNECTING)return;h=r._req=null;let L=g.headers.upgrade;if(L===void 0||L.toLowerCase()!=="websocket"){Yr(r,b,"Invalid Upgrade header");return}let E=NY("sha1").update(l+jY).digest("base64");if(g.headers["sec-websocket-accept"]!==E){Yr(r,b,"Invalid Sec-WebSocket-Accept header");return}let B=g.headers["sec-websocket-protocol"],A;if(B!==void 0?d.size?d.has(B)||(A="Server sent an invalid subprotocol"):A="Server sent a subprotocol but none was requested":d.size&&(A="Server sent no subprotocol"),A){Yr(r,b,A);return}B&&(r._protocol=B);let R=g.headers["sec-websocket-extensions"];if(R!==void 0){if(!f){Yr(r,b,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");return}let x;try{x=HY(R)}catch{Yr(r,b,"Invalid Sec-WebSocket-Extensions header");return}let V=Object.keys(x);if(V.length!==1||V[0]!==Ss.extensionName){Yr(r,b,"Server indicated an extension that was not requested");return}try{f.accept(x[Ss.extensionName])}catch{Yr(r,b,"Invalid Sec-WebSocket-Extensions header");return}r._extensions[Ss.extensionName]=f}r.setSocket(b,I,{allowSynchronousEvents:i.allowSynchronousEvents,generateMask:i.generateMask,maxPayload:i.maxPayload,skipUTF8Validation:i.skipUTF8Validation})}),i.finishRequest?i.finishRequest(h,r):h.end()}function Uy(r,e){r._readyState=gt.CLOSING,r.emit("error",e),r.emitClose()}function JY(r){return r.path=r.socketPath,XL.connect(r)}function YY(r){return r.path=void 0,!r.servername&&r.servername!==""&&(r.servername=XL.isIP(r.host)?"":r.host),MY.connect(r)}function Yr(r,e,t){r._readyState=gt.CLOSING;let n=new Error(t);Error.captureStackTrace(n,Yr),e.setHeader?(e[ZL]=!0,e.abort(),e.socket&&!e.socket.destroyed&&e.socket.destroy(),process.nextTick(Uy,r,n)):(e.destroy(n),e.once("error",r.emit.bind(r,"error")),e.once("close",r.emitClose.bind(r)))}function oT(r,e,t){if(e){let n=GY(e).length;r._socket?r._sender._bufferedBytes+=n:r._bufferedAmount+=n}if(t){let n=new Error(`WebSocket is not open: readyState ${r.readyState} (${ko[r.readyState]})`);process.nextTick(t,n)}}function XY(r,e){let t=this[lr];t._closeFrameReceived=!0,t._closeMessage=e,t._closeCode=r,t._socket[lr]!==void 0&&(t._socket.removeListener("data",qy),process.nextTick(tN,t._socket),r===1005?t.close():t.close(r,e))}function QY(){let r=this[lr];r.isPaused||r._socket.resume()}function ZY(r){let e=this[lr];e._socket[lr]!==void 0&&(e._socket.removeListener("data",qy),process.nextTick(tN,e._socket),e.close(r[qY])),e.emit("error",r)}function YL(){this[lr].emitClose()}function eX(r,e){this[lr].emit("message",r,e)}function tX(r){let e=this[lr];e._autoPong&&e.pong(r,!this._isServer,QL),e.emit("ping",r)}function rX(r){this[lr].emit("pong",r)}function tN(r){r.resume()}function rN(){let r=this[lr];this.removeListener("close",rN),this.removeListener("data",qy),this.removeListener("end",nN),r._readyState=gt.CLOSING;let e;!this._readableState.endEmitted&&!r._closeFrameReceived&&!r._receiver._writableState.errorEmitted&&(e=r._socket.read())!==null&&r._receiver.write(e),r._receiver.end(),this[lr]=void 0,clearTimeout(r._closeTimer),r._receiver._writableState.finished||r._receiver._writableState.errorEmitted?r.emitClose():(r._receiver.on("error",YL),r._receiver.on("finish",YL))}function qy(r){this[lr]._receiver.write(r)||this.pause()}function nN(){let r=this[lr];r._readyState=gt.CLOSING,r._receiver.end(),this.end()}function iN(){let r=this[lr];this.removeListener("error",iN),this.on("error",QL),r&&(r._readyState=gt.CLOSING,this.destroy())}});var aN=v((sme,sN)=>{"use strict";var{tokenChars:nX}=pf();function iX(r){let e=new Set,t=-1,n=-1,i=0;for(i;i<r.length;i++){let s=r.charCodeAt(i);if(n===-1&&nX[s]===1)t===-1&&(t=i);else if(i!==0&&(s===32||s===9))n===-1&&t!==-1&&(n=i);else if(s===44){if(t===-1)throw new SyntaxError(`Unexpected character at index ${i}`);n===-1&&(n=i);let a=r.slice(t,n);if(e.has(a))throw new SyntaxError(`The "${a}" subprotocol is duplicated`);e.add(a),t=n=-1}else throw new SyntaxError(`Unexpected character at index ${i}`)}if(t===-1||n!==-1)throw new SyntaxError("Unexpected end of input");let o=r.slice(t,i);if(e.has(o))throw new SyntaxError(`The "${o}" subprotocol is duplicated`);return e.add(o),e}sN.exports={parse:iX}});var hN=v((cme,fN)=>{"use strict";var oX=require("events"),Wy=require("http"),{Duplex:ame}=require("stream"),{createHash:sX}=require("crypto"),cN=tT(),Ka=lf(),aX=aN(),cX=sT(),{GUID:uX,kWebSocket:lX}=vs(),pX=/^[+/0-9A-Za-z]{22}==$/,uN=0,lN=1,dN=2,aT=class extends oX{constructor(e,t){if(super(),e={allowSynchronousEvents:!0,autoPong:!0,maxPayload:100*1024*1024,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:cX,...e},e.port==null&&!e.server&&!e.noServer||e.port!=null&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(e.port!=null?(this._server=Wy.createServer((n,i)=>{let o=Wy.STATUS_CODES[426];i.writeHead(426,{"Content-Length":o.length,"Content-Type":"text/plain"}),i.end(o)}),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){let n=this.emit.bind(this,"connection");this._removeListeners=dX(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(i,o,s)=>{this.handleUpgrade(i,o,s,n)}})}e.perMessageDeflate===!0&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=uN}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(this._state===dN){e&&this.once("close",()=>{e(new Error("The server is not running"))}),process.nextTick(mf,this);return}if(e&&this.once("close",e),this._state!==lN)if(this._state=lN,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients?this.clients.size?this._shouldEmitClose=!0:process.nextTick(mf,this):process.nextTick(mf,this);else{let t=this._server;this._removeListeners(),this._removeListeners=this._server=null,t.close(()=>{mf(this)})}}shouldHandle(e){if(this.options.path){let t=e.url.indexOf("?");if((t!==-1?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,n,i){t.on("error",pN);let o=e.headers["sec-websocket-key"],s=e.headers.upgrade,a=+e.headers["sec-websocket-version"];if(e.method!=="GET"){Ja(this,e,t,405,"Invalid HTTP method");return}if(s===void 0||s.toLowerCase()!=="websocket"){Ja(this,e,t,400,"Invalid Upgrade header");return}if(o===void 0||!pX.test(o)){Ja(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");return}if(a!==8&&a!==13){Ja(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");return}if(!this.shouldHandle(e)){gf(t,400);return}let c=e.headers["sec-websocket-protocol"],u=new Set;if(c!==void 0)try{u=aX.parse(c)}catch{Ja(this,e,t,400,"Invalid Sec-WebSocket-Protocol header");return}let l=e.headers["sec-websocket-extensions"],p={};if(this.options.perMessageDeflate&&l!==void 0){let d=new Ka(this.options.perMessageDeflate,!0,this.options.maxPayload);try{let f=cN.parse(l);f[Ka.extensionName]&&(d.accept(f[Ka.extensionName]),p[Ka.extensionName]=d)}catch{Ja(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header");return}}if(this.options.verifyClient){let d={origin:e.headers[`${a===8?"sec-websocket-origin":"origin"}`],secure:!!(e.socket.authorized||e.socket.encrypted),req:e};if(this.options.verifyClient.length===2){this.options.verifyClient(d,(f,h,g,b)=>{if(!f)return gf(t,h||401,g,b);this.completeUpgrade(p,o,u,e,t,n,i)});return}if(!this.options.verifyClient(d))return gf(t,401)}this.completeUpgrade(p,o,u,e,t,n,i)}completeUpgrade(e,t,n,i,o,s,a){if(!o.readable||!o.writable)return o.destroy();if(o[lX])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>uN)return gf(o,503);let u=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${sX("sha1").update(t+uX).digest("base64")}`],l=new this.options.WebSocket(null,void 0,this.options);if(n.size){let p=this.options.handleProtocols?this.options.handleProtocols(n,i):n.values().next().value;p&&(u.push(`Sec-WebSocket-Protocol: ${p}`),l._protocol=p)}if(e[Ka.extensionName]){let p=e[Ka.extensionName].params,d=cN.format({[Ka.extensionName]:[p]});u.push(`Sec-WebSocket-Extensions: ${d}`),l._extensions=e}this.emit("headers",u,i),o.write(u.concat(`\r
`).join(`\r
`)),o.removeListener("error",pN),l.setSocket(o,s,{allowSynchronousEvents:this.options.allowSynchronousEvents,maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(l),l.on("close",()=>{this.clients.delete(l),this._shouldEmitClose&&!this.clients.size&&process.nextTick(mf,this)})),a(l,i)}};fN.exports=aT;function dX(r,e){for(let t of Object.keys(e))r.on(t,e[t]);return function(){for(let n of Object.keys(e))r.removeListener(n,e[n])}}function mf(r){r._state=dN,r.emit("close")}function pN(){this.destroy()}function gf(r,e,t,n){t=t||Wy.STATUS_CODES[e],n={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(t),...n},r.once("finish",r.destroy),r.end(`HTTP/1.1 ${e} ${Wy.STATUS_CODES[e]}\r
`+Object.keys(n).map(i=>`${i}: ${n[i]}`).join(`\r
`)+`\r
\r
`+t)}function Ja(r,e,t,n,i){if(r.listenerCount("wsClientError")){let o=new Error(i);Error.captureStackTrace(o,Ja),r.emit("wsClientError",o,t,e)}else gf(t,n,i)}});var ON=v((Hme,DN)=>{"use strict";DN.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var LN=v((Gme,MN)=>{MN.exports=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}});var BN=v((zme,FN)=>{"use strict";var SX=LN(),_X=Array.prototype.concat,IX=Array.prototype.slice,NN=FN.exports=function(e){for(var t=[],n=0,i=e.length;n<i;n++){var o=e[n];SX(o)?t=_X.call(t,IX.call(o)):t.push(o)}return t};NN.wrap=function(r){return function(){return r(NN(arguments))}}});var WN=v((Kme,qN)=>{var vf=ON(),wf=BN(),jN=Object.hasOwnProperty,UN={};for(Ky in vf)jN.call(vf,Ky)&&(UN[vf[Ky]]=Ky);var Ky,Xr=qN.exports={to:{},get:{}};Xr.get=function(r){var e=r.substring(0,3).toLowerCase(),t,n;switch(e){case"hsl":t=Xr.get.hsl(r),n="hsl";break;case"hwb":t=Xr.get.hwb(r),n="hwb";break;default:t=Xr.get.rgb(r),n="rgb";break}return t?{model:n,value:t}:null};Xr.get.rgb=function(r){if(!r)return null;var e=/^#([a-f0-9]{3,4})$/i,t=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,n=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,o=/^(\w+)$/,s=[0,0,0,1],a,c,u;if(a=r.match(t)){for(u=a[2],a=a[1],c=0;c<3;c++){var l=c*2;s[c]=parseInt(a.slice(l,l+2),16)}u&&(s[3]=parseInt(u,16)/255)}else if(a=r.match(e)){for(a=a[1],u=a[3],c=0;c<3;c++)s[c]=parseInt(a[c]+a[c],16);u&&(s[3]=parseInt(u+u,16)/255)}else if(a=r.match(n)){for(c=0;c<3;c++)s[c]=parseInt(a[c+1],0);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else if(a=r.match(i)){for(c=0;c<3;c++)s[c]=Math.round(parseFloat(a[c+1])*2.55);a[4]&&(a[5]?s[3]=parseFloat(a[4])*.01:s[3]=parseFloat(a[4]))}else return(a=r.match(o))?a[1]==="transparent"?[0,0,0,0]:jN.call(vf,a[1])?(s=vf[a[1]],s[3]=1,s):null:null;for(c=0;c<3;c++)s[c]=Ts(s[c],0,255);return s[3]=Ts(s[3],0,1),s};Xr.get.hsl=function(r){if(!r)return null;var e=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Ts(parseFloat(t[2]),0,100),s=Ts(parseFloat(t[3]),0,100),a=Ts(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Xr.get.hwb=function(r){if(!r)return null;var e=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,t=r.match(e);if(t){var n=parseFloat(t[4]),i=(parseFloat(t[1])%360+360)%360,o=Ts(parseFloat(t[2]),0,100),s=Ts(parseFloat(t[3]),0,100),a=Ts(isNaN(n)?1:n,0,1);return[i,o,s,a]}return null};Xr.to.hex=function(){var r=wf(arguments);return"#"+Jy(r[0])+Jy(r[1])+Jy(r[2])+(r[3]<1?Jy(Math.round(r[3]*255)):"")};Xr.to.rgb=function(){var r=wf(arguments);return r.length<4||r[3]===1?"rgb("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+")":"rgba("+Math.round(r[0])+", "+Math.round(r[1])+", "+Math.round(r[2])+", "+r[3]+")"};Xr.to.rgb.percent=function(){var r=wf(arguments),e=Math.round(r[0]/255*100),t=Math.round(r[1]/255*100),n=Math.round(r[2]/255*100);return r.length<4||r[3]===1?"rgb("+e+"%, "+t+"%, "+n+"%)":"rgba("+e+"%, "+t+"%, "+n+"%, "+r[3]+")"};Xr.to.hsl=function(){var r=wf(arguments);return r.length<4||r[3]===1?"hsl("+r[0]+", "+r[1]+"%, "+r[2]+"%)":"hsla("+r[0]+", "+r[1]+"%, "+r[2]+"%, "+r[3]+")"};Xr.to.hwb=function(){var r=wf(arguments),e="";return r.length>=4&&r[3]!==1&&(e=", "+r[3]),"hwb("+r[0]+", "+r[1]+"%, "+r[2]+"%"+e+")"};Xr.to.keyword=function(r){return UN[r.slice(0,3)]};function Ts(r,e,t){return Math.min(Math.max(e,r),t)}function Jy(r){var e=Math.round(r).toString(16).toUpperCase();return e.length<2?"0"+e:e}});var $N=v((Jme,VN)=>{"use strict";VN.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}});var hT=v((Yme,GN)=>{var Sf=$N(),HN={};for(let r of Object.keys(Sf))HN[Sf[r]]=r;var X={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};GN.exports=X;for(let r of Object.keys(X)){if(!("channels"in X[r]))throw new Error("missing channels property: "+r);if(!("labels"in X[r]))throw new Error("missing channel labels property: "+r);if(X[r].labels.length!==X[r].channels)throw new Error("channel and label counts mismatch: "+r);let{channels:e,labels:t}=X[r];delete X[r].channels,delete X[r].labels,Object.defineProperty(X[r],"channels",{value:e}),Object.defineProperty(X[r],"labels",{value:t})}X.rgb.hsl=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(e,t,n),o=Math.max(e,t,n),s=o-i,a,c;o===i?a=0:e===o?a=(t-n)/s:t===o?a=2+(n-e)/s:n===o&&(a=4+(e-t)/s),a=Math.min(a*60,360),a<0&&(a+=360);let u=(i+o)/2;return o===i?c=0:u<=.5?c=s/(o+i):c=s/(2-o-i),[a,c*100,u*100]};X.rgb.hsv=function(r){let e,t,n,i,o,s=r[0]/255,a=r[1]/255,c=r[2]/255,u=Math.max(s,a,c),l=u-Math.min(s,a,c),p=function(d){return(u-d)/6/l+1/2};return l===0?(i=0,o=0):(o=l/u,e=p(s),t=p(a),n=p(c),s===u?i=n-t:a===u?i=1/3+e-n:c===u&&(i=2/3+t-e),i<0?i+=1:i>1&&(i-=1)),[i*360,o*100,u*100]};X.rgb.hwb=function(r){let e=r[0],t=r[1],n=r[2],i=X.rgb.hsl(r)[0],o=1/255*Math.min(e,Math.min(t,n));return n=1-1/255*Math.max(e,Math.max(t,n)),[i,o*100,n*100]};X.rgb.cmyk=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.min(1-e,1-t,1-n),o=(1-e-i)/(1-i)||0,s=(1-t-i)/(1-i)||0,a=(1-n-i)/(1-i)||0;return[o*100,s*100,a*100,i*100]};function xX(r,e){return(r[0]-e[0])**2+(r[1]-e[1])**2+(r[2]-e[2])**2}X.rgb.keyword=function(r){let e=HN[r];if(e)return e;let t=1/0,n;for(let i of Object.keys(Sf)){let o=Sf[i],s=xX(r,o);s<t&&(t=s,n=i)}return n};X.keyword.rgb=function(r){return Sf[r]};X.rgb.xyz=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255;e=e>.04045?((e+.055)/1.055)**2.4:e/12.92,t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92;let i=e*.4124+t*.3576+n*.1805,o=e*.2126+t*.7152+n*.0722,s=e*.0193+t*.1192+n*.9505;return[i*100,o*100,s*100]};X.rgb.lab=function(r){let e=X.rgb.xyz(r),t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;let o=116*n-16,s=500*(t-n),a=200*(n-i);return[o,s,a]};X.hsl.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100,i,o,s;if(t===0)return s=n*255,[s,s,s];n<.5?i=n*(1+t):i=n+t-n*t;let a=2*n-i,c=[0,0,0];for(let u=0;u<3;u++)o=e+1/3*-(u-1),o<0&&o++,o>1&&o--,6*o<1?s=a+(i-a)*6*o:2*o<1?s=i:3*o<2?s=a+(i-a)*(2/3-o)*6:s=a,c[u]=s*255;return c};X.hsl.hsv=function(r){let e=r[0],t=r[1]/100,n=r[2]/100,i=t,o=Math.max(n,.01);n*=2,t*=n<=1?n:2-n,i*=o<=1?o:2-o;let s=(n+t)/2,a=n===0?2*i/(o+i):2*t/(n+t);return[e,a*100,s*100]};X.hsv.rgb=function(r){let e=r[0]/60,t=r[1]/100,n=r[2]/100,i=Math.floor(e)%6,o=e-Math.floor(e),s=255*n*(1-t),a=255*n*(1-t*o),c=255*n*(1-t*(1-o));switch(n*=255,i){case 0:return[n,c,s];case 1:return[a,n,s];case 2:return[s,n,c];case 3:return[s,a,n];case 4:return[c,s,n];case 5:return[n,s,a]}};X.hsv.hsl=function(r){let e=r[0],t=r[1]/100,n=r[2]/100,i=Math.max(n,.01),o,s;s=(2-t)*n;let a=(2-t)*i;return o=t*i,o/=a<=1?a:2-a,o=o||0,s/=2,[e,o*100,s*100]};X.hwb.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100,i=t+n,o;i>1&&(t/=i,n/=i);let s=Math.floor(6*e),a=1-n;o=6*e-s,(s&1)!==0&&(o=1-o);let c=t+o*(a-t),u,l,p;switch(s){default:case 6:case 0:u=a,l=c,p=t;break;case 1:u=c,l=a,p=t;break;case 2:u=t,l=a,p=c;break;case 3:u=t,l=c,p=a;break;case 4:u=c,l=t,p=a;break;case 5:u=a,l=t,p=c;break}return[u*255,l*255,p*255]};X.cmyk.rgb=function(r){let e=r[0]/100,t=r[1]/100,n=r[2]/100,i=r[3]/100,o=1-Math.min(1,e*(1-i)+i),s=1-Math.min(1,t*(1-i)+i),a=1-Math.min(1,n*(1-i)+i);return[o*255,s*255,a*255]};X.xyz.rgb=function(r){let e=r[0]/100,t=r[1]/100,n=r[2]/100,i,o,s;return i=e*3.2406+t*-1.5372+n*-.4986,o=e*-.9689+t*1.8758+n*.0415,s=e*.0557+t*-.204+n*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,i=Math.min(Math.max(0,i),1),o=Math.min(Math.max(0,o),1),s=Math.min(Math.max(0,s),1),[i*255,o*255,s*255]};X.xyz.lab=function(r){let e=r[0],t=r[1],n=r[2];e/=95.047,t/=100,n/=108.883,e=e>.008856?e**(1/3):7.787*e+16/116,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116;let i=116*t-16,o=500*(e-t),s=200*(t-n);return[i,o,s]};X.lab.xyz=function(r){let e=r[0],t=r[1],n=r[2],i,o,s;o=(e+16)/116,i=t/500+o,s=o-n/200;let a=o**3,c=i**3,u=s**3;return o=a>.008856?a:(o-16/116)/7.787,i=c>.008856?c:(i-16/116)/7.787,s=u>.008856?u:(s-16/116)/7.787,i*=95.047,o*=100,s*=108.883,[i,o,s]};X.lab.lch=function(r){let e=r[0],t=r[1],n=r[2],i;i=Math.atan2(n,t)*360/2/Math.PI,i<0&&(i+=360);let s=Math.sqrt(t*t+n*n);return[e,s,i]};X.lch.lab=function(r){let e=r[0],t=r[1],i=r[2]/360*2*Math.PI,o=t*Math.cos(i),s=t*Math.sin(i);return[e,o,s]};X.rgb.ansi16=function(r,e=null){let[t,n,i]=r,o=e===null?X.rgb.hsv(r)[2]:e;if(o=Math.round(o/50),o===0)return 30;let s=30+(Math.round(i/255)<<2|Math.round(n/255)<<1|Math.round(t/255));return o===2&&(s+=60),s};X.hsv.ansi16=function(r){return X.rgb.ansi16(X.hsv.rgb(r),r[2])};X.rgb.ansi256=function(r){let e=r[0],t=r[1],n=r[2];return e===t&&t===n?e<8?16:e>248?231:Math.round((e-8)/247*24)+232:16+36*Math.round(e/255*5)+6*Math.round(t/255*5)+Math.round(n/255*5)};X.ansi16.rgb=function(r){let e=r%10;if(e===0||e===7)return r>50&&(e+=3.5),e=e/10.5*255,[e,e,e];let t=(~~(r>50)+1)*.5,n=(e&1)*t*255,i=(e>>1&1)*t*255,o=(e>>2&1)*t*255;return[n,i,o]};X.ansi256.rgb=function(r){if(r>=232){let o=(r-232)*10+8;return[o,o,o]}r-=16;let e,t=Math.floor(r/36)/5*255,n=Math.floor((e=r%36)/6)/5*255,i=e%6/5*255;return[t,n,i]};X.rgb.hex=function(r){let t=(((Math.round(r[0])&255)<<16)+((Math.round(r[1])&255)<<8)+(Math.round(r[2])&255)).toString(16).toUpperCase();return"000000".substring(t.length)+t};X.hex.rgb=function(r){let e=r.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!e)return[0,0,0];let t=e[0];e[0].length===3&&(t=t.split("").map(a=>a+a).join(""));let n=parseInt(t,16),i=n>>16&255,o=n>>8&255,s=n&255;return[i,o,s]};X.rgb.hcg=function(r){let e=r[0]/255,t=r[1]/255,n=r[2]/255,i=Math.max(Math.max(e,t),n),o=Math.min(Math.min(e,t),n),s=i-o,a,c;return s<1?a=o/(1-s):a=0,s<=0?c=0:i===e?c=(t-n)/s%6:i===t?c=2+(n-e)/s:c=4+(e-t)/s,c/=6,c%=1,[c*360,s*100,a*100]};X.hsl.hcg=function(r){let e=r[1]/100,t=r[2]/100,n=t<.5?2*e*t:2*e*(1-t),i=0;return n<1&&(i=(t-.5*n)/(1-n)),[r[0],n*100,i*100]};X.hsv.hcg=function(r){let e=r[1]/100,t=r[2]/100,n=e*t,i=0;return n<1&&(i=(t-n)/(1-n)),[r[0],n*100,i*100]};X.hcg.rgb=function(r){let e=r[0]/360,t=r[1]/100,n=r[2]/100;if(t===0)return[n*255,n*255,n*255];let i=[0,0,0],o=e%1*6,s=o%1,a=1-s,c=0;switch(Math.floor(o)){case 0:i[0]=1,i[1]=s,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=s;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=s,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return c=(1-t)*n,[(t*i[0]+c)*255,(t*i[1]+c)*255,(t*i[2]+c)*255]};X.hcg.hsv=function(r){let e=r[1]/100,t=r[2]/100,n=e+t*(1-e),i=0;return n>0&&(i=e/n),[r[0],i*100,n*100]};X.hcg.hsl=function(r){let e=r[1]/100,n=r[2]/100*(1-e)+.5*e,i=0;return n>0&&n<.5?i=e/(2*n):n>=.5&&n<1&&(i=e/(2*(1-n))),[r[0],i*100,n*100]};X.hcg.hwb=function(r){let e=r[1]/100,t=r[2]/100,n=e+t*(1-e);return[r[0],(n-e)*100,(1-n)*100]};X.hwb.hcg=function(r){let e=r[1]/100,n=1-r[2]/100,i=n-e,o=0;return i<1&&(o=(n-i)/(1-i)),[r[0],i*100,o*100]};X.apple.rgb=function(r){return[r[0]/65535*255,r[1]/65535*255,r[2]/65535*255]};X.rgb.apple=function(r){return[r[0]/255*65535,r[1]/255*65535,r[2]/255*65535]};X.gray.rgb=function(r){return[r[0]/100*255,r[0]/100*255,r[0]/100*255]};X.gray.hsl=function(r){return[0,0,r[0]]};X.gray.hsv=X.gray.hsl;X.gray.hwb=function(r){return[0,100,r[0]]};X.gray.cmyk=function(r){return[0,0,0,r[0]]};X.gray.lab=function(r){return[r[0],0,0]};X.gray.hex=function(r){let e=Math.round(r[0]/100*255)&255,n=((e<<16)+(e<<8)+e).toString(16).toUpperCase();return"000000".substring(n.length)+n};X.rgb.gray=function(r){return[(r[0]+r[1]+r[2])/3/255*100]}});var KN=v((Xme,zN)=>{var Yy=hT();function TX(){let r={},e=Object.keys(Yy);for(let t=e.length,n=0;n<t;n++)r[e[n]]={distance:-1,parent:null};return r}function CX(r){let e=TX(),t=[r];for(e[r].distance=0;t.length;){let n=t.pop(),i=Object.keys(Yy[n]);for(let o=i.length,s=0;s<o;s++){let a=i[s],c=e[a];c.distance===-1&&(c.distance=e[n].distance+1,c.parent=n,t.unshift(a))}}return e}function PX(r,e){return function(t){return e(r(t))}}function EX(r,e){let t=[e[r].parent,r],n=Yy[e[r].parent][r],i=e[r].parent;for(;e[i].parent;)t.unshift(e[i].parent),n=PX(Yy[e[i].parent][i],n),i=e[i].parent;return n.conversion=t,n}zN.exports=function(r){let e=CX(r),t={},n=Object.keys(e);for(let i=n.length,o=0;o<i;o++){let s=n[o];e[s].parent!==null&&(t[s]=EX(s,e))}return t}});var YN=v((Qme,JN)=>{var mT=hT(),kX=KN(),Qu={},RX=Object.keys(mT);function AX(r){let e=function(...t){let n=t[0];return n==null?n:(n.length>1&&(t=n),r(t))};return"conversion"in r&&(e.conversion=r.conversion),e}function DX(r){let e=function(...t){let n=t[0];if(n==null)return n;n.length>1&&(t=n);let i=r(t);if(typeof i=="object")for(let o=i.length,s=0;s<o;s++)i[s]=Math.round(i[s]);return i};return"conversion"in r&&(e.conversion=r.conversion),e}RX.forEach(r=>{Qu[r]={},Object.defineProperty(Qu[r],"channels",{value:mT[r].channels}),Object.defineProperty(Qu[r],"labels",{value:mT[r].labels});let e=kX(r);Object.keys(e).forEach(n=>{let i=e[n];Qu[r][n]=DX(i),Qu[r][n].raw=AX(i)})});JN.exports=Qu});var ZN=v((Zme,QN)=>{var Zu=WN(),Qr=YN(),XN=["keyword","gray","hex"],gT={};for(let r of Object.keys(Qr))gT[[...Qr[r].labels].sort().join("")]=r;var Xy={};function Ft(r,e){if(!(this instanceof Ft))return new Ft(r,e);if(e&&e in XN&&(e=null),e&&!(e in Qr))throw new Error("Unknown model: "+e);let t,n;if(r==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(r instanceof Ft)this.model=r.model,this.color=[...r.color],this.valpha=r.valpha;else if(typeof r=="string"){let i=Zu.get(r);if(i===null)throw new Error("Unable to parse color from string: "+r);this.model=i.model,n=Qr[this.model].channels,this.color=i.value.slice(0,n),this.valpha=typeof i.value[n]=="number"?i.value[n]:1}else if(r.length>0){this.model=e||"rgb",n=Qr[this.model].channels;let i=Array.prototype.slice.call(r,0,n);this.color=yT(i,n),this.valpha=typeof r[n]=="number"?r[n]:1}else if(typeof r=="number")this.model="rgb",this.color=[r>>16&255,r>>8&255,r&255],this.valpha=1;else{this.valpha=1;let i=Object.keys(r);"alpha"in r&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof r.alpha=="number"?r.alpha:0);let o=i.sort().join("");if(!(o in gT))throw new Error("Unable to parse color from object: "+JSON.stringify(r));this.model=gT[o];let{labels:s}=Qr[this.model],a=[];for(t=0;t<s.length;t++)a.push(r[s[t]]);this.color=yT(a)}if(Xy[this.model])for(n=Qr[this.model].channels,t=0;t<n;t++){let i=Xy[this.model][t];i&&(this.color[t]=i(this.color[t]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Ft.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(r){let e=this.model in Zu.to?this:this.rgb();e=e.round(typeof r=="number"?r:1);let t=e.valpha===1?e.color:[...e.color,this.valpha];return Zu.to[e.model](t)},percentString(r){let e=this.rgb().round(typeof r=="number"?r:1),t=e.valpha===1?e.color:[...e.color,this.valpha];return Zu.to.rgb.percent(t)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){let r={},{channels:e}=Qr[this.model],{labels:t}=Qr[this.model];for(let n=0;n<e;n++)r[t[n]]=this.color[n];return this.valpha!==1&&(r.alpha=this.valpha),r},unitArray(){let r=this.rgb().color;return r[0]/=255,r[1]/=255,r[2]/=255,this.valpha!==1&&r.push(this.valpha),r},unitObject(){let r=this.rgb().object();return r.r/=255,r.g/=255,r.b/=255,this.valpha!==1&&(r.alpha=this.valpha),r},round(r){return r=Math.max(r||0,0),new Ft([...this.color.map(MX(r)),this.valpha],this.model)},alpha(r){return r!==void 0?new Ft([...this.color,Math.max(0,Math.min(1,r))],this.model):this.valpha},red:ut("rgb",0,Rt(255)),green:ut("rgb",1,Rt(255)),blue:ut("rgb",2,Rt(255)),hue:ut(["hsl","hsv","hsl","hwb","hcg"],0,r=>(r%360+360)%360),saturationl:ut("hsl",1,Rt(100)),lightness:ut("hsl",2,Rt(100)),saturationv:ut("hsv",1,Rt(100)),value:ut("hsv",2,Rt(100)),chroma:ut("hcg",1,Rt(100)),gray:ut("hcg",2,Rt(100)),white:ut("hwb",1,Rt(100)),wblack:ut("hwb",2,Rt(100)),cyan:ut("cmyk",0,Rt(100)),magenta:ut("cmyk",1,Rt(100)),yellow:ut("cmyk",2,Rt(100)),black:ut("cmyk",3,Rt(100)),x:ut("xyz",0,Rt(95.047)),y:ut("xyz",1,Rt(100)),z:ut("xyz",2,Rt(108.833)),l:ut("lab",0,Rt(100)),a:ut("lab",1),b:ut("lab",2),keyword(r){return r!==void 0?new Ft(r):Qr[this.model].keyword(this.color)},hex(r){return r!==void 0?new Ft(r):Zu.to.hex(this.rgb().round().color)},hexa(r){if(r!==void 0)return new Ft(r);let e=this.rgb().round().color,t=Math.round(this.valpha*255).toString(16).toUpperCase();return t.length===1&&(t="0"+t),Zu.to.hex(e)+t},rgbNumber(){let r=this.rgb().color;return(r[0]&255)<<16|(r[1]&255)<<8|r[2]&255},luminosity(){let r=this.rgb().color,e=[];for(let[t,n]of r.entries()){let i=n/255;e[t]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*e[0]+.7152*e[1]+.0722*e[2]},contrast(r){let e=this.luminosity(),t=r.luminosity();return e>t?(e+.05)/(t+.05):(t+.05)/(e+.05)},level(r){let e=this.contrast(r);return e>=7?"AAA":e>=4.5?"AA":""},isDark(){let r=this.rgb().color;return(r[0]*2126+r[1]*7152+r[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){let r=this.rgb();for(let e=0;e<3;e++)r.color[e]=255-r.color[e];return r},lighten(r){let e=this.hsl();return e.color[2]+=e.color[2]*r,e},darken(r){let e=this.hsl();return e.color[2]-=e.color[2]*r,e},saturate(r){let e=this.hsl();return e.color[1]+=e.color[1]*r,e},desaturate(r){let e=this.hsl();return e.color[1]-=e.color[1]*r,e},whiten(r){let e=this.hwb();return e.color[1]+=e.color[1]*r,e},blacken(r){let e=this.hwb();return e.color[2]+=e.color[2]*r,e},grayscale(){let r=this.rgb().color,e=r[0]*.3+r[1]*.59+r[2]*.11;return Ft.rgb(e,e,e)},fade(r){return this.alpha(this.valpha-this.valpha*r)},opaquer(r){return this.alpha(this.valpha+this.valpha*r)},rotate(r){let e=this.hsl(),t=e.color[0];return t=(t+r)%360,t=t<0?360+t:t,e.color[0]=t,e},mix(r,e){if(!r||!r.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof r);let t=r.rgb(),n=this.rgb(),i=e===void 0?.5:e,o=2*i-1,s=t.alpha()-n.alpha(),a=((o*s===-1?o:(o+s)/(1+o*s))+1)/2,c=1-a;return Ft.rgb(a*t.red()+c*n.red(),a*t.green()+c*n.green(),a*t.blue()+c*n.blue(),t.alpha()*i+n.alpha()*(1-i))}};for(let r of Object.keys(Qr)){if(XN.includes(r))continue;let{channels:e}=Qr[r];Ft.prototype[r]=function(...t){return this.model===r?new Ft(this):t.length>0?new Ft(t,r):new Ft([...LX(Qr[this.model][r].raw(this.color)),this.valpha],r)},Ft[r]=function(...t){let n=t[0];return typeof n=="number"&&(n=yT(t,e)),new Ft(n,r)}}function OX(r,e){return Number(r.toFixed(e))}function MX(r){return function(e){return OX(e,r)}}function ut(r,e,t){r=Array.isArray(r)?r:[r];for(let n of r)(Xy[n]||(Xy[n]=[]))[e]=t;return r=r[0],function(n){let i;return n!==void 0?(t&&(n=t(n)),i=this[r](),i.color[e]=n,i):(i=this[r]().color[e],t&&(i=t(i)),i)}}function Rt(r){return function(e){return Math.max(0,Math.min(r,e))}}function LX(r){return Array.isArray(r)?r:[r]}function yT(r,e){for(let t=0;t<e;t++)typeof r[t]!="number"&&(r[t]=0);return r}QN.exports=Ft});var QF=v(Rb=>{"use strict";Object.defineProperty(Rb,"__esModule",{value:!0});Rb.dataUriToBuffer=void 0;function hQ(r){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",t=[];for(let o=0;o<r.length;o+=4){let s=e.indexOf(r.charAt(o)),a=e.indexOf(r.charAt(o+1)),c=r.charAt(o+2)==="="?0:e.indexOf(r.charAt(o+2)),u=r.charAt(o+3)==="="?0:e.indexOf(r.charAt(o+3)),l=s<<2|a>>4,p=(a&15)<<4|c>>2,d=(c&3)<<6|u;t.push(l),r.charAt(o+2)!=="="&&t.push(p),r.charAt(o+3)!=="="&&t.push(d)}let n=new ArrayBuffer(t.length);return new Uint8Array(n).set(t),n}function mQ(r){let e=new ArrayBuffer(r.length),t=new Uint8Array(e);for(let n=0;n<r.length;n++)t[n]=r.charCodeAt(n);return e}function gQ(r){if(r=String(r),!/^data:/i.test(r))throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")');r=r.replace(/\r?\n/g,"");let e=r.indexOf(",");if(e===-1||e<=4)throw new TypeError("malformed data: URI");let t=r.substring(5,e).split(";"),n="",i=!1,o=t[0]||"text/plain",s=o;for(let u=1;u<t.length;u++)t[u]==="base64"?i=!0:t[u]&&(s+=`;${t[u]}`,t[u].indexOf("charset=")===0&&(n=t[u].substring(8)));!t[0]&&!n.length&&(s+=";charset=US-ASCII",n="US-ASCII");let a=unescape(r.substring(e+1)),c=i?hQ(a):mQ(a);return{type:o,typeFull:s,charset:n,buffer:c}}Rb.dataUriToBuffer=gQ});var Do=v((Ao,Ab)=>{"use strict";Object.defineProperty(Ao,"__esModule",{value:!0});var ZF=["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array","BigInt64Array","BigUint64Array"];function yQ(r){return ZF.includes(r)}var bQ=["Function","Generator","AsyncGenerator","GeneratorFunction","AsyncGeneratorFunction","AsyncFunction","Observable","Array","Buffer","Blob","Object","RegExp","Date","Error","Map","Set","WeakMap","WeakSet","ArrayBuffer","SharedArrayBuffer","DataView","Promise","URL","FormData","URLSearchParams","HTMLElement",...ZF];function vQ(r){return bQ.includes(r)}var wQ=["null","undefined","string","number","bigint","boolean","symbol"];function SQ(r){return wQ.includes(r)}function fl(r){return e=>typeof e===r}var{toString:eB}=Object.prototype,Df=r=>{let e=eB.call(r).slice(8,-1);if(/HTML\w+Element/.test(e)&&w.domElement(r))return"HTMLElement";if(vQ(e))return e},qe=r=>e=>Df(e)===r;function w(r){if(r===null)return"null";switch(typeof r){case"undefined":return"undefined";case"string":return"string";case"number":return"number";case"boolean":return"boolean";case"function":return"Function";case"bigint":return"bigint";case"symbol":return"symbol";default:}if(w.observable(r))return"Observable";if(w.array(r))return"Array";if(w.buffer(r))return"Buffer";let e=Df(r);if(e)return e;if(r instanceof String||r instanceof Boolean||r instanceof Number)throw new TypeError("Please don't use object wrappers for primitive types");return"Object"}w.undefined=fl("undefined");w.string=fl("string");var _Q=fl("number");w.number=r=>_Q(r)&&!w.nan(r);w.bigint=fl("bigint");w.function_=fl("function");w.null_=r=>r===null;w.class_=r=>w.function_(r)&&r.toString().startsWith("class ");w.boolean=r=>r===!0||r===!1;w.symbol=fl("symbol");w.numericString=r=>w.string(r)&&!w.emptyStringOrWhitespace(r)&&!Number.isNaN(Number(r));w.array=(r,e)=>Array.isArray(r)?w.function_(e)?r.every(e):!0:!1;w.buffer=r=>{var e,t,n,i;return(i=(n=(t=(e=r)===null||e===void 0?void 0:e.constructor)===null||t===void 0?void 0:t.isBuffer)===null||n===void 0?void 0:n.call(t,r))!==null&&i!==void 0?i:!1};w.blob=r=>qe("Blob")(r);w.nullOrUndefined=r=>w.null_(r)||w.undefined(r);w.object=r=>!w.null_(r)&&(typeof r=="object"||w.function_(r));w.iterable=r=>{var e;return w.function_((e=r)===null||e===void 0?void 0:e[Symbol.iterator])};w.asyncIterable=r=>{var e;return w.function_((e=r)===null||e===void 0?void 0:e[Symbol.asyncIterator])};w.generator=r=>{var e,t;return w.iterable(r)&&w.function_((e=r)===null||e===void 0?void 0:e.next)&&w.function_((t=r)===null||t===void 0?void 0:t.throw)};w.asyncGenerator=r=>w.asyncIterable(r)&&w.function_(r.next)&&w.function_(r.throw);w.nativePromise=r=>qe("Promise")(r);var IQ=r=>{var e,t;return w.function_((e=r)===null||e===void 0?void 0:e.then)&&w.function_((t=r)===null||t===void 0?void 0:t.catch)};w.promise=r=>w.nativePromise(r)||IQ(r);w.generatorFunction=qe("GeneratorFunction");w.asyncGeneratorFunction=r=>Df(r)==="AsyncGeneratorFunction";w.asyncFunction=r=>Df(r)==="AsyncFunction";w.boundFunction=r=>w.function_(r)&&!r.hasOwnProperty("prototype");w.regExp=qe("RegExp");w.date=qe("Date");w.error=qe("Error");w.map=r=>qe("Map")(r);w.set=r=>qe("Set")(r);w.weakMap=r=>qe("WeakMap")(r);w.weakSet=r=>qe("WeakSet")(r);w.int8Array=qe("Int8Array");w.uint8Array=qe("Uint8Array");w.uint8ClampedArray=qe("Uint8ClampedArray");w.int16Array=qe("Int16Array");w.uint16Array=qe("Uint16Array");w.int32Array=qe("Int32Array");w.uint32Array=qe("Uint32Array");w.float32Array=qe("Float32Array");w.float64Array=qe("Float64Array");w.bigInt64Array=qe("BigInt64Array");w.bigUint64Array=qe("BigUint64Array");w.arrayBuffer=qe("ArrayBuffer");w.sharedArrayBuffer=qe("SharedArrayBuffer");w.dataView=qe("DataView");w.enumCase=(r,e)=>Object.values(e).includes(r);w.directInstanceOf=(r,e)=>Object.getPrototypeOf(r)===e.prototype;w.urlInstance=r=>qe("URL")(r);w.urlString=r=>{if(!w.string(r))return!1;try{return new URL(r),!0}catch{return!1}};w.truthy=r=>!!r;w.falsy=r=>!r;w.nan=r=>Number.isNaN(r);w.primitive=r=>w.null_(r)||SQ(typeof r);w.integer=r=>Number.isInteger(r);w.safeInteger=r=>Number.isSafeInteger(r);w.plainObject=r=>{if(eB.call(r)!=="[object Object]")return!1;let e=Object.getPrototypeOf(r);return e===null||e===Object.getPrototypeOf({})};w.typedArray=r=>yQ(Df(r));var xQ=r=>w.safeInteger(r)&&r>=0;w.arrayLike=r=>!w.nullOrUndefined(r)&&!w.function_(r)&&xQ(r.length);w.inRange=(r,e)=>{if(w.number(e))return r>=Math.min(0,e)&&r<=Math.max(e,0);if(w.array(e)&&e.length===2)return r>=Math.min(...e)&&r<=Math.max(...e);throw new TypeError(`Invalid range: ${JSON.stringify(e)}`)};var TQ=1,CQ=["innerHTML","ownerDocument","style","attributes","nodeValue"];w.domElement=r=>w.object(r)&&r.nodeType===TQ&&w.string(r.nodeName)&&!w.plainObject(r)&&CQ.every(e=>e in r);w.observable=r=>{var e,t,n,i;return r?r===((t=(e=r)[Symbol.observable])===null||t===void 0?void 0:t.call(e))||r===((i=(n=r)["@@observable"])===null||i===void 0?void 0:i.call(n)):!1};w.nodeStream=r=>w.object(r)&&w.function_(r.pipe)&&!w.observable(r);w.infinite=r=>r===1/0||r===-1/0;var tB=r=>e=>w.integer(e)&&Math.abs(e%2)===r;w.evenInteger=tB(0);w.oddInteger=tB(1);w.emptyArray=r=>w.array(r)&&r.length===0;w.nonEmptyArray=r=>w.array(r)&&r.length>0;w.emptyString=r=>w.string(r)&&r.length===0;var PQ=r=>w.string(r)&&!/\S/.test(r);w.emptyStringOrWhitespace=r=>w.emptyString(r)||PQ(r);w.nonEmptyString=r=>w.string(r)&&r.length>0;w.nonEmptyStringAndNotWhitespace=r=>w.string(r)&&!w.emptyStringOrWhitespace(r);w.emptyObject=r=>w.object(r)&&!w.map(r)&&!w.set(r)&&Object.keys(r).length===0;w.nonEmptyObject=r=>w.object(r)&&!w.map(r)&&!w.set(r)&&Object.keys(r).length>0;w.emptySet=r=>w.set(r)&&r.size===0;w.nonEmptySet=r=>w.set(r)&&r.size>0;w.emptyMap=r=>w.map(r)&&r.size===0;w.nonEmptyMap=r=>w.map(r)&&r.size>0;w.propertyKey=r=>w.any([w.string,w.number,w.symbol],r);w.formData=r=>qe("FormData")(r);w.urlSearchParams=r=>qe("URLSearchParams")(r);var rB=(r,e,t)=>{if(!w.function_(e))throw new TypeError(`Invalid predicate: ${JSON.stringify(e)}`);if(t.length===0)throw new TypeError("Invalid number of values");return r.call(t,e)};w.any=(r,...e)=>(w.array(r)?r:[r]).some(n=>rB(Array.prototype.some,n,e));w.all=(r,...e)=>rB(Array.prototype.every,r,e);var U=(r,e,t,n={})=>{if(!r){let{multipleValues:i}=n,o=i?`received values of types ${[...new Set(t.map(s=>`\`${w(s)}\``))].join(", ")}`:`received value of type \`${w(t)}\``;throw new TypeError(`Expected value which is \`${e}\`, ${o}.`)}};Ao.assert={undefined:r=>U(w.undefined(r),"undefined",r),string:r=>U(w.string(r),"string",r),number:r=>U(w.number(r),"number",r),bigint:r=>U(w.bigint(r),"bigint",r),function_:r=>U(w.function_(r),"Function",r),null_:r=>U(w.null_(r),"null",r),class_:r=>U(w.class_(r),"Class",r),boolean:r=>U(w.boolean(r),"boolean",r),symbol:r=>U(w.symbol(r),"symbol",r),numericString:r=>U(w.numericString(r),"string with a number",r),array:(r,e)=>{U(w.array(r),"Array",r),e&&r.forEach(e)},buffer:r=>U(w.buffer(r),"Buffer",r),blob:r=>U(w.blob(r),"Blob",r),nullOrUndefined:r=>U(w.nullOrUndefined(r),"null or undefined",r),object:r=>U(w.object(r),"Object",r),iterable:r=>U(w.iterable(r),"Iterable",r),asyncIterable:r=>U(w.asyncIterable(r),"AsyncIterable",r),generator:r=>U(w.generator(r),"Generator",r),asyncGenerator:r=>U(w.asyncGenerator(r),"AsyncGenerator",r),nativePromise:r=>U(w.nativePromise(r),"native Promise",r),promise:r=>U(w.promise(r),"Promise",r),generatorFunction:r=>U(w.generatorFunction(r),"GeneratorFunction",r),asyncGeneratorFunction:r=>U(w.asyncGeneratorFunction(r),"AsyncGeneratorFunction",r),asyncFunction:r=>U(w.asyncFunction(r),"AsyncFunction",r),boundFunction:r=>U(w.boundFunction(r),"Function",r),regExp:r=>U(w.regExp(r),"RegExp",r),date:r=>U(w.date(r),"Date",r),error:r=>U(w.error(r),"Error",r),map:r=>U(w.map(r),"Map",r),set:r=>U(w.set(r),"Set",r),weakMap:r=>U(w.weakMap(r),"WeakMap",r),weakSet:r=>U(w.weakSet(r),"WeakSet",r),int8Array:r=>U(w.int8Array(r),"Int8Array",r),uint8Array:r=>U(w.uint8Array(r),"Uint8Array",r),uint8ClampedArray:r=>U(w.uint8ClampedArray(r),"Uint8ClampedArray",r),int16Array:r=>U(w.int16Array(r),"Int16Array",r),uint16Array:r=>U(w.uint16Array(r),"Uint16Array",r),int32Array:r=>U(w.int32Array(r),"Int32Array",r),uint32Array:r=>U(w.uint32Array(r),"Uint32Array",r),float32Array:r=>U(w.float32Array(r),"Float32Array",r),float64Array:r=>U(w.float64Array(r),"Float64Array",r),bigInt64Array:r=>U(w.bigInt64Array(r),"BigInt64Array",r),bigUint64Array:r=>U(w.bigUint64Array(r),"BigUint64Array",r),arrayBuffer:r=>U(w.arrayBuffer(r),"ArrayBuffer",r),sharedArrayBuffer:r=>U(w.sharedArrayBuffer(r),"SharedArrayBuffer",r),dataView:r=>U(w.dataView(r),"DataView",r),enumCase:(r,e)=>U(w.enumCase(r,e),"EnumCase",r),urlInstance:r=>U(w.urlInstance(r),"URL",r),urlString:r=>U(w.urlString(r),"string with a URL",r),truthy:r=>U(w.truthy(r),"truthy",r),falsy:r=>U(w.falsy(r),"falsy",r),nan:r=>U(w.nan(r),"NaN",r),primitive:r=>U(w.primitive(r),"primitive",r),integer:r=>U(w.integer(r),"integer",r),safeInteger:r=>U(w.safeInteger(r),"integer",r),plainObject:r=>U(w.plainObject(r),"plain object",r),typedArray:r=>U(w.typedArray(r),"TypedArray",r),arrayLike:r=>U(w.arrayLike(r),"array-like",r),domElement:r=>U(w.domElement(r),"HTMLElement",r),observable:r=>U(w.observable(r),"Observable",r),nodeStream:r=>U(w.nodeStream(r),"Node.js Stream",r),infinite:r=>U(w.infinite(r),"infinite number",r),emptyArray:r=>U(w.emptyArray(r),"empty array",r),nonEmptyArray:r=>U(w.nonEmptyArray(r),"non-empty array",r),emptyString:r=>U(w.emptyString(r),"empty string",r),emptyStringOrWhitespace:r=>U(w.emptyStringOrWhitespace(r),"empty string or whitespace",r),nonEmptyString:r=>U(w.nonEmptyString(r),"non-empty string",r),nonEmptyStringAndNotWhitespace:r=>U(w.nonEmptyStringAndNotWhitespace(r),"non-empty string and not whitespace",r),emptyObject:r=>U(w.emptyObject(r),"empty object",r),nonEmptyObject:r=>U(w.nonEmptyObject(r),"non-empty object",r),emptySet:r=>U(w.emptySet(r),"empty set",r),nonEmptySet:r=>U(w.nonEmptySet(r),"non-empty set",r),emptyMap:r=>U(w.emptyMap(r),"empty map",r),nonEmptyMap:r=>U(w.nonEmptyMap(r),"non-empty map",r),propertyKey:r=>U(w.propertyKey(r),"PropertyKey",r),formData:r=>U(w.formData(r),"FormData",r),urlSearchParams:r=>U(w.urlSearchParams(r),"URLSearchParams",r),evenInteger:r=>U(w.evenInteger(r),"even integer",r),oddInteger:r=>U(w.oddInteger(r),"odd integer",r),directInstanceOf:(r,e)=>U(w.directInstanceOf(r,e),"T",r),inRange:(r,e)=>U(w.inRange(r,e),"in range",r),any:(r,...e)=>U(w.any(r,...e),"predicate returns truthy for any value",e,{multipleValues:!0}),all:(r,...e)=>U(w.all(r,...e),"predicate returns truthy for all values",e,{multipleValues:!0})};Object.defineProperties(w,{class:{value:w.class_},function:{value:w.function_},null:{value:w.null_}});Object.defineProperties(Ao.assert,{class:{value:Ao.assert.class_},function:{value:Ao.assert.function_},null:{value:Ao.assert.null_}});Ao.default=w;Ab.exports=w;Ab.exports.default=w;Ab.exports.assert=Ao.assert});var nB=v((Mwe,tC)=>{"use strict";var Db=class extends Error{constructor(e){super(e||"Promise was canceled"),this.name="CancelError"}get isCanceled(){return!0}},Ob=class r{static fn(e){return(...t)=>new r((n,i,o)=>{t.push(o),e(...t).then(n,i)})}constructor(e){this._cancelHandlers=[],this._isPending=!0,this._isCanceled=!1,this._rejectOnCancel=!0,this._promise=new Promise((t,n)=>{this._reject=n;let i=a=>{(!this._isCanceled||!s.shouldReject)&&(this._isPending=!1,t(a))},o=a=>{this._isPending=!1,n(a)},s=a=>{if(!this._isPending)throw new Error("The `onCancel` handler was attached after the promise settled.");this._cancelHandlers.push(a)};return Object.defineProperties(s,{shouldReject:{get:()=>this._rejectOnCancel,set:a=>{this._rejectOnCancel=a}}}),e(i,o,s)})}then(e,t){return this._promise.then(e,t)}catch(e){return this._promise.catch(e)}finally(e){return this._promise.finally(e)}cancel(e){if(!(!this._isPending||this._isCanceled)){if(this._isCanceled=!0,this._cancelHandlers.length>0)try{for(let t of this._cancelHandlers)t()}catch(t){this._reject(t);return}this._rejectOnCancel&&this._reject(new Db(e))}}get isCanceled(){return this._isCanceled}};Object.setPrototypeOf(Ob.prototype,Promise.prototype);tC.exports=Ob;tC.exports.CancelError=Db});var iB=v((nC,iC)=>{"use strict";Object.defineProperty(nC,"__esModule",{value:!0});function EQ(r){return r.encrypted}var rC=(r,e)=>{let t;typeof e=="function"?t={connect:e}:t=e;let n=typeof t.connect=="function",i=typeof t.secureConnect=="function",o=typeof t.close=="function",s=()=>{n&&t.connect(),EQ(r)&&i&&(r.authorized?t.secureConnect():r.authorizationError||r.once("secureConnect",t.secureConnect)),o&&r.once("close",t.close)};r.writable&&!r.connecting?s():r.connecting?r.once("connect",s):r.destroyed&&o&&t.close(r._hadError)};nC.default=rC;iC.exports=rC;iC.exports.default=rC});var oB=v((sC,aC)=>{"use strict";Object.defineProperty(sC,"__esModule",{value:!0});var kQ=iB(),RQ=require("util"),AQ=Number(process.versions.node.split(".")[0]),oC=r=>{if(r.timings)return r.timings;let e={start:Date.now(),socket:void 0,lookup:void 0,connect:void 0,secureConnect:void 0,upload:void 0,response:void 0,end:void 0,error:void 0,abort:void 0,phases:{wait:void 0,dns:void 0,tcp:void 0,tls:void 0,request:void 0,firstByte:void 0,download:void 0,total:void 0}};r.timings=e;let t=a=>{let c=a.emit.bind(a);a.emit=(u,...l)=>(u==="error"&&(e.error=Date.now(),e.phases.total=e.error-e.start,a.emit=c),c(u,...l))};t(r);let n=()=>{e.abort=Date.now(),(!e.response||AQ>=13)&&(e.phases.total=Date.now()-e.start)};r.prependOnceListener("abort",n);let i=a=>{if(e.socket=Date.now(),e.phases.wait=e.socket-e.start,RQ.types.isProxy(a))return;let c=()=>{e.lookup=Date.now(),e.phases.dns=e.lookup-e.socket};a.prependOnceListener("lookup",c),kQ.default(a,{connect:()=>{e.connect=Date.now(),e.lookup===void 0&&(a.removeListener("lookup",c),e.lookup=e.connect,e.phases.dns=e.lookup-e.socket),e.phases.tcp=e.connect-e.lookup},secureConnect:()=>{e.secureConnect=Date.now(),e.phases.tls=e.secureConnect-e.connect}})};r.socket?i(r.socket):r.prependOnceListener("socket",i);let o=()=>{var a;e.upload=Date.now(),e.phases.request=e.upload-((a=e.secureConnect)!==null&&a!==void 0?a:e.connect)};return(typeof r.writableFinished=="boolean"?r.writableFinished:r.finished&&r.outputSize===0&&(!r.socket||r.socket.writableLength===0))?o():r.prependOnceListener("finish",o),r.prependOnceListener("response",a=>{e.response=Date.now(),e.phases.firstByte=e.response-e.upload,a.timings=e,t(a),a.prependOnceListener("end",()=>{e.end=Date.now(),e.phases.download=e.end-e.response,e.phases.total=e.end-e.start}),a.prependOnceListener("aborted",n)}),e};sC.default=oC;aC.exports=oC;aC.exports.default=oC});var dB=v((Lwe,lC)=>{"use strict";var{V4MAPPED:DQ,ADDRCONFIG:OQ,ALL:pB,promises:{Resolver:sB},lookup:MQ}=require("dns"),{promisify:cC}=require("util"),LQ=require("os"),hl=Symbol("cacheableLookupCreateConnection"),uC=Symbol("cacheableLookupInstance"),aB=Symbol("expires"),NQ=typeof pB=="number",cB=r=>{if(!(r&&typeof r.createConnection=="function"))throw new Error("Expected an Agent instance as the first argument")},FQ=r=>{for(let e of r)e.family!==6&&(e.address=`::ffff:${e.address}`,e.family=6)},uB=()=>{let r=!1,e=!1;for(let t of Object.values(LQ.networkInterfaces()))for(let n of t)if(!n.internal&&(n.family==="IPv6"?e=!0:r=!0,r&&e))return{has4:r,has6:e};return{has4:r,has6:e}},BQ=r=>Symbol.iterator in r,lB={ttl:!0},jQ={all:!0},Mb=class{constructor({cache:e=new Map,maxTtl:t=1/0,fallbackDuration:n=3600,errorTtl:i=.15,resolver:o=new sB,lookup:s=MQ}={}){if(this.maxTtl=t,this.errorTtl=i,this._cache=e,this._resolver=o,this._dnsLookup=cC(s),this._resolver instanceof sB?(this._resolve4=this._resolver.resolve4.bind(this._resolver),this._resolve6=this._resolver.resolve6.bind(this._resolver)):(this._resolve4=cC(this._resolver.resolve4.bind(this._resolver)),this._resolve6=cC(this._resolver.resolve6.bind(this._resolver))),this._iface=uB(),this._pending={},this._nextRemovalTime=!1,this._hostnamesToFallback=new Set,n<1)this._fallback=!1;else{this._fallback=!0;let a=setInterval(()=>{this._hostnamesToFallback.clear()},n*1e3);a.unref&&a.unref()}this.lookup=this.lookup.bind(this),this.lookupAsync=this.lookupAsync.bind(this)}set servers(e){this.clear(),this._resolver.setServers(e)}get servers(){return this._resolver.getServers()}lookup(e,t,n){if(typeof t=="function"?(n=t,t={}):typeof t=="number"&&(t={family:t}),!n)throw new Error("Callback must be a function.");this.lookupAsync(e,t).then(i=>{t.all?n(null,i):n(null,i.address,i.family,i.expires,i.ttl)},n)}async lookupAsync(e,t={}){typeof t=="number"&&(t={family:t});let n=await this.query(e);if(t.family===6){let i=n.filter(o=>o.family===6);t.hints&DQ&&(NQ&&t.hints&pB||i.length===0)?FQ(n):n=i}else t.family===4&&(n=n.filter(i=>i.family===4));if(t.hints&OQ){let{_iface:i}=this;n=n.filter(o=>o.family===6?i.has6:i.has4)}if(n.length===0){let i=new Error(`cacheableLookup ENOTFOUND ${e}`);throw i.code="ENOTFOUND",i.hostname=e,i}return t.all?n:n[0]}async query(e){let t=await this._cache.get(e);if(!t){let n=this._pending[e];if(n)t=await n;else{let i=this.queryAndCache(e);this._pending[e]=i;try{t=await i}finally{delete this._pending[e]}}}return t=t.map(n=>({...n})),t}async _resolve(e){let t=async u=>{try{return await u}catch(l){if(l.code==="ENODATA"||l.code==="ENOTFOUND")return[];throw l}},[n,i]=await Promise.all([this._resolve4(e,lB),this._resolve6(e,lB)].map(u=>t(u))),o=0,s=0,a=0,c=Date.now();for(let u of n)u.family=4,u.expires=c+u.ttl*1e3,o=Math.max(o,u.ttl);for(let u of i)u.family=6,u.expires=c+u.ttl*1e3,s=Math.max(s,u.ttl);return n.length>0?i.length>0?a=Math.min(o,s):a=o:a=s,{entries:[...n,...i],cacheTtl:a}}async _lookup(e){try{return{entries:await this._dnsLookup(e,{all:!0}),cacheTtl:0}}catch{return{entries:[],cacheTtl:0}}}async _set(e,t,n){if(this.maxTtl>0&&n>0){n=Math.min(n,this.maxTtl)*1e3,t[aB]=Date.now()+n;try{await this._cache.set(e,t,n)}catch(i){this.lookupAsync=async()=>{let o=new Error("Cache Error. Please recreate the CacheableLookup instance.");throw o.cause=i,o}}BQ(this._cache)&&this._tick(n)}}async queryAndCache(e){if(this._hostnamesToFallback.has(e))return this._dnsLookup(e,jQ);let t=await this._resolve(e);t.entries.length===0&&this._fallback&&(t=await this._lookup(e),t.entries.length!==0&&this._hostnamesToFallback.add(e));let n=t.entries.length===0?this.errorTtl:t.cacheTtl;return await this._set(e,t.entries,n),t.entries}_tick(e){let t=this._nextRemovalTime;(!t||e<t)&&(clearTimeout(this._removalTimeout),this._nextRemovalTime=e,this._removalTimeout=setTimeout(()=>{this._nextRemovalTime=!1;let n=1/0,i=Date.now();for(let[o,s]of this._cache){let a=s[aB];i>=a?this._cache.delete(o):a<n&&(n=a)}n!==1/0&&this._tick(n-i)},e),this._removalTimeout.unref&&this._removalTimeout.unref())}install(e){if(cB(e),hl in e)throw new Error("CacheableLookup has been already installed");e[hl]=e.createConnection,e[uC]=this,e.createConnection=(t,n)=>("lookup"in t||(t.lookup=this.lookup),e[hl](t,n))}uninstall(e){if(cB(e),e[hl]){if(e[uC]!==this)throw new Error("The agent is not owned by this CacheableLookup instance");e.createConnection=e[hl],delete e[hl],delete e[uC]}}updateInterfaceInfo(){let{_iface:e}=this;this._iface=uB(),(e.has4&&!this._iface.has4||e.has6&&!this._iface.has6)&&this._cache.clear()}clear(e){if(e){this._cache.delete(e);return}this._cache.clear()}};lC.exports=Mb;lC.exports.default=Mb});var mB=v((Nwe,hB)=>{"use strict";var UQ="text/plain",qQ="us-ascii",fB=(r,e)=>e.some(t=>t instanceof RegExp?t.test(r):t===r),WQ=(r,{stripHash:e})=>{let t=/^data:(?<type>[^,]*?),(?<data>[^#]*?)(?:#(?<hash>.*))?$/.exec(r);if(!t)throw new Error(`Invalid URL: ${r}`);let{type:n,data:i,hash:o}=t.groups,s=n.split(";");o=e?"":o;let a=!1;s[s.length-1]==="base64"&&(s.pop(),a=!0);let c=(s.shift()||"").toLowerCase(),l=[...s.map(p=>{let[d,f=""]=p.split("=").map(h=>h.trim());return d==="charset"&&(f=f.toLowerCase(),f===qQ)?"":`${d}${f?`=${f}`:""}`}).filter(Boolean)];return a&&l.push("base64"),(l.length!==0||c&&c!==UQ)&&l.unshift(c),`data:${l.join(";")},${a?i.trim():i}${o?`#${o}`:""}`},VQ=(r,e)=>{if(e={defaultProtocol:"http:",normalizeProtocol:!0,forceHttp:!1,forceHttps:!1,stripAuthentication:!0,stripHash:!1,stripTextFragment:!0,stripWWW:!0,removeQueryParameters:[/^utm_\w+/i],removeTrailingSlash:!0,removeSingleSlash:!0,removeDirectoryIndex:!1,sortQueryParameters:!0,...e},r=r.trim(),/^data:/i.test(r))return WQ(r,e);if(/^view-source:/i.test(r))throw new Error("`view-source:` is not supported as it is a non-standard protocol");let t=r.startsWith("//");!t&&/^\.*\//.test(r)||(r=r.replace(/^(?!(?:\w+:)?\/\/)|^\/\//,e.defaultProtocol));let i=new URL(r);if(e.forceHttp&&e.forceHttps)throw new Error("The `forceHttp` and `forceHttps` options cannot be used together");if(e.forceHttp&&i.protocol==="https:"&&(i.protocol="http:"),e.forceHttps&&i.protocol==="http:"&&(i.protocol="https:"),e.stripAuthentication&&(i.username="",i.password=""),e.stripHash?i.hash="":e.stripTextFragment&&(i.hash=i.hash.replace(/#?:~:text.*?$/i,"")),i.pathname&&(i.pathname=i.pathname.replace(/(?<!\b(?:[a-z][a-z\d+\-.]{1,50}:))\/{2,}/g,"/")),i.pathname)try{i.pathname=decodeURI(i.pathname)}catch{}if(e.removeDirectoryIndex===!0&&(e.removeDirectoryIndex=[/^index\.[a-z]+$/]),Array.isArray(e.removeDirectoryIndex)&&e.removeDirectoryIndex.length>0){let s=i.pathname.split("/"),a=s[s.length-1];fB(a,e.removeDirectoryIndex)&&(s=s.slice(0,s.length-1),i.pathname=s.slice(1).join("/")+"/")}if(i.hostname&&(i.hostname=i.hostname.replace(/\.$/,""),e.stripWWW&&/^www\.(?!www\.)(?:[a-z\-\d]{1,63})\.(?:[a-z.\-\d]{2,63})$/.test(i.hostname)&&(i.hostname=i.hostname.replace(/^www\./,""))),Array.isArray(e.removeQueryParameters))for(let s of[...i.searchParams.keys()])fB(s,e.removeQueryParameters)&&i.searchParams.delete(s);e.removeQueryParameters===!0&&(i.search=""),e.sortQueryParameters&&i.searchParams.sort(),e.removeTrailingSlash&&(i.pathname=i.pathname.replace(/\/$/,""));let o=r;return r=i.toString(),!e.removeSingleSlash&&i.pathname==="/"&&!o.endsWith("/")&&i.hash===""&&(r=r.replace(/\/$/,"")),(e.removeTrailingSlash||i.pathname==="/")&&i.hash===""&&e.removeSingleSlash&&(r=r.replace(/\/$/,"")),t&&!e.normalizeProtocol&&(r=r.replace(/^http:\/\//,"//")),e.stripProtocol&&(r=r.replace(/^(?:https?:)?\/\//,"")),r};hB.exports=VQ});var bB=v((Fwe,yB)=>{yB.exports=gB;function gB(r,e){if(r&&e)return gB(r)(e);if(typeof r!="function")throw new TypeError("need wrapper function");return Object.keys(r).forEach(function(n){t[n]=r[n]}),t;function t(){for(var n=new Array(arguments.length),i=0;i<n.length;i++)n[i]=arguments[i];var o=r.apply(this,n),s=n[n.length-1];return typeof o=="function"&&o!==s&&Object.keys(s).forEach(function(a){o[a]=s[a]}),o}}});var dC=v((Bwe,pC)=>{var vB=bB();pC.exports=vB(Lb);pC.exports.strict=vB(wB);Lb.proto=Lb(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return Lb(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return wB(this)},configurable:!0})});function Lb(r){var e=function(){return e.called?e.value:(e.called=!0,e.value=r.apply(this,arguments))};return e.called=!1,e}function wB(r){var e=function(){if(e.called)throw new Error(e.onceError);return e.called=!0,e.value=r.apply(this,arguments)},t=r.name||"Function wrapped with `once`";return e.onceError=t+" shouldn't be called more than once",e.called=!1,e}});var IB=v((jwe,_B)=>{var $Q=dC(),HQ=function(){},GQ=function(r){return r.setHeader&&typeof r.abort=="function"},zQ=function(r){return r.stdio&&Array.isArray(r.stdio)&&r.stdio.length===3},SB=function(r,e,t){if(typeof e=="function")return SB(r,null,e);e||(e={}),t=$Q(t||HQ);var n=r._writableState,i=r._readableState,o=e.readable||e.readable!==!1&&r.readable,s=e.writable||e.writable!==!1&&r.writable,a=!1,c=function(){r.writable||u()},u=function(){s=!1,o||t.call(r)},l=function(){o=!1,s||t.call(r)},p=function(b){t.call(r,b?new Error("exited with error code: "+b):null)},d=function(b){t.call(r,b)},f=function(){process.nextTick(h)},h=function(){if(!a){if(o&&!(i&&i.ended&&!i.destroyed))return t.call(r,new Error("premature close"));if(s&&!(n&&n.ended&&!n.destroyed))return t.call(r,new Error("premature close"))}},g=function(){r.req.on("finish",u)};return GQ(r)?(r.on("complete",u),r.on("abort",f),r.req?g():r.on("request",g)):s&&!n&&(r.on("end",c),r.on("close",c)),zQ(r)&&r.on("exit",p),r.on("end",l),r.on("finish",u),e.error!==!1&&r.on("error",d),r.on("close",f),function(){a=!0,r.removeListener("complete",u),r.removeListener("abort",f),r.removeListener("request",g),r.req&&r.req.removeListener("finish",u),r.removeListener("end",c),r.removeListener("close",c),r.removeListener("finish",u),r.removeListener("exit",p),r.removeListener("end",l),r.removeListener("error",d),r.removeListener("close",f)}};_B.exports=SB});var CB=v((Uwe,TB)=>{var KQ=dC(),JQ=IB(),fC=require("fs"),Of=function(){},YQ=/^v?\.0/.test(process.version),Nb=function(r){return typeof r=="function"},XQ=function(r){return!YQ||!fC?!1:(r instanceof(fC.ReadStream||Of)||r instanceof(fC.WriteStream||Of))&&Nb(r.close)},QQ=function(r){return r.setHeader&&Nb(r.abort)},ZQ=function(r,e,t,n){n=KQ(n);var i=!1;r.on("close",function(){i=!0}),JQ(r,{readable:e,writable:t},function(s){if(s)return n(s);i=!0,n()});var o=!1;return function(s){if(!i&&!o){if(o=!0,XQ(r))return r.close(Of);if(QQ(r))return r.abort();if(Nb(r.destroy))return r.destroy();n(s||new Error("stream was destroyed"))}}},xB=function(r){r()},eZ=function(r,e){return r.pipe(e)},tZ=function(){var r=Array.prototype.slice.call(arguments),e=Nb(r[r.length-1]||Of)&&r.pop()||Of;if(Array.isArray(r[0])&&(r=r[0]),r.length<2)throw new Error("pump requires two streams per minimum");var t,n=r.map(function(i,o){var s=o<r.length-1,a=o>0;return ZQ(i,s,a,function(c){t||(t=c),c&&n.forEach(xB),!s&&(n.forEach(xB),e(t))})});return r.reduce(eZ)};TB.exports=tZ});var EB=v((qwe,PB)=>{"use strict";var{PassThrough:rZ}=require("stream");PB.exports=r=>{r={...r};let{array:e}=r,{encoding:t}=r,n=t==="buffer",i=!1;e?i=!(t||n):t=t||"utf8",n&&(t=null);let o=new rZ({objectMode:i});t&&o.setEncoding(t);let s=0,a=[];return o.on("data",c=>{a.push(c),i?s=a.length:s+=c.length}),o.getBufferedValue=()=>e?a:n?Buffer.concat(a,s):a.join(""),o.getBufferedLength=()=>s,o}});var kB=v((Wwe,ml)=>{"use strict";var{constants:nZ}=require("buffer"),iZ=CB(),oZ=EB(),Fb=class extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}};async function Bb(r,e){if(!r)return Promise.reject(new Error("Expected a stream"));e={maxBuffer:1/0,...e};let{maxBuffer:t}=e,n;return await new Promise((i,o)=>{let s=a=>{a&&n.getBufferedLength()<=nZ.MAX_LENGTH&&(a.bufferedData=n.getBufferedValue()),o(a)};n=iZ(r,oZ(e),a=>{if(a){s(a);return}i()}),n.on("data",()=>{n.getBufferedLength()>t&&s(new Fb)})}),n.getBufferedValue()}ml.exports=Bb;ml.exports.default=Bb;ml.exports.buffer=(r,e)=>Bb(r,{...e,encoding:"buffer"});ml.exports.array=(r,e)=>Bb(r,{...e,array:!0});ml.exports.MaxBufferError=Fb});var AB=v(($we,RB)=>{"use strict";var sZ=new Set([200,203,204,206,300,301,308,404,405,410,414,501]),aZ=new Set([200,203,204,300,301,302,303,307,308,404,405,410,414,501]),cZ=new Set([500,502,503,504]),uZ={date:!0,connection:!0,"keep-alive":!0,"proxy-authenticate":!0,"proxy-authorization":!0,te:!0,trailer:!0,"transfer-encoding":!0,upgrade:!0},lZ={"content-length":!0,"content-encoding":!0,"transfer-encoding":!0,"content-range":!0};function sc(r){let e=parseInt(r,10);return isFinite(e)?e:0}function pZ(r){return r?cZ.has(r.status):!0}function hC(r){let e={};if(!r)return e;let t=r.trim().split(/,/);for(let n of t){let[i,o]=n.split(/=/,2);e[i.trim()]=o===void 0?!0:o.trim().replace(/^"|"$/g,"")}return e}function dZ(r){let e=[];for(let t in r){let n=r[t];e.push(n===!0?t:t+"="+n)}if(e.length)return e.join(", ")}RB.exports=class{constructor(e,t,{shared:n,cacheHeuristic:i,immutableMinTimeToLive:o,ignoreCargoCult:s,_fromObject:a}={}){if(a){this._fromObject(a);return}if(!t||!t.headers)throw Error("Response headers missing");this._assertRequestHasHeaders(e),this._responseTime=this.now(),this._isShared=n!==!1,this._cacheHeuristic=i!==void 0?i:.1,this._immutableMinTtl=o!==void 0?o:24*3600*1e3,this._status="status"in t?t.status:200,this._resHeaders=t.headers,this._rescc=hC(t.headers["cache-control"]),this._method="method"in e?e.method:"GET",this._url=e.url,this._host=e.headers.host,this._noAuthorization=!e.headers.authorization,this._reqHeaders=t.headers.vary?e.headers:null,this._reqcc=hC(e.headers["cache-control"]),s&&"pre-check"in this._rescc&&"post-check"in this._rescc&&(delete this._rescc["pre-check"],delete this._rescc["post-check"],delete this._rescc["no-cache"],delete this._rescc["no-store"],delete this._rescc["must-revalidate"],this._resHeaders=Object.assign({},this._resHeaders,{"cache-control":dZ(this._rescc)}),delete this._resHeaders.expires,delete this._resHeaders.pragma),t.headers["cache-control"]==null&&/no-cache/.test(t.headers.pragma)&&(this._rescc["no-cache"]=!0)}now(){return Date.now()}storable(){return!!(!this._reqcc["no-store"]&&(this._method==="GET"||this._method==="HEAD"||this._method==="POST"&&this._hasExplicitExpiration())&&aZ.has(this._status)&&!this._rescc["no-store"]&&(!this._isShared||!this._rescc.private)&&(!this._isShared||this._noAuthorization||this._allowsStoringAuthenticated())&&(this._resHeaders.expires||this._rescc["max-age"]||this._isShared&&this._rescc["s-maxage"]||this._rescc.public||sZ.has(this._status)))}_hasExplicitExpiration(){return this._isShared&&this._rescc["s-maxage"]||this._rescc["max-age"]||this._resHeaders.expires}_assertRequestHasHeaders(e){if(!e||!e.headers)throw Error("Request headers missing")}satisfiesWithoutRevalidation(e){this._assertRequestHasHeaders(e);let t=hC(e.headers["cache-control"]);return t["no-cache"]||/no-cache/.test(e.headers.pragma)||t["max-age"]&&this.age()>t["max-age"]||t["min-fresh"]&&this.timeToLive()<1e3*t["min-fresh"]||this.stale()&&!(t["max-stale"]&&!this._rescc["must-revalidate"]&&(t["max-stale"]===!0||t["max-stale"]>this.age()-this.maxAge()))?!1:this._requestMatches(e,!1)}_requestMatches(e,t){return(!this._url||this._url===e.url)&&this._host===e.headers.host&&(!e.method||this._method===e.method||t&&e.method==="HEAD")&&this._varyMatches(e)}_allowsStoringAuthenticated(){return this._rescc["must-revalidate"]||this._rescc.public||this._rescc["s-maxage"]}_varyMatches(e){if(!this._resHeaders.vary)return!0;if(this._resHeaders.vary==="*")return!1;let t=this._resHeaders.vary.trim().toLowerCase().split(/\s*,\s*/);for(let n of t)if(e.headers[n]!==this._reqHeaders[n])return!1;return!0}_copyWithoutHopByHopHeaders(e){let t={};for(let n in e)uZ[n]||(t[n]=e[n]);if(e.connection){let n=e.connection.trim().split(/\s*,\s*/);for(let i of n)delete t[i]}if(t.warning){let n=t.warning.split(/,/).filter(i=>!/^\s*1[0-9][0-9]/.test(i));n.length?t.warning=n.join(",").trim():delete t.warning}return t}responseHeaders(){let e=this._copyWithoutHopByHopHeaders(this._resHeaders),t=this.age();return t>3600*24&&!this._hasExplicitExpiration()&&this.maxAge()>3600*24&&(e.warning=(e.warning?`${e.warning}, `:"")+'113 - "rfc7234 5.5.4"'),e.age=`${Math.round(t)}`,e.date=new Date(this.now()).toUTCString(),e}date(){let e=Date.parse(this._resHeaders.date);return isFinite(e)?e:this._responseTime}age(){let e=this._ageValue(),t=(this.now()-this._responseTime)/1e3;return e+t}_ageValue(){return sc(this._resHeaders.age)}maxAge(){if(!this.storable()||this._rescc["no-cache"]||this._isShared&&this._resHeaders["set-cookie"]&&!this._rescc.public&&!this._rescc.immutable||this._resHeaders.vary==="*")return 0;if(this._isShared){if(this._rescc["proxy-revalidate"])return 0;if(this._rescc["s-maxage"])return sc(this._rescc["s-maxage"])}if(this._rescc["max-age"])return sc(this._rescc["max-age"]);let e=this._rescc.immutable?this._immutableMinTtl:0,t=this.date();if(this._resHeaders.expires){let n=Date.parse(this._resHeaders.expires);return Number.isNaN(n)||n<t?0:Math.max(e,(n-t)/1e3)}if(this._resHeaders["last-modified"]){let n=Date.parse(this._resHeaders["last-modified"]);if(isFinite(n)&&t>n)return Math.max(e,(t-n)/1e3*this._cacheHeuristic)}return e}timeToLive(){let e=this.maxAge()-this.age(),t=e+sc(this._rescc["stale-if-error"]),n=e+sc(this._rescc["stale-while-revalidate"]);return Math.max(0,e,t,n)*1e3}stale(){return this.maxAge()<=this.age()}_useStaleIfError(){return this.maxAge()+sc(this._rescc["stale-if-error"])>this.age()}useStaleWhileRevalidate(){return this.maxAge()+sc(this._rescc["stale-while-revalidate"])>this.age()}static fromObject(e){return new this(void 0,void 0,{_fromObject:e})}_fromObject(e){if(this._responseTime)throw Error("Reinitialized");if(!e||e.v!==1)throw Error("Invalid serialization");this._responseTime=e.t,this._isShared=e.sh,this._cacheHeuristic=e.ch,this._immutableMinTtl=e.imm!==void 0?e.imm:24*3600*1e3,this._status=e.st,this._resHeaders=e.resh,this._rescc=e.rescc,this._method=e.m,this._url=e.u,this._host=e.h,this._noAuthorization=e.a,this._reqHeaders=e.reqh,this._reqcc=e.reqcc}toObject(){return{v:1,t:this._responseTime,sh:this._isShared,ch:this._cacheHeuristic,imm:this._immutableMinTtl,st:this._status,resh:this._resHeaders,rescc:this._rescc,m:this._method,u:this._url,h:this._host,a:this._noAuthorization,reqh:this._reqHeaders,reqcc:this._reqcc}}revalidationHeaders(e){this._assertRequestHasHeaders(e);let t=this._copyWithoutHopByHopHeaders(e.headers);if(delete t["if-range"],!this._requestMatches(e,!0)||!this.storable())return delete t["if-none-match"],delete t["if-modified-since"],t;if(this._resHeaders.etag&&(t["if-none-match"]=t["if-none-match"]?`${t["if-none-match"]}, ${this._resHeaders.etag}`:this._resHeaders.etag),t["accept-ranges"]||t["if-match"]||t["if-unmodified-since"]||this._method&&this._method!="GET"){if(delete t["if-modified-since"],t["if-none-match"]){let i=t["if-none-match"].split(/,/).filter(o=>!/^\s*W\//.test(o));i.length?t["if-none-match"]=i.join(",").trim():delete t["if-none-match"]}}else this._resHeaders["last-modified"]&&!t["if-modified-since"]&&(t["if-modified-since"]=this._resHeaders["last-modified"]);return t}revalidatedPolicy(e,t){if(this._assertRequestHasHeaders(e),this._useStaleIfError()&&pZ(t))return{modified:!1,matches:!1,policy:this};if(!t||!t.headers)throw Error("Response headers missing");let n=!1;if(t.status!==void 0&&t.status!=304?n=!1:t.headers.etag&&!/^\s*W\//.test(t.headers.etag)?n=this._resHeaders.etag&&this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag:this._resHeaders.etag&&t.headers.etag?n=this._resHeaders.etag.replace(/^\s*W\//,"")===t.headers.etag.replace(/^\s*W\//,""):this._resHeaders["last-modified"]?n=this._resHeaders["last-modified"]===t.headers["last-modified"]:!this._resHeaders.etag&&!this._resHeaders["last-modified"]&&!t.headers.etag&&!t.headers["last-modified"]&&(n=!0),!n)return{policy:new this.constructor(e,t),modified:t.status!=304,matches:!1};let i={};for(let s in this._resHeaders)i[s]=s in t.headers&&!lZ[s]?t.headers[s]:this._resHeaders[s];let o=Object.assign({},t,{status:this._status,method:this._method,headers:i});return{policy:new this.constructor(e,o,{shared:this._isShared,cacheHeuristic:this._cacheHeuristic,immutableMinTimeToLive:this._immutableMinTtl}),modified:!1,matches:!0}}}});var jb=v((Hwe,DB)=>{"use strict";DB.exports=r=>{let e={};for(let[t,n]of Object.entries(r))e[t.toLowerCase()]=n;return e}});var MB=v((Gwe,OB)=>{"use strict";var fZ=require("stream").Readable,hZ=jb(),mC=class extends fZ{constructor(e,t,n,i){if(typeof e!="number")throw new TypeError("Argument `statusCode` should be a number");if(typeof t!="object")throw new TypeError("Argument `headers` should be an object");if(!(n instanceof Buffer))throw new TypeError("Argument `body` should be a buffer");if(typeof i!="string")throw new TypeError("Argument `url` should be a string");super(),this.statusCode=e,this.headers=hZ(t),this.body=n,this.url=i}_read(){this.push(this.body),this.push(null)}};OB.exports=mC});var NB=v((zwe,LB)=>{"use strict";var mZ=["destroy","setTimeout","socket","headers","trailers","rawHeaders","statusCode","httpVersion","httpVersionMinor","httpVersionMajor","rawTrailers","statusMessage"];LB.exports=(r,e)=>{let t=new Set(Object.keys(r).concat(mZ));for(let n of t)n in e||(e[n]=typeof r[n]=="function"?r[n].bind(r):r[n])}});var BB=v((Kwe,FB)=>{"use strict";var gZ=require("stream").PassThrough,yZ=NB(),bZ=r=>{if(!(r&&r.pipe))throw new TypeError("Parameter `response` must be a response stream.");let e=new gZ;return yZ(r,e),r.pipe(e)};FB.exports=bZ});var jB=v(gC=>{gC.stringify=function r(e){if(typeof e>"u")return e;if(e&&Buffer.isBuffer(e))return JSON.stringify(":base64:"+e.toString("base64"));if(e&&e.toJSON&&(e=e.toJSON()),e&&typeof e=="object"){var t="",n=Array.isArray(e);t=n?"[":"{";var i=!0;for(var o in e){var s=typeof e[o]=="function"||!n&&typeof e[o]>"u";Object.hasOwnProperty.call(e,o)&&!s&&(i||(t+=","),i=!1,n?e[o]==null?t+="null":t+=r(e[o]):e[o]!==void 0&&(t+=r(o)+":"+r(e[o])))}return t+=n?"]":"}",t}else return typeof e=="string"?JSON.stringify(/^:/.test(e)?":"+e:e):typeof e>"u"?"null":JSON.stringify(e)};gC.parse=function(r){return JSON.parse(r,function(e,t){return typeof t=="string"?/^:base64:/.test(t)?Buffer.from(t.substring(8),"base64"):/^:/.test(t)?t.substring(1):t:t})}});var VB=v((Ywe,WB)=>{"use strict";var vZ=require("events"),UB=jB(),wZ=r=>{let e={redis:"@keyv/redis",rediss:"@keyv/redis",mongodb:"@keyv/mongo",mongo:"@keyv/mongo",sqlite:"@keyv/sqlite",postgresql:"@keyv/postgres",postgres:"@keyv/postgres",mysql:"@keyv/mysql",etcd:"@keyv/etcd",offline:"@keyv/offline",tiered:"@keyv/tiered"};if(r.adapter||r.uri){let t=r.adapter||/^[^:+]*/.exec(r.uri)[0];return new(require(e[t]))(r)}return new Map},qB=["sqlite","postgres","mysql","mongo","redis","tiered"],yC=class extends vZ{constructor(e,{emitErrors:t=!0,...n}={}){if(super(),this.opts={namespace:"keyv",serialize:UB.stringify,deserialize:UB.parse,...typeof e=="string"?{uri:e}:e,...n},!this.opts.store){let o={...this.opts};this.opts.store=wZ(o)}if(this.opts.compression){let o=this.opts.compression;this.opts.serialize=o.serialize.bind(o),this.opts.deserialize=o.deserialize.bind(o)}typeof this.opts.store.on=="function"&&t&&this.opts.store.on("error",o=>this.emit("error",o)),this.opts.store.namespace=this.opts.namespace;let i=o=>async function*(){for await(let[s,a]of typeof o=="function"?o(this.opts.store.namespace):o){let c=await this.opts.deserialize(a);if(!(this.opts.store.namespace&&!s.includes(this.opts.store.namespace))){if(typeof c.expires=="number"&&Date.now()>c.expires){this.delete(s);continue}yield[this._getKeyUnprefix(s),c.value]}}};typeof this.opts.store[Symbol.iterator]=="function"&&this.opts.store instanceof Map?this.iterator=i(this.opts.store):typeof this.opts.store.iterator=="function"&&this.opts.store.opts&&this._checkIterableAdaptar()&&(this.iterator=i(this.opts.store.iterator.bind(this.opts.store)))}_checkIterableAdaptar(){return qB.includes(this.opts.store.opts.dialect)||qB.findIndex(e=>this.opts.store.opts.url.includes(e))>=0}_getKeyPrefix(e){return`${this.opts.namespace}:${e}`}_getKeyPrefixArray(e){return e.map(t=>`${this.opts.namespace}:${t}`)}_getKeyUnprefix(e){return e.split(":").splice(1).join(":")}get(e,t){let{store:n}=this.opts,i=Array.isArray(e),o=i?this._getKeyPrefixArray(e):this._getKeyPrefix(e);if(i&&n.getMany===void 0){let s=[];for(let a of o)s.push(Promise.resolve().then(()=>n.get(a)).then(c=>typeof c=="string"?this.opts.deserialize(c):this.opts.compression?this.opts.deserialize(c):c).then(c=>{if(c!=null)return typeof c.expires=="number"&&Date.now()>c.expires?this.delete(a).then(()=>{}):t&&t.raw?c:c.value}));return Promise.allSettled(s).then(a=>{let c=[];for(let u of a)c.push(u.value);return c})}return Promise.resolve().then(()=>i?n.getMany(o):n.get(o)).then(s=>typeof s=="string"?this.opts.deserialize(s):this.opts.compression?this.opts.deserialize(s):s).then(s=>{if(s!=null)return i?s.map((a,c)=>{if(typeof a=="string"&&(a=this.opts.deserialize(a)),a!=null){if(typeof a.expires=="number"&&Date.now()>a.expires){this.delete(e[c]).then(()=>{});return}return t&&t.raw?a:a.value}}):typeof s.expires=="number"&&Date.now()>s.expires?this.delete(e).then(()=>{}):t&&t.raw?s:s.value})}set(e,t,n){let i=this._getKeyPrefix(e);typeof n>"u"&&(n=this.opts.ttl),n===0&&(n=void 0);let{store:o}=this.opts;return Promise.resolve().then(()=>{let s=typeof n=="number"?Date.now()+n:null;return typeof t=="symbol"&&this.emit("error","symbol cannot be serialized"),t={value:t,expires:s},this.opts.serialize(t)}).then(s=>o.set(i,s,n)).then(()=>!0)}delete(e){let{store:t}=this.opts;if(Array.isArray(e)){let i=this._getKeyPrefixArray(e);if(t.deleteMany===void 0){let o=[];for(let s of i)o.push(t.delete(s));return Promise.allSettled(o).then(s=>s.every(a=>a.value===!0))}return Promise.resolve().then(()=>t.deleteMany(i))}let n=this._getKeyPrefix(e);return Promise.resolve().then(()=>t.delete(n))}clear(){let{store:e}=this.opts;return Promise.resolve().then(()=>e.clear())}has(e){let t=this._getKeyPrefix(e),{store:n}=this.opts;return Promise.resolve().then(async()=>typeof n.has=="function"?n.has(t):await n.get(t)!==void 0)}disconnect(){let{store:e}=this.opts;if(typeof e.disconnect=="function")return e.disconnect()}};WB.exports=yC});var GB=v((Xwe,HB)=>{"use strict";var SZ=require("events"),Ub=require("url"),_Z=mB(),IZ=kB(),bC=AB(),$B=MB(),xZ=jb(),TZ=BB(),CZ=VB(),Mf=class r{constructor(e,t){if(typeof e!="function")throw new TypeError("Parameter `request` must be a function");return this.cache=new CZ({uri:typeof t=="string"&&t,store:typeof t!="string"&&t,namespace:"cacheable-request"}),this.createCacheableRequest(e)}createCacheableRequest(e){return(t,n)=>{let i;if(typeof t=="string")i=vC(Ub.parse(t)),t={};else if(t instanceof Ub.URL)i=vC(Ub.parse(t.toString())),t={};else{let[p,...d]=(t.path||"").split("?"),f=d.length>0?`?${d.join("?")}`:"";i=vC({...t,pathname:p,search:f})}t={headers:{},method:"GET",cache:!0,strictTtl:!1,automaticFailover:!1,...t,...PZ(i)},t.headers=xZ(t.headers);let o=new SZ,s=_Z(Ub.format(i),{stripWWW:!1,removeTrailingSlash:!1,stripAuthentication:!1}),a=`${t.method}:${s}`,c=!1,u=!1,l=p=>{u=!0;let d=!1,f,h=new Promise(b=>{f=()=>{d||(d=!0,b())}}),g=b=>{if(c&&!p.forceRefresh){b.status=b.statusCode;let L=bC.fromObject(c.cachePolicy).revalidatedPolicy(p,b);if(!L.modified){let E=L.policy.responseHeaders();b=new $B(c.statusCode,E,c.body,c.url),b.cachePolicy=L.policy,b.fromCache=!0}}b.fromCache||(b.cachePolicy=new bC(p,b,p),b.fromCache=!1);let I;p.cache&&b.cachePolicy.storable()?(I=TZ(b),(async()=>{try{let L=IZ.buffer(b);if(await Promise.race([h,new Promise(R=>b.once("end",R))]),d)return;let E=await L,B={cachePolicy:b.cachePolicy.toObject(),url:b.url,statusCode:b.fromCache?c.statusCode:b.statusCode,body:E},A=p.strictTtl?b.cachePolicy.timeToLive():void 0;p.maxTtl&&(A=A?Math.min(A,p.maxTtl):p.maxTtl),await this.cache.set(a,B,A)}catch(L){o.emit("error",new r.CacheError(L))}})()):p.cache&&c&&(async()=>{try{await this.cache.delete(a)}catch(L){o.emit("error",new r.CacheError(L))}})(),o.emit("response",I||b),typeof n=="function"&&n(I||b)};try{let b=e(p,g);b.once("error",f),b.once("abort",f),o.emit("request",b)}catch(b){o.emit("error",new r.RequestError(b))}};return(async()=>{let p=async f=>{await Promise.resolve();let h=f.cache?await this.cache.get(a):void 0;if(typeof h>"u")return l(f);let g=bC.fromObject(h.cachePolicy);if(g.satisfiesWithoutRevalidation(f)&&!f.forceRefresh){let b=g.responseHeaders(),I=new $B(h.statusCode,b,h.body,h.url);I.cachePolicy=g,I.fromCache=!0,o.emit("response",I),typeof n=="function"&&n(I)}else c=h,f.headers=g.revalidationHeaders(f),l(f)},d=f=>o.emit("error",new r.CacheError(f));this.cache.once("error",d),o.on("response",()=>this.cache.removeListener("error",d));try{await p(t)}catch(f){t.automaticFailover&&!u&&l(t),o.emit("error",new r.CacheError(f))}})(),o}}};function PZ(r){let e={...r};return e.path=`${r.pathname||"/"}${r.search||""}`,delete e.pathname,delete e.search,e}function vC(r){return{protocol:r.protocol,auth:r.auth,hostname:r.hostname||r.host||"localhost",port:r.port,pathname:r.pathname,search:r.search}}Mf.RequestError=class extends Error{constructor(r){super(r.message),this.name="RequestError",Object.assign(this,r)}};Mf.CacheError=class extends Error{constructor(r){super(r.message),this.name="CacheError",Object.assign(this,r)}};HB.exports=Mf});var KB=v((eSe,zB)=>{"use strict";var EZ=["aborted","complete","headers","httpVersion","httpVersionMinor","httpVersionMajor","method","rawHeaders","rawTrailers","setTimeout","socket","statusCode","statusMessage","trailers","url"];zB.exports=(r,e)=>{if(e._readableState.autoDestroy)throw new Error("The second stream must have the `autoDestroy` option set to `false`");let t=new Set(Object.keys(r).concat(EZ)),n={};for(let i of t)i in e||(n[i]={get(){let o=r[i];return typeof o=="function"?o.bind(r):o},set(o){r[i]=o},enumerable:!0,configurable:!1});return Object.defineProperties(e,n),r.once("aborted",()=>{e.destroy(),e.emit("aborted")}),r.once("close",()=>{r.complete&&e.readable?e.once("end",()=>{e.emit("close")}):e.emit("close")}),e}});var YB=v((tSe,JB)=>{"use strict";var{Transform:kZ,PassThrough:RZ}=require("stream"),wC=require("zlib"),AZ=KB();JB.exports=r=>{let e=(r.headers["content-encoding"]||"").toLowerCase();if(!["gzip","deflate","br"].includes(e))return r;let t=e==="br";if(t&&typeof wC.createBrotliDecompress!="function")return r.destroy(new Error("Brotli is not supported on Node.js < 12")),r;let n=!0,i=new kZ({transform(a,c,u){n=!1,u(null,a)},flush(a){a()}}),o=new RZ({autoDestroy:!1,destroy(a,c){r.destroy(),c(a)}}),s=t?wC.createBrotliDecompress():wC.createUnzip();return s.once("error",a=>{if(n&&!r.readable){o.end();return}o.destroy(a)}),AZ(r,o),r.pipe(i).pipe(s).pipe(o),o}});var _C=v((rSe,XB)=>{"use strict";var SC=class{constructor(e={}){if(!(e.maxSize&&e.maxSize>0))throw new TypeError("`maxSize` must be a number greater than 0");this.maxSize=e.maxSize,this.onEviction=e.onEviction,this.cache=new Map,this.oldCache=new Map,this._size=0}_set(e,t){if(this.cache.set(e,t),this._size++,this._size>=this.maxSize){if(this._size=0,typeof this.onEviction=="function")for(let[n,i]of this.oldCache.entries())this.onEviction(n,i);this.oldCache=this.cache,this.cache=new Map}}get(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e)){let t=this.oldCache.get(e);return this.oldCache.delete(e),this._set(e,t),t}}set(e,t){return this.cache.has(e)?this.cache.set(e,t):this._set(e,t),this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e))return this.cache.get(e);if(this.oldCache.has(e))return this.oldCache.get(e)}delete(e){let t=this.cache.delete(e);return t&&this._size--,this.oldCache.delete(e)||t}clear(){this.cache.clear(),this.oldCache.clear(),this._size=0}*keys(){for(let[e]of this)yield e}*values(){for(let[,e]of this)yield e}*[Symbol.iterator](){for(let e of this.cache)yield e;for(let e of this.oldCache){let[t]=e;this.cache.has(t)||(yield e)}}get size(){let e=0;for(let t of this.oldCache.keys())this.cache.has(t)||e++;return Math.min(this._size+e,this.maxSize)}};XB.exports=SC});var xC=v((nSe,tj)=>{"use strict";var DZ=require("events"),OZ=require("tls"),MZ=require("http2"),LZ=_C(),vr=Symbol("currentStreamsCount"),QB=Symbol("request"),Tn=Symbol("cachedOriginSet"),gl=Symbol("gracefullyClosing"),NZ=["maxDeflateDynamicTableSize","maxSessionMemory","maxHeaderListPairs","maxOutstandingPings","maxReservedRemoteStreams","maxSendHeaderBlockLength","paddingStrategy","localAddress","path","rejectUnauthorized","minDHSize","ca","cert","clientCertEngine","ciphers","key","pfx","servername","minVersion","maxVersion","secureProtocol","crl","honorCipherOrder","ecdhCurve","dhparam","secureOptions","sessionIdContext"],FZ=(r,e,t)=>{let n=0,i=r.length;for(;n<i;){let o=n+i>>>1;t(r[o],e)?n=o+1:i=o}return n},BZ=(r,e)=>r.remoteSettings.maxConcurrentStreams>e.remoteSettings.maxConcurrentStreams,IC=(r,e)=>{for(let t of r)t[Tn].length<e[Tn].length&&t[Tn].every(n=>e[Tn].includes(n))&&t[vr]+e[vr]<=e.remoteSettings.maxConcurrentStreams&&ej(t)},jZ=(r,e)=>{for(let t of r)e[Tn].length<t[Tn].length&&e[Tn].every(n=>t[Tn].includes(n))&&e[vr]+t[vr]<=t.remoteSettings.maxConcurrentStreams&&ej(e)},ZB=({agent:r,isFree:e})=>{let t={};for(let n in r.sessions){let o=r.sessions[n].filter(s=>{let a=s[ac.kCurrentStreamsCount]<s.remoteSettings.maxConcurrentStreams;return e?a:!a});o.length!==0&&(t[n]=o)}return t},ej=r=>{r[gl]=!0,r[vr]===0&&r.close()},ac=class r extends DZ{constructor({timeout:e=6e4,maxSessions:t=1/0,maxFreeSessions:n=10,maxCachedTlsSessions:i=100}={}){super(),this.sessions={},this.queue={},this.timeout=e,this.maxSessions=t,this.maxFreeSessions=n,this._freeSessionsCount=0,this._sessionsCount=0,this.settings={enablePush:!1},this.tlsSessionCache=new LZ({maxSize:i})}static normalizeOrigin(e,t){return typeof e=="string"&&(e=new URL(e)),t&&e.hostname!==t&&(e.hostname=t),e.origin}normalizeOptions(e){let t="";if(e)for(let n of NZ)e[n]&&(t+=`:${e[n]}`);return t}_tryToCreateNewSession(e,t){if(!(e in this.queue)||!(t in this.queue[e]))return;let n=this.queue[e][t];this._sessionsCount<this.maxSessions&&!n.completed&&(n.completed=!0,n())}getSession(e,t,n){return new Promise((i,o)=>{Array.isArray(n)?(n=[...n],i()):n=[{resolve:i,reject:o}];let s=this.normalizeOptions(t),a=r.normalizeOrigin(e,t&&t.servername);if(a===void 0){for(let{reject:l}of n)l(new TypeError("The `origin` argument needs to be a string or an URL object"));return}if(s in this.sessions){let l=this.sessions[s],p=-1,d=-1,f;for(let h of l){let g=h.remoteSettings.maxConcurrentStreams;if(g<p)break;if(h[Tn].includes(a)){let b=h[vr];if(b>=g||h[gl]||h.destroyed)continue;f||(p=g),b>d&&(f=h,d=b)}}if(f){if(n.length!==1){for(let{reject:h}of n){let g=new Error(`Expected the length of listeners to be 1, got ${n.length}.
Please report this to https://github.com/szmarczak/http2-wrapper/`);h(g)}return}n[0].resolve(f);return}}if(s in this.queue){if(a in this.queue[s]){this.queue[s][a].listeners.push(...n),this._tryToCreateNewSession(s,a);return}}else this.queue[s]={};let c=()=>{s in this.queue&&this.queue[s][a]===u&&(delete this.queue[s][a],Object.keys(this.queue[s]).length===0&&delete this.queue[s])},u=()=>{let l=`${a}:${s}`,p=!1;try{let d=MZ.connect(e,{createConnection:this.createConnection,settings:this.settings,session:this.tlsSessionCache.get(l),...t});d[vr]=0,d[gl]=!1;let f=()=>d[vr]<d.remoteSettings.maxConcurrentStreams,h=!0;d.socket.once("session",b=>{this.tlsSessionCache.set(l,b)}),d.once("error",b=>{for(let{reject:I}of n)I(b);this.tlsSessionCache.delete(l)}),d.setTimeout(this.timeout,()=>{d.destroy()}),d.once("close",()=>{if(p){h&&this._freeSessionsCount--,this._sessionsCount--;let b=this.sessions[s];b.splice(b.indexOf(d),1),b.length===0&&delete this.sessions[s]}else{let b=new Error("Session closed without receiving a SETTINGS frame");b.code="HTTP2WRAPPER_NOSETTINGS";for(let{reject:I}of n)I(b);c()}this._tryToCreateNewSession(s,a)});let g=()=>{if(!(!(s in this.queue)||!f())){for(let b of d[Tn])if(b in this.queue[s]){let{listeners:I}=this.queue[s][b];for(;I.length!==0&&f();)I.shift().resolve(d);let L=this.queue[s];if(L[b].listeners.length===0&&(delete L[b],Object.keys(L).length===0)){delete this.queue[s];break}if(!f())break}}};d.on("origin",()=>{d[Tn]=d.originSet,f()&&(g(),IC(this.sessions[s],d))}),d.once("remoteSettings",()=>{if(d.ref(),d.unref(),this._sessionsCount++,u.destroyed){let b=new Error("Agent has been destroyed");for(let I of n)I.reject(b);d.destroy();return}d[Tn]=d.originSet;{let b=this.sessions;if(s in b){let I=b[s];I.splice(FZ(I,d,BZ),0,d)}else b[s]=[d]}this._freeSessionsCount+=1,p=!0,this.emit("session",d),g(),c(),d[vr]===0&&this._freeSessionsCount>this.maxFreeSessions&&d.close(),n.length!==0&&(this.getSession(a,t,n),n.length=0),d.on("remoteSettings",()=>{g(),IC(this.sessions[s],d)})}),d[QB]=d.request,d.request=(b,I)=>{if(d[gl])throw new Error("The session is gracefully closing. No new streams are allowed.");let L=d[QB](b,I);return d.ref(),++d[vr],d[vr]===d.remoteSettings.maxConcurrentStreams&&this._freeSessionsCount--,L.once("close",()=>{if(h=f(),--d[vr],!d.destroyed&&!d.closed&&(jZ(this.sessions[s],d),f()&&!d.closed)){h||(this._freeSessionsCount++,h=!0);let E=d[vr]===0;E&&d.unref(),E&&(this._freeSessionsCount>this.maxFreeSessions||d[gl])?d.close():(IC(this.sessions[s],d),g())}}),L}}catch(d){for(let f of n)f.reject(d);c()}};u.listeners=n,u.completed=!1,u.destroyed=!1,this.queue[s][a]=u,this._tryToCreateNewSession(s,a)})}request(e,t,n,i){return new Promise((o,s)=>{this.getSession(e,t,[{reject:s,resolve:a=>{try{o(a.request(n,i))}catch(c){s(c)}}}])})}createConnection(e,t){return r.connect(e,t)}static connect(e,t){t.ALPNProtocols=["h2"];let n=e.port||443,i=e.hostname||e.host;return typeof t.servername>"u"&&(t.servername=i),OZ.connect(n,i,t)}closeFreeSessions(){for(let e of Object.values(this.sessions))for(let t of e)t[vr]===0&&t.close()}destroy(e){for(let t of Object.values(this.sessions))for(let n of t)n.destroy(e);for(let t of Object.values(this.queue))for(let n of Object.values(t))n.destroyed=!0;this.queue={}}get freeSessions(){return ZB({agent:this,isFree:!0})}get busySessions(){return ZB({agent:this,isFree:!1})}};ac.kCurrentStreamsCount=vr;ac.kGracefullyClosing=gl;tj.exports={Agent:ac,globalAgent:new ac}});var CC=v((iSe,rj)=>{"use strict";var{Readable:UZ}=require("stream"),TC=class extends UZ{constructor(e,t){super({highWaterMark:t,autoDestroy:!1}),this.statusCode=null,this.statusMessage="",this.httpVersion="2.0",this.httpVersionMajor=2,this.httpVersionMinor=0,this.headers={},this.trailers={},this.req=null,this.aborted=!1,this.complete=!1,this.upgrade=null,this.rawHeaders=[],this.rawTrailers=[],this.socket=e,this.connection=e,this._dumped=!1}_destroy(e){this.req._request.destroy(e)}setTimeout(e,t){return this.req.setTimeout(e,t),this}_dump(){this._dumped||(this._dumped=!0,this.removeAllListeners("data"),this.resume())}_read(){this.req&&this.req._request.resume()}};rj.exports=TC});var PC=v((oSe,nj)=>{"use strict";nj.exports=r=>{let e={protocol:r.protocol,hostname:typeof r.hostname=="string"&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,host:r.host,hash:r.hash,search:r.search,pathname:r.pathname,href:r.href,path:`${r.pathname||""}${r.search||""}`};return typeof r.port=="string"&&r.port.length!==0&&(e.port=Number(r.port)),(r.username||r.password)&&(e.auth=`${r.username||""}:${r.password||""}`),e}});var oj=v((sSe,ij)=>{"use strict";ij.exports=(r,e,t)=>{for(let n of t)r.on(n,(...i)=>e.emit(n,...i))}});var aj=v((aSe,sj)=>{"use strict";sj.exports=r=>{switch(r){case":method":case":scheme":case":authority":case":path":return!0;default:return!1}}});var uj=v((uSe,cj)=>{"use strict";var yl=(r,e,t)=>{cj.exports[e]=class extends r{constructor(...i){super(typeof t=="string"?t:t(i)),this.name=`${super.name} [${e}]`,this.code=e}}};yl(TypeError,"ERR_INVALID_ARG_TYPE",r=>{let e=r[0].includes(".")?"property":"argument",t=r[1],n=Array.isArray(t);return n&&(t=`${t.slice(0,-1).join(", ")} or ${t.slice(-1)}`),`The "${r[0]}" ${e} must be ${n?"one of":"of"} type ${t}. Received ${typeof r[2]}`});yl(TypeError,"ERR_INVALID_PROTOCOL",r=>`Protocol "${r[0]}" not supported. Expected "${r[1]}"`);yl(Error,"ERR_HTTP_HEADERS_SENT",r=>`Cannot ${r[0]} headers after they are sent to the client`);yl(TypeError,"ERR_INVALID_HTTP_TOKEN",r=>`${r[0]} must be a valid HTTP token [${r[1]}]`);yl(TypeError,"ERR_HTTP_INVALID_HEADER_VALUE",r=>`Invalid value "${r[0]} for header "${r[1]}"`);yl(TypeError,"ERR_INVALID_CHAR",r=>`Invalid character in ${r[0]} [${r[1]}]`)});var DC=v((lSe,gj)=>{"use strict";var qZ=require("http2"),{Writable:WZ}=require("stream"),{Agent:lj,globalAgent:VZ}=xC(),$Z=CC(),HZ=PC(),GZ=oj(),zZ=aj(),{ERR_INVALID_ARG_TYPE:EC,ERR_INVALID_PROTOCOL:KZ,ERR_HTTP_HEADERS_SENT:pj,ERR_INVALID_HTTP_TOKEN:JZ,ERR_HTTP_INVALID_HEADER_VALUE:YZ,ERR_INVALID_CHAR:XZ}=uj(),{HTTP2_HEADER_STATUS:dj,HTTP2_HEADER_METHOD:fj,HTTP2_HEADER_PATH:hj,HTTP2_METHOD_CONNECT:QZ}=qZ.constants,dr=Symbol("headers"),kC=Symbol("origin"),RC=Symbol("session"),mj=Symbol("options"),qb=Symbol("flushedHeaders"),Lf=Symbol("jobs"),ZZ=/^[\^`\-\w!#$%&*+.|~]+$/,eee=/[^\t\u0020-\u007E\u0080-\u00FF]/,AC=class extends WZ{constructor(e,t,n){super({autoDestroy:!1});let i=typeof e=="string"||e instanceof URL;if(i&&(e=HZ(e instanceof URL?e:new URL(e))),typeof t=="function"||t===void 0?(n=t,t=i?e:{...e}):t={...e,...t},t.h2session)this[RC]=t.h2session;else if(t.agent===!1)this.agent=new lj({maxFreeSessions:0});else if(typeof t.agent>"u"||t.agent===null)typeof t.createConnection=="function"?(this.agent=new lj({maxFreeSessions:0}),this.agent.createConnection=t.createConnection):this.agent=VZ;else if(typeof t.agent.request=="function")this.agent=t.agent;else throw new EC("options.agent",["Agent-like Object","undefined","false"],t.agent);if(t.protocol&&t.protocol!=="https:")throw new KZ(t.protocol,"https:");let o=t.port||t.defaultPort||this.agent&&this.agent.defaultPort||443,s=t.hostname||t.host||"localhost";delete t.hostname,delete t.host,delete t.port;let{timeout:a}=t;if(t.timeout=void 0,this[dr]=Object.create(null),this[Lf]=[],this.socket=null,this.connection=null,this.method=t.method||"GET",this.path=t.path,this.res=null,this.aborted=!1,this.reusedSocket=!1,t.headers)for(let[c,u]of Object.entries(t.headers))this.setHeader(c,u);t.auth&&!("authorization"in this[dr])&&(this[dr].authorization="Basic "+Buffer.from(t.auth).toString("base64")),t.session=t.tlsSession,t.path=t.socketPath,this[mj]=t,o===443?(this[kC]=`https://${s}`,":authority"in this[dr]||(this[dr][":authority"]=s)):(this[kC]=`https://${s}:${o}`,":authority"in this[dr]||(this[dr][":authority"]=`${s}:${o}`)),a&&this.setTimeout(a),n&&this.once("response",n),this[qb]=!1}get method(){return this[dr][fj]}set method(e){e&&(this[dr][fj]=e.toUpperCase())}get path(){return this[dr][hj]}set path(e){e&&(this[dr][hj]=e)}get _mustNotHaveABody(){return this.method==="GET"||this.method==="HEAD"||this.method==="DELETE"}_write(e,t,n){if(this._mustNotHaveABody){n(new Error("The GET, HEAD and DELETE methods must NOT have a body"));return}this.flushHeaders();let i=()=>this._request.write(e,t,n);this._request?i():this[Lf].push(i)}_final(e){if(this.destroyed)return;this.flushHeaders();let t=()=>{if(this._mustNotHaveABody){e();return}this._request.end(e)};this._request?t():this[Lf].push(t)}abort(){this.res&&this.res.complete||(this.aborted||process.nextTick(()=>this.emit("abort")),this.aborted=!0,this.destroy())}_destroy(e,t){this.res&&this.res._dump(),this._request&&this._request.destroy(),t(e)}async flushHeaders(){if(this[qb]||this.destroyed)return;this[qb]=!0;let e=this.method===QZ,t=n=>{if(this._request=n,this.destroyed){n.destroy();return}e||GZ(n,this,["timeout","continue","close","error"]);let i=s=>(...a)=>{!this.writable&&!this.destroyed?s(...a):this.once("finish",()=>{s(...a)})};n.once("response",i((s,a,c)=>{let u=new $Z(this.socket,n.readableHighWaterMark);this.res=u,u.req=this,u.statusCode=s[dj],u.headers=s,u.rawHeaders=c,u.once("end",()=>{this.aborted?(u.aborted=!0,u.emit("aborted")):(u.complete=!0,u.socket=null,u.connection=null)}),e?(u.upgrade=!0,this.emit("connect",u,n,Buffer.alloc(0))?this.emit("close"):n.destroy()):(n.on("data",l=>{!u._dumped&&!u.push(l)&&n.pause()}),n.once("end",()=>{u.push(null)}),this.emit("response",u)||u._dump())})),n.once("headers",i(s=>this.emit("information",{statusCode:s[dj]}))),n.once("trailers",i((s,a,c)=>{let{res:u}=this;u.trailers=s,u.rawTrailers=c}));let{socket:o}=n.session;this.socket=o,this.connection=o;for(let s of this[Lf])s();this.emit("socket",this.socket)};if(this[RC])try{t(this[RC].request(this[dr]))}catch(n){this.emit("error",n)}else{this.reusedSocket=!0;try{t(await this.agent.request(this[kC],this[mj],this[dr]))}catch(n){this.emit("error",n)}}}getHeader(e){if(typeof e!="string")throw new EC("name","string",e);return this[dr][e.toLowerCase()]}get headersSent(){return this[qb]}removeHeader(e){if(typeof e!="string")throw new EC("name","string",e);if(this.headersSent)throw new pj("remove");delete this[dr][e.toLowerCase()]}setHeader(e,t){if(this.headersSent)throw new pj("set");if(typeof e!="string"||!ZZ.test(e)&&!zZ(e))throw new JZ("Header name",e);if(typeof t>"u")throw new YZ(t,e);if(eee.test(t))throw new XZ("header content",e);this[dr][e.toLowerCase()]=t}setNoDelay(){}setSocketKeepAlive(){}setTimeout(e,t){let n=()=>this._request.setTimeout(e,t);return this._request?n():this[Lf].push(n),this}get maxHeadersCount(){if(!this.destroyed&&this._request)return this._request.session.localSettings.maxHeaderListSize}set maxHeadersCount(e){}};gj.exports=AC});var bj=v((pSe,yj)=>{"use strict";var tee=require("tls");yj.exports=(r={},e=tee.connect)=>new Promise((t,n)=>{let i=!1,o,s=async()=>{await c,o.off("timeout",a),o.off("error",n),r.resolveSocket?(t({alpnProtocol:o.alpnProtocol,socket:o,timeout:i}),i&&(await Promise.resolve(),o.emit("timeout"))):(o.destroy(),t({alpnProtocol:o.alpnProtocol,timeout:i}))},a=async()=>{i=!0,s()},c=(async()=>{try{o=await e(r,s),o.on("error",n),o.once("timeout",a)}catch(u){n(u)}})()})});var wj=v((dSe,vj)=>{"use strict";var ree=require("net");vj.exports=r=>{let e=r.host,t=r.headers&&r.headers.host;return t&&(t.startsWith("[")?t.indexOf("]")===-1?e=t:e=t.slice(1,-1):e=t.split(":",1)[0]),ree.isIP(e)?"":e}});var Ij=v((fSe,MC)=>{"use strict";var Sj=require("http"),OC=require("https"),nee=bj(),iee=_C(),oee=DC(),see=wj(),aee=PC(),Wb=new iee({maxSize:100}),Nf=new Map,_j=(r,e,t)=>{e._httpMessage={shouldKeepAlive:!0};let n=()=>{r.emit("free",e,t)};e.on("free",n);let i=()=>{r.removeSocket(e,t)};e.on("close",i);let o=()=>{r.removeSocket(e,t),e.off("close",i),e.off("free",n),e.off("agentRemove",o)};e.on("agentRemove",o),r.emit("free",e,t)},cee=async r=>{let e=`${r.host}:${r.port}:${r.ALPNProtocols.sort()}`;if(!Wb.has(e)){if(Nf.has(e))return(await Nf.get(e)).alpnProtocol;let{path:t,agent:n}=r;r.path=r.socketPath;let i=nee(r);Nf.set(e,i);try{let{socket:o,alpnProtocol:s}=await i;if(Wb.set(e,s),r.path=t,s==="h2")o.destroy();else{let{globalAgent:a}=OC,c=OC.Agent.prototype.createConnection;n?n.createConnection===c?_j(n,o,r):o.destroy():a.createConnection===c?_j(a,o,r):o.destroy()}return Nf.delete(e),s}catch(o){throw Nf.delete(e),o}}return Wb.get(e)};MC.exports=async(r,e,t)=>{if((typeof r=="string"||r instanceof URL)&&(r=aee(new URL(r))),typeof e=="function"&&(t=e,e=void 0),e={ALPNProtocols:["h2","http/1.1"],...r,...e,resolveSocket:!0},!Array.isArray(e.ALPNProtocols)||e.ALPNProtocols.length===0)throw new Error("The `ALPNProtocols` option must be an Array with at least one entry");e.protocol=e.protocol||"https:";let n=e.protocol==="https:";e.host=e.hostname||e.host||"localhost",e.session=e.tlsSession,e.servername=e.servername||see(e),e.port=e.port||(n?443:80),e._defaultAgent=n?OC.globalAgent:Sj.globalAgent;let i=e.agent;if(i){if(i.addRequest)throw new Error("The `options.agent` object can contain only `http`, `https` or `http2` properties");e.agent=i[n?"https":"http"]}return n&&await cee(e)==="h2"?(i&&(e.agent=i.http2),new oee(e,t)):Sj.request(e,t)};MC.exports.protocolCache=Wb});var Tj=v((hSe,xj)=>{"use strict";var uee=require("http2"),lee=xC(),LC=DC(),pee=CC(),dee=Ij(),fee=(r,e,t)=>new LC(r,e,t),hee=(r,e,t)=>{let n=new LC(r,e,t);return n.end(),n};xj.exports={...uee,ClientRequest:LC,IncomingMessage:pee,...lee,request:fee,get:hee,auto:dee}});var FC=v(NC=>{"use strict";Object.defineProperty(NC,"__esModule",{value:!0});var Cj=Do();NC.default=r=>Cj.default.nodeStream(r)&&Cj.default.function_(r.getBoundary)});var Rj=v(BC=>{"use strict";Object.defineProperty(BC,"__esModule",{value:!0});var Ej=require("fs"),kj=require("util"),Pj=Do(),mee=FC(),gee=kj.promisify(Ej.stat);BC.default=async(r,e)=>{if(e&&"content-length"in e)return Number(e["content-length"]);if(!r)return 0;if(Pj.default.string(r))return Buffer.byteLength(r);if(Pj.default.buffer(r))return r.length;if(mee.default(r))return kj.promisify(r.getLength.bind(r))();if(r instanceof Ej.ReadStream){let{size:t}=await gee(r.path);return t===0?void 0:t}}});var UC=v(jC=>{"use strict";Object.defineProperty(jC,"__esModule",{value:!0});function yee(r,e,t){let n={};for(let i of t)n[i]=(...o)=>{e.emit(i,...o)},r.on(i,n[i]);return()=>{for(let i of t)r.off(i,n[i])}}jC.default=yee});var Aj=v(qC=>{"use strict";Object.defineProperty(qC,"__esModule",{value:!0});qC.default=()=>{let r=[];return{once(e,t,n){e.once(t,n),r.push({origin:e,event:t,fn:n})},unhandleAll(){for(let e of r){let{origin:t,event:n,fn:i}=e;t.removeListener(n,i)}r.length=0}}}});var Oj=v(Ff=>{"use strict";Object.defineProperty(Ff,"__esModule",{value:!0});Ff.TimeoutError=void 0;var bee=require("net"),vee=Aj(),Dj=Symbol("reentry"),wee=()=>{},Vb=class extends Error{constructor(e,t){super(`Timeout awaiting '${t}' for ${e}ms`),this.event=t,this.name="TimeoutError",this.code="ETIMEDOUT"}};Ff.TimeoutError=Vb;Ff.default=(r,e,t)=>{if(Dj in r)return wee;r[Dj]=!0;let n=[],{once:i,unhandleAll:o}=vee.default(),s=(p,d,f)=>{var h;let g=setTimeout(d,p,p,f);(h=g.unref)===null||h===void 0||h.call(g);let b=()=>{clearTimeout(g)};return n.push(b),b},{host:a,hostname:c}=t,u=(p,d)=>{r.destroy(new Vb(p,d))},l=()=>{for(let p of n)p();o()};if(r.once("error",p=>{if(l(),r.listenerCount("error")===0)throw p}),r.once("close",l),i(r,"response",p=>{i(p,"end",l)}),typeof e.request<"u"&&s(e.request,u,"request"),typeof e.socket<"u"){let p=()=>{u(e.socket,"socket")};r.setTimeout(e.socket,p),n.push(()=>{r.removeListener("timeout",p)})}return i(r,"socket",p=>{var d;let{socketPath:f}=r;if(p.connecting){let h=!!(f??bee.isIP((d=c??a)!==null&&d!==void 0?d:"")!==0);if(typeof e.lookup<"u"&&!h&&typeof p.address().address>"u"){let g=s(e.lookup,u,"lookup");i(p,"lookup",g)}if(typeof e.connect<"u"){let g=()=>s(e.connect,u,"connect");h?i(p,"connect",g()):i(p,"lookup",b=>{b===null&&i(p,"connect",g())})}typeof e.secureConnect<"u"&&t.protocol==="https:"&&i(p,"connect",()=>{let g=s(e.secureConnect,u,"secureConnect");i(p,"secureConnect",g)})}if(typeof e.send<"u"){let h=()=>s(e.send,u,"send");p.connecting?i(p,"connect",()=>{i(r,"upload-complete",h())}):i(r,"upload-complete",h())}}),typeof e.response<"u"&&i(r,"upload-complete",()=>{let p=s(e.response,u,"response");i(r,"response",p)}),l}});var Lj=v(WC=>{"use strict";Object.defineProperty(WC,"__esModule",{value:!0});var Mj=Do();WC.default=r=>{r=r;let e={protocol:r.protocol,hostname:Mj.default.string(r.hostname)&&r.hostname.startsWith("[")?r.hostname.slice(1,-1):r.hostname,host:r.host,hash:r.hash,search:r.search,pathname:r.pathname,href:r.href,path:`${r.pathname||""}${r.search||""}`};return Mj.default.string(r.port)&&r.port.length>0&&(e.port=Number(r.port)),(r.username||r.password)&&(e.auth=`${r.username||""}:${r.password||""}`),e}});var Nj=v(VC=>{"use strict";Object.defineProperty(VC,"__esModule",{value:!0});var See=require("url"),_ee=["protocol","host","hostname","port","pathname","search"];VC.default=(r,e)=>{var t,n;if(e.path){if(e.pathname)throw new TypeError("Parameters `path` and `pathname` are mutually exclusive.");if(e.search)throw new TypeError("Parameters `path` and `search` are mutually exclusive.");if(e.searchParams)throw new TypeError("Parameters `path` and `searchParams` are mutually exclusive.")}if(e.search&&e.searchParams)throw new TypeError("Parameters `search` and `searchParams` are mutually exclusive.");if(!r){if(!e.protocol)throw new TypeError("No URL protocol specified");r=`${e.protocol}//${(n=(t=e.hostname)!==null&&t!==void 0?t:e.host)!==null&&n!==void 0?n:""}`}let i=new See.URL(r);if(e.path){let o=e.path.indexOf("?");o===-1?e.pathname=e.path:(e.pathname=e.path.slice(0,o),e.search=e.path.slice(o+1)),delete e.path}for(let o of _ee)e[o]&&(i[o]=e[o].toString());return i}});var Fj=v(HC=>{"use strict";Object.defineProperty(HC,"__esModule",{value:!0});var $C=class{constructor(){this.weakMap=new WeakMap,this.map=new Map}set(e,t){typeof e=="object"?this.weakMap.set(e,t):this.map.set(e,t)}get(e){return typeof e=="object"?this.weakMap.get(e):this.map.get(e)}has(e){return typeof e=="object"?this.weakMap.has(e):this.map.has(e)}};HC.default=$C});var zC=v(GC=>{"use strict";Object.defineProperty(GC,"__esModule",{value:!0});var Iee=async r=>{let e=[],t=0;for await(let n of r)e.push(n),t+=Buffer.byteLength(n);return Buffer.isBuffer(e[0])?Buffer.concat(e,t):Buffer.from(e.join(""))};GC.default=Iee});var jj=v(cc=>{"use strict";Object.defineProperty(cc,"__esModule",{value:!0});cc.dnsLookupIpVersionToFamily=cc.isDnsLookupIpVersion=void 0;var Bj={auto:0,ipv4:4,ipv6:6};cc.isDnsLookupIpVersion=r=>r in Bj;cc.dnsLookupIpVersionToFamily=r=>{if(cc.isDnsLookupIpVersion(r))return Bj[r];throw new Error("Invalid DNS lookup IP version")}});var KC=v($b=>{"use strict";Object.defineProperty($b,"__esModule",{value:!0});$b.isResponseOk=void 0;$b.isResponseOk=r=>{let{statusCode:e}=r,t=r.request.options.followRedirect?299:399;return e>=200&&e<=t||e===304}});var qj=v(JC=>{"use strict";Object.defineProperty(JC,"__esModule",{value:!0});var Uj=new Set;JC.default=r=>{Uj.has(r)||(Uj.add(r),process.emitWarning(`Got: ${r}`,{type:"DeprecationWarning"}))}});var Wj=v(YC=>{"use strict";Object.defineProperty(YC,"__esModule",{value:!0});var Xe=Do(),xee=(r,e)=>{if(Xe.default.null_(r.encoding))throw new TypeError("To get a Buffer, set `options.responseType` to `buffer` instead");Xe.assert.any([Xe.default.string,Xe.default.undefined],r.encoding),Xe.assert.any([Xe.default.boolean,Xe.default.undefined],r.resolveBodyOnly),Xe.assert.any([Xe.default.boolean,Xe.default.undefined],r.methodRewriting),Xe.assert.any([Xe.default.boolean,Xe.default.undefined],r.isStream),Xe.assert.any([Xe.default.string,Xe.default.undefined],r.responseType),r.responseType===void 0&&(r.responseType="text");let{retry:t}=r;if(e?r.retry={...e.retry}:r.retry={calculateDelay:n=>n.computedValue,limit:0,methods:[],statusCodes:[],errorCodes:[],maxRetryAfter:void 0},Xe.default.object(t)?(r.retry={...r.retry,...t},r.retry.methods=[...new Set(r.retry.methods.map(n=>n.toUpperCase()))],r.retry.statusCodes=[...new Set(r.retry.statusCodes)],r.retry.errorCodes=[...new Set(r.retry.errorCodes)]):Xe.default.number(t)&&(r.retry.limit=t),Xe.default.undefined(r.retry.maxRetryAfter)&&(r.retry.maxRetryAfter=Math.min(...[r.timeout.request,r.timeout.connect].filter(Xe.default.number))),Xe.default.object(r.pagination)){e&&(r.pagination={...e.pagination,...r.pagination});let{pagination:n}=r;if(!Xe.default.function_(n.transform))throw new Error("`options.pagination.transform` must be implemented");if(!Xe.default.function_(n.shouldContinue))throw new Error("`options.pagination.shouldContinue` must be implemented");if(!Xe.default.function_(n.filter))throw new TypeError("`options.pagination.filter` must be implemented");if(!Xe.default.function_(n.paginate))throw new Error("`options.pagination.paginate` must be implemented")}return r.responseType==="json"&&r.headers.accept===void 0&&(r.headers.accept="application/json"),r};YC.default=xee});var Vj=v(Bf=>{"use strict";Object.defineProperty(Bf,"__esModule",{value:!0});Bf.retryAfterStatusCodes=void 0;Bf.retryAfterStatusCodes=new Set([413,429,503]);var Tee=({attemptCount:r,retryOptions:e,error:t,retryAfter:n})=>{if(r>e.limit)return 0;let i=e.methods.includes(t.options.method),o=e.errorCodes.includes(t.code),s=t.response&&e.statusCodes.includes(t.response.statusCode);if(!i||!o&&!s)return 0;if(t.response){if(n)return e.maxRetryAfter===void 0||n>e.maxRetryAfter?0:n;if(t.response.statusCode===413)return 0}let a=Math.random()*100;return 2**(r-1)*1e3+a};Bf.default=Tee});var qf=v(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.UnsupportedProtocolError=Ce.ReadError=Ce.TimeoutError=Ce.UploadError=Ce.CacheError=Ce.HTTPError=Ce.MaxRedirectsError=Ce.RequestError=Ce.setNonEnumerableProperties=Ce.knownHookEvents=Ce.withoutBody=Ce.kIsNormalizedAlready=void 0;var $j=require("util"),Hj=require("stream"),Cee=require("fs"),Ms=require("url"),Gj=require("http"),XC=require("http"),Pee=require("https"),Eee=oB(),kee=dB(),zj=GB(),Ree=YB(),Aee=Tj(),Dee=jb(),P=Do(),Oee=Rj(),Kj=FC(),Mee=UC(),Jj=Oj(),Lee=Lj(),Yj=Nj(),Nee=Fj(),Fee=zC(),Xj=jj(),Bee=KC(),Ls=qj(),jee=Wj(),Uee=Vj(),QC,Yt=Symbol("request"),zb=Symbol("response"),bl=Symbol("responseSize"),vl=Symbol("downloadedSize"),wl=Symbol("bodySize"),Sl=Symbol("uploadedSize"),Hb=Symbol("serverResponsesPiped"),Qj=Symbol("unproxyEvents"),Zj=Symbol("isFromCache"),ZC=Symbol("cancelTimeouts"),e2=Symbol("startedReading"),_l=Symbol("stopReading"),Gb=Symbol("triggerRead"),Ns=Symbol("body"),jf=Symbol("jobs"),t2=Symbol("originalResponse"),r2=Symbol("retryTimeout");Ce.kIsNormalizedAlready=Symbol("isNormalizedAlready");var qee=P.default.string(process.versions.brotli);Ce.withoutBody=new Set(["GET","HEAD"]);Ce.knownHookEvents=["init","beforeRequest","beforeRedirect","beforeError","beforeRetry","afterResponse"];function Wee(r){for(let e in r){let t=r[e];if(!P.default.string(t)&&!P.default.number(t)&&!P.default.boolean(t)&&!P.default.null_(t)&&!P.default.undefined(t))throw new TypeError(`The \`searchParams\` value '${String(t)}' must be a string, number, boolean or null`)}}function Vee(r){return P.default.object(r)&&!("statusCode"in r)}var eP=new Nee.default,$ee=async r=>new Promise((e,t)=>{let n=i=>{t(i)};r.pending||e(),r.once("error",n),r.once("ready",()=>{r.off("error",n),e()})}),Hee=new Set([300,301,302,303,304,307,308]),Gee=["context","body","json","form"];Ce.setNonEnumerableProperties=(r,e)=>{let t={};for(let n of r)if(n)for(let i of Gee)i in n&&(t[i]={writable:!0,configurable:!0,enumerable:!1,value:n[i]});Object.defineProperties(e,t)};var yt=class extends Error{constructor(e,t,n){var i,o;if(super(e),Error.captureStackTrace(this,this.constructor),this.name="RequestError",this.code=(i=t.code)!==null&&i!==void 0?i:"ERR_GOT_REQUEST_ERROR",n instanceof ev?(Object.defineProperty(this,"request",{enumerable:!1,value:n}),Object.defineProperty(this,"response",{enumerable:!1,value:n[zb]}),Object.defineProperty(this,"options",{enumerable:!1,value:n.options})):Object.defineProperty(this,"options",{enumerable:!1,value:n}),this.timings=(o=this.request)===null||o===void 0?void 0:o.timings,P.default.string(t.stack)&&P.default.string(this.stack)){let s=this.stack.indexOf(this.message)+this.message.length,a=this.stack.slice(s).split(`
`).reverse(),c=t.stack.slice(t.stack.indexOf(t.message)+t.message.length).split(`
`).reverse();for(;c.length!==0&&c[0]===a[0];)a.shift();this.stack=`${this.stack.slice(0,s)}${a.reverse().join(`
`)}${c.reverse().join(`
`)}`}}};Ce.RequestError=yt;var Kb=class extends yt{constructor(e){super(`Redirected ${e.options.maxRedirects} times. Aborting.`,{},e),this.name="MaxRedirectsError",this.code="ERR_TOO_MANY_REDIRECTS"}};Ce.MaxRedirectsError=Kb;var Jb=class extends yt{constructor(e){super(`Response code ${e.statusCode} (${e.statusMessage})`,{},e.request),this.name="HTTPError",this.code="ERR_NON_2XX_3XX_RESPONSE"}};Ce.HTTPError=Jb;var Yb=class extends yt{constructor(e,t){super(e.message,e,t),this.name="CacheError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_CACHE_ACCESS":this.code}};Ce.CacheError=Yb;var Xb=class extends yt{constructor(e,t){super(e.message,e,t),this.name="UploadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_UPLOAD":this.code}};Ce.UploadError=Xb;var Qb=class extends yt{constructor(e,t,n){super(e.message,e,n),this.name="TimeoutError",this.event=e.event,this.timings=t}};Ce.TimeoutError=Qb;var Uf=class extends yt{constructor(e,t){super(e.message,e,t),this.name="ReadError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_READING_RESPONSE_STREAM":this.code}};Ce.ReadError=Uf;var Zb=class extends yt{constructor(e){super(`Unsupported protocol "${e.url.protocol}"`,{},e),this.name="UnsupportedProtocolError",this.code="ERR_UNSUPPORTED_PROTOCOL"}};Ce.UnsupportedProtocolError=Zb;var zee=["socket","connect","continue","information","upgrade","timeout"],ev=class extends Hj.Duplex{constructor(e,t={},n){super({autoDestroy:!1,highWaterMark:0}),this[vl]=0,this[Sl]=0,this.requestInitialized=!1,this[Hb]=new Set,this.redirects=[],this[_l]=!1,this[Gb]=!1,this[jf]=[],this.retryCount=0,this._progressCallbacks=[];let i=()=>this._unlockWrite(),o=()=>this._lockWrite();this.on("pipe",u=>{u.prependListener("data",i),u.on("data",o),u.prependListener("end",i),u.on("end",o)}),this.on("unpipe",u=>{u.off("data",i),u.off("data",o),u.off("end",i),u.off("end",o)}),this.on("pipe",u=>{u instanceof XC.IncomingMessage&&(this.options.headers={...u.headers,...this.options.headers})});let{json:s,body:a,form:c}=t;if((s||a||c)&&this._lockWrite(),Ce.kIsNormalizedAlready in t)this.options=t;else try{this.options=this.constructor.normalizeArguments(e,t,n)}catch(u){P.default.nodeStream(t.body)&&t.body.destroy(),this.destroy(u);return}(async()=>{var u;try{this.options.body instanceof Cee.ReadStream&&await $ee(this.options.body);let{url:l}=this.options;if(!l)throw new TypeError("Missing `url` property");if(this.requestUrl=l.toString(),decodeURI(this.requestUrl),await this._finalizeBody(),await this._makeRequest(),this.destroyed){(u=this[Yt])===null||u===void 0||u.destroy();return}for(let p of this[jf])p();this[jf].length=0,this.requestInitialized=!0}catch(l){if(l instanceof yt){this._beforeError(l);return}this.destroyed||this.destroy(l)}})()}static normalizeArguments(e,t,n){var i,o,s,a,c;let u=t;if(P.default.object(e)&&!P.default.urlInstance(e))t={...n,...e,...t};else{if(e&&t&&t.url!==void 0)throw new TypeError("The `url` option is mutually exclusive with the `input` argument");t={...n,...t},e!==void 0&&(t.url=e),P.default.urlInstance(t.url)&&(t.url=new Ms.URL(t.url.toString()))}if(t.cache===!1&&(t.cache=void 0),t.dnsCache===!1&&(t.dnsCache=void 0),P.assert.any([P.default.string,P.default.undefined],t.method),P.assert.any([P.default.object,P.default.undefined],t.headers),P.assert.any([P.default.string,P.default.urlInstance,P.default.undefined],t.prefixUrl),P.assert.any([P.default.object,P.default.undefined],t.cookieJar),P.assert.any([P.default.object,P.default.string,P.default.undefined],t.searchParams),P.assert.any([P.default.object,P.default.string,P.default.undefined],t.cache),P.assert.any([P.default.object,P.default.number,P.default.undefined],t.timeout),P.assert.any([P.default.object,P.default.undefined],t.context),P.assert.any([P.default.object,P.default.undefined],t.hooks),P.assert.any([P.default.boolean,P.default.undefined],t.decompress),P.assert.any([P.default.boolean,P.default.undefined],t.ignoreInvalidCookies),P.assert.any([P.default.boolean,P.default.undefined],t.followRedirect),P.assert.any([P.default.number,P.default.undefined],t.maxRedirects),P.assert.any([P.default.boolean,P.default.undefined],t.throwHttpErrors),P.assert.any([P.default.boolean,P.default.undefined],t.http2),P.assert.any([P.default.boolean,P.default.undefined],t.allowGetBody),P.assert.any([P.default.string,P.default.undefined],t.localAddress),P.assert.any([Xj.isDnsLookupIpVersion,P.default.undefined],t.dnsLookupIpVersion),P.assert.any([P.default.object,P.default.undefined],t.https),P.assert.any([P.default.boolean,P.default.undefined],t.rejectUnauthorized),t.https&&(P.assert.any([P.default.boolean,P.default.undefined],t.https.rejectUnauthorized),P.assert.any([P.default.function_,P.default.undefined],t.https.checkServerIdentity),P.assert.any([P.default.string,P.default.object,P.default.array,P.default.undefined],t.https.certificateAuthority),P.assert.any([P.default.string,P.default.object,P.default.array,P.default.undefined],t.https.key),P.assert.any([P.default.string,P.default.object,P.default.array,P.default.undefined],t.https.certificate),P.assert.any([P.default.string,P.default.undefined],t.https.passphrase),P.assert.any([P.default.string,P.default.buffer,P.default.array,P.default.undefined],t.https.pfx)),P.assert.any([P.default.object,P.default.undefined],t.cacheOptions),P.default.string(t.method)?t.method=t.method.toUpperCase():t.method="GET",t.headers===n?.headers?t.headers={...t.headers}:t.headers=Dee({...n?.headers,...t.headers}),"slashes"in t)throw new TypeError("The legacy `url.Url` has been deprecated. Use `URL` instead.");if("auth"in t)throw new TypeError("Parameter `auth` is deprecated. Use `username` / `password` instead.");if("searchParams"in t&&t.searchParams&&t.searchParams!==n?.searchParams){let f;if(P.default.string(t.searchParams)||t.searchParams instanceof Ms.URLSearchParams)f=new Ms.URLSearchParams(t.searchParams);else{Wee(t.searchParams),f=new Ms.URLSearchParams;for(let h in t.searchParams){let g=t.searchParams[h];g===null?f.append(h,""):g!==void 0&&f.append(h,g)}}(i=n?.searchParams)===null||i===void 0||i.forEach((h,g)=>{f.has(g)||f.append(g,h)}),t.searchParams=f}if(t.username=(o=t.username)!==null&&o!==void 0?o:"",t.password=(s=t.password)!==null&&s!==void 0?s:"",P.default.undefined(t.prefixUrl)?t.prefixUrl=(a=n?.prefixUrl)!==null&&a!==void 0?a:"":(t.prefixUrl=t.prefixUrl.toString(),t.prefixUrl!==""&&!t.prefixUrl.endsWith("/")&&(t.prefixUrl+="/")),P.default.string(t.url)){if(t.url.startsWith("/"))throw new Error("`input` must not start with a slash when using `prefixUrl`");t.url=Yj.default(t.prefixUrl+t.url,t)}else(P.default.undefined(t.url)&&t.prefixUrl!==""||t.protocol)&&(t.url=Yj.default(t.prefixUrl,t));if(t.url){"port"in t&&delete t.port;let{prefixUrl:f}=t;Object.defineProperty(t,"prefixUrl",{set:g=>{let b=t.url;if(!b.href.startsWith(g))throw new Error(`Cannot change \`prefixUrl\` from ${f} to ${g}: ${b.href}`);t.url=new Ms.URL(g+b.href.slice(f.length)),f=g},get:()=>f});let{protocol:h}=t.url;if(h==="unix:"&&(h="http:",t.url=new Ms.URL(`http://unix${t.url.pathname}${t.url.search}`)),t.searchParams&&(t.url.search=t.searchParams.toString()),h!=="http:"&&h!=="https:")throw new Zb(t);t.username===""?t.username=t.url.username:t.url.username=t.username,t.password===""?t.password=t.url.password:t.url.password=t.password}let{cookieJar:l}=t;if(l){let{setCookie:f,getCookieString:h}=l;P.assert.function_(f),P.assert.function_(h),f.length===4&&h.length===0&&(f=$j.promisify(f.bind(t.cookieJar)),h=$j.promisify(h.bind(t.cookieJar)),t.cookieJar={setCookie:f,getCookieString:h})}let{cache:p}=t;if(p&&(eP.has(p)||eP.set(p,new zj((f,h)=>{let g=f[Yt](f,h);return P.default.promise(g)&&(g.once=(b,I)=>{if(b==="error")g.catch(I);else if(b==="abort")(async()=>{try{(await g).once("abort",I)}catch{}})();else throw new Error(`Unknown HTTP2 promise event: ${b}`);return g}),g},p))),t.cacheOptions={...t.cacheOptions},t.dnsCache===!0)QC||(QC=new kee.default),t.dnsCache=QC;else if(!P.default.undefined(t.dnsCache)&&!t.dnsCache.lookup)throw new TypeError(`Parameter \`dnsCache\` must be a CacheableLookup instance or a boolean, got ${P.default(t.dnsCache)}`);P.default.number(t.timeout)?t.timeout={request:t.timeout}:n&&t.timeout!==n.timeout?t.timeout={...n.timeout,...t.timeout}:t.timeout={...t.timeout},t.context||(t.context={});let d=t.hooks===n?.hooks;t.hooks={...t.hooks};for(let f of Ce.knownHookEvents)if(f in t.hooks)if(P.default.array(t.hooks[f]))t.hooks[f]=[...t.hooks[f]];else throw new TypeError(`Parameter \`${f}\` must be an Array, got ${P.default(t.hooks[f])}`);else t.hooks[f]=[];if(n&&!d)for(let f of Ce.knownHookEvents)n.hooks[f].length>0&&(t.hooks[f]=[...n.hooks[f],...t.hooks[f]]);if("family"in t&&Ls.default('"options.family" was never documented, please use "options.dnsLookupIpVersion"'),n?.https&&(t.https={...n.https,...t.https}),"rejectUnauthorized"in t&&Ls.default('"options.rejectUnauthorized" is now deprecated, please use "options.https.rejectUnauthorized"'),"checkServerIdentity"in t&&Ls.default('"options.checkServerIdentity" was never documented, please use "options.https.checkServerIdentity"'),"ca"in t&&Ls.default('"options.ca" was never documented, please use "options.https.certificateAuthority"'),"key"in t&&Ls.default('"options.key" was never documented, please use "options.https.key"'),"cert"in t&&Ls.default('"options.cert" was never documented, please use "options.https.certificate"'),"passphrase"in t&&Ls.default('"options.passphrase" was never documented, please use "options.https.passphrase"'),"pfx"in t&&Ls.default('"options.pfx" was never documented, please use "options.https.pfx"'),"followRedirects"in t)throw new TypeError("The `followRedirects` option does not exist. Use `followRedirect` instead.");if(t.agent){for(let f in t.agent)if(f!=="http"&&f!=="https"&&f!=="http2")throw new TypeError(`Expected the \`options.agent\` properties to be \`http\`, \`https\` or \`http2\`, got \`${f}\``)}return t.maxRedirects=(c=t.maxRedirects)!==null&&c!==void 0?c:0,Ce.setNonEnumerableProperties([n,u],t),jee.default(t,n)}_lockWrite(){let e=()=>{throw new TypeError("The payload has been already provided")};this.write=e,this.end=e}_unlockWrite(){this.write=super.write,this.end=super.end}async _finalizeBody(){let{options:e}=this,{headers:t}=e,n=!P.default.undefined(e.form),i=!P.default.undefined(e.json),o=!P.default.undefined(e.body),s=n||i||o,a=Ce.withoutBody.has(e.method)&&!(e.method==="GET"&&e.allowGetBody);if(this._cannotHaveBody=a,s){if(a)throw new TypeError(`The \`${e.method}\` method cannot be used with a body`);if([o,n,i].filter(c=>c).length>1)throw new TypeError("The `body`, `json` and `form` options are mutually exclusive");if(o&&!(e.body instanceof Hj.Readable)&&!P.default.string(e.body)&&!P.default.buffer(e.body)&&!Kj.default(e.body))throw new TypeError("The `body` option must be a stream.Readable, string or Buffer");if(n&&!P.default.object(e.form))throw new TypeError("The `form` option must be an Object");{let c=!P.default.string(t["content-type"]);o?(Kj.default(e.body)&&c&&(t["content-type"]=`multipart/form-data; boundary=${e.body.getBoundary()}`),this[Ns]=e.body):n?(c&&(t["content-type"]="application/x-www-form-urlencoded"),this[Ns]=new Ms.URLSearchParams(e.form).toString()):(c&&(t["content-type"]="application/json"),this[Ns]=e.stringifyJson(e.json));let u=await Oee.default(this[Ns],e.headers);P.default.undefined(t["content-length"])&&P.default.undefined(t["transfer-encoding"])&&!a&&!P.default.undefined(u)&&(t["content-length"]=String(u))}}else a?this._lockWrite():this._unlockWrite();this[wl]=Number(t["content-length"])||void 0}async _onResponseBase(e){let{options:t}=this,{url:n}=t;this[t2]=e,t.decompress&&(e=Ree(e));let i=e.statusCode,o=e;o.statusMessage=o.statusMessage?o.statusMessage:Gj.STATUS_CODES[i],o.url=t.url.toString(),o.requestUrl=this.requestUrl,o.redirectUrls=this.redirects,o.request=this,o.isFromCache=e.fromCache||!1,o.ip=this.ip,o.retryCount=this.retryCount,this[Zj]=o.isFromCache,this[bl]=Number(e.headers["content-length"])||void 0,this[zb]=e,e.once("end",()=>{this[bl]=this[vl],this.emit("downloadProgress",this.downloadProgress)}),e.once("error",a=>{e.destroy(),this._beforeError(new Uf(a,this))}),e.once("aborted",()=>{this._beforeError(new Uf({name:"Error",message:"The server aborted pending request",code:"ECONNRESET"},this))}),this.emit("downloadProgress",this.downloadProgress);let s=e.headers["set-cookie"];if(P.default.object(t.cookieJar)&&s){let a=s.map(async c=>t.cookieJar.setCookie(c,n.toString()));t.ignoreInvalidCookies&&(a=a.map(async c=>c.catch(()=>{})));try{await Promise.all(a)}catch(c){this._beforeError(c);return}}if(t.followRedirect&&e.headers.location&&Hee.has(i)){if(e.resume(),this[Yt]&&(this[ZC](),delete this[Yt],this[Qj]()),(i===303&&t.method!=="GET"&&t.method!=="HEAD"||!t.methodRewriting)&&(t.method="GET","body"in t&&delete t.body,"json"in t&&delete t.json,"form"in t&&delete t.form,this[Ns]=void 0,delete t.headers["content-length"]),this.redirects.length>=t.maxRedirects){this._beforeError(new Kb(this));return}try{let p=function(d){return d.protocol==="unix:"||d.hostname==="unix"},c=Buffer.from(e.headers.location,"binary").toString(),u=new Ms.URL(c,n),l=u.toString();if(decodeURI(l),!p(n)&&p(u)){this._beforeError(new yt("Cannot redirect to UNIX socket",{},this));return}u.hostname!==n.hostname||u.port!==n.port?("host"in t.headers&&delete t.headers.host,"cookie"in t.headers&&delete t.headers.cookie,"authorization"in t.headers&&delete t.headers.authorization,(t.username||t.password)&&(t.username="",t.password="")):(u.username=t.username,u.password=t.password),this.redirects.push(l),t.url=u;for(let d of t.hooks.beforeRedirect)await d(t,o);this.emit("redirect",o,t),await this._makeRequest()}catch(c){this._beforeError(c);return}return}if(t.isStream&&t.throwHttpErrors&&!Bee.isResponseOk(o)){this._beforeError(new Jb(o));return}e.on("readable",()=>{this[Gb]&&this._read()}),this.on("resume",()=>{e.resume()}),this.on("pause",()=>{e.pause()}),e.once("end",()=>{this.push(null)}),this.emit("response",e);for(let a of this[Hb])if(!a.headersSent){for(let c in e.headers){let u=t.decompress?c!=="content-encoding":!0,l=e.headers[c];u&&a.setHeader(c,l)}a.statusCode=i}}async _onResponse(e){try{await this._onResponseBase(e)}catch(t){this._beforeError(t)}}_onRequest(e){let{options:t}=this,{timeout:n,url:i}=t;Eee.default(e),this[ZC]=Jj.default(e,n,i);let o=t.cache?"cacheableResponse":"response";e.once(o,c=>{this._onResponse(c)}),e.once("error",c=>{var u;e.destroy(),(u=e.res)===null||u===void 0||u.removeAllListeners("end"),c=c instanceof Jj.TimeoutError?new Qb(c,this.timings,this):new yt(c.message,c,this),this._beforeError(c)}),this[Qj]=Mee.default(e,this,zee),this[Yt]=e,this.emit("uploadProgress",this.uploadProgress);let s=this[Ns],a=this.redirects.length===0?this:e;P.default.nodeStream(s)?(s.pipe(a),s.once("error",c=>{this._beforeError(new Xb(c,this))})):(this._unlockWrite(),P.default.undefined(s)?(this._cannotHaveBody||this._noPipe)&&(a.end(),this._lockWrite()):(this._writeRequest(s,void 0,()=>{}),a.end(),this._lockWrite())),this.emit("request",e)}async _createCacheableRequest(e,t){return new Promise((n,i)=>{Object.assign(t,Lee.default(e)),delete t.url;let o,s=eP.get(t.cache)(t,async a=>{a._readableState.autoDestroy=!1,o&&(await o).emit("cacheableResponse",a),n(a)});t.url=e,s.once("error",i),s.once("request",async a=>{o=a,n(o)})})}async _makeRequest(){var e,t,n,i,o;let{options:s}=this,{headers:a}=s;for(let I in a)if(P.default.undefined(a[I]))delete a[I];else if(P.default.null_(a[I]))throw new TypeError(`Use \`undefined\` instead of \`null\` to delete the \`${I}\` header`);if(s.decompress&&P.default.undefined(a["accept-encoding"])&&(a["accept-encoding"]=qee?"gzip, deflate, br":"gzip, deflate"),s.cookieJar){let I=await s.cookieJar.getCookieString(s.url.toString());P.default.nonEmptyString(I)&&(s.headers.cookie=I)}for(let I of s.hooks.beforeRequest){let L=await I(s);if(!P.default.undefined(L)){s.request=()=>L;break}}s.body&&this[Ns]!==s.body&&(this[Ns]=s.body);let{agent:c,request:u,timeout:l,url:p}=s;if(s.dnsCache&&!("lookup"in s)&&(s.lookup=s.dnsCache.lookup),p.hostname==="unix"){let I=/(?<socketPath>.+?):(?<path>.+)/.exec(`${p.pathname}${p.search}`);if(I?.groups){let{socketPath:L,path:E}=I.groups;Object.assign(s,{socketPath:L,path:E,host:""})}}let d=p.protocol==="https:",f;s.http2?f=Aee.auto:f=d?Pee.request:Gj.request;let h=(e=s.request)!==null&&e!==void 0?e:f,g=s.cache?this._createCacheableRequest:h;c&&!s.http2&&(s.agent=c[d?"https":"http"]),s[Yt]=h,delete s.request,delete s.timeout;let b=s;if(b.shared=(t=s.cacheOptions)===null||t===void 0?void 0:t.shared,b.cacheHeuristic=(n=s.cacheOptions)===null||n===void 0?void 0:n.cacheHeuristic,b.immutableMinTimeToLive=(i=s.cacheOptions)===null||i===void 0?void 0:i.immutableMinTimeToLive,b.ignoreCargoCult=(o=s.cacheOptions)===null||o===void 0?void 0:o.ignoreCargoCult,s.dnsLookupIpVersion!==void 0)try{b.family=Xj.dnsLookupIpVersionToFamily(s.dnsLookupIpVersion)}catch{throw new Error("Invalid `dnsLookupIpVersion` option value")}s.https&&("rejectUnauthorized"in s.https&&(b.rejectUnauthorized=s.https.rejectUnauthorized),s.https.checkServerIdentity&&(b.checkServerIdentity=s.https.checkServerIdentity),s.https.certificateAuthority&&(b.ca=s.https.certificateAuthority),s.https.certificate&&(b.cert=s.https.certificate),s.https.key&&(b.key=s.https.key),s.https.passphrase&&(b.passphrase=s.https.passphrase),s.https.pfx&&(b.pfx=s.https.pfx));try{let I=await g(p,b);P.default.undefined(I)&&(I=f(p,b)),s.request=u,s.timeout=l,s.agent=c,s.https&&("rejectUnauthorized"in s.https&&delete b.rejectUnauthorized,s.https.checkServerIdentity&&delete b.checkServerIdentity,s.https.certificateAuthority&&delete b.ca,s.https.certificate&&delete b.cert,s.https.key&&delete b.key,s.https.passphrase&&delete b.passphrase,s.https.pfx&&delete b.pfx),Vee(I)?this._onRequest(I):this.writable?(this.once("finish",()=>{this._onResponse(I)}),this._unlockWrite(),this.end(),this._lockWrite()):this._onResponse(I)}catch(I){throw I instanceof zj.CacheError?new Yb(I,this):new yt(I.message,I,this)}}async _error(e){try{for(let t of this.options.hooks.beforeError)e=await t(e)}catch(t){e=new yt(t.message,t,this)}this.destroy(e)}_beforeError(e){if(this[_l])return;let{options:t}=this,n=this.retryCount+1;this[_l]=!0,e instanceof yt||(e=new yt(e.message,e,this));let i=e,{response:o}=i;(async()=>{if(o&&!o.body){o.setEncoding(this._readableState.encoding);try{o.rawBody=await Fee.default(o),o.body=o.rawBody.toString()}catch{}}if(this.listenerCount("retry")!==0){let s;try{let a;o&&"retry-after"in o.headers&&(a=Number(o.headers["retry-after"]),Number.isNaN(a)?(a=Date.parse(o.headers["retry-after"])-Date.now(),a<=0&&(a=1)):a*=1e3),s=await t.retry.calculateDelay({attemptCount:n,retryOptions:t.retry,error:i,retryAfter:a,computedValue:Uee.default({attemptCount:n,retryOptions:t.retry,error:i,retryAfter:a,computedValue:0})})}catch(a){this._error(new yt(a.message,a,this));return}if(s){let a=async()=>{try{for(let c of this.options.hooks.beforeRetry)await c(this.options,i,n)}catch(c){this._error(new yt(c.message,e,this));return}this.destroyed||(this.destroy(),this.emit("retry",n,e))};this[r2]=setTimeout(a,s);return}}this._error(i)})()}_read(){this[Gb]=!0;let e=this[zb];if(e&&!this[_l]){e.readableLength&&(this[Gb]=!1);let t;for(;(t=e.read())!==null;){this[vl]+=t.length,this[e2]=!0;let n=this.downloadProgress;n.percent<1&&this.emit("downloadProgress",n),this.push(t)}}}_write(e,t,n){let i=()=>{this._writeRequest(e,t,n)};this.requestInitialized?i():this[jf].push(i)}_writeRequest(e,t,n){this[Yt].destroyed||(this._progressCallbacks.push(()=>{this[Sl]+=Buffer.byteLength(e,t);let i=this.uploadProgress;i.percent<1&&this.emit("uploadProgress",i)}),this[Yt].write(e,t,i=>{!i&&this._progressCallbacks.length>0&&this._progressCallbacks.shift()(),n(i)}))}_final(e){let t=()=>{for(;this._progressCallbacks.length!==0;)this._progressCallbacks.shift()();if(!(Yt in this)){e();return}if(this[Yt].destroyed){e();return}this[Yt].end(n=>{n||(this[wl]=this[Sl],this.emit("uploadProgress",this.uploadProgress),this[Yt].emit("upload-complete")),e(n)})};this.requestInitialized?t():this[jf].push(t)}_destroy(e,t){var n;this[_l]=!0,clearTimeout(this[r2]),Yt in this&&(this[ZC](),!((n=this[zb])===null||n===void 0)&&n.complete||this[Yt].destroy()),e!==null&&!P.default.undefined(e)&&!(e instanceof yt)&&(e=new yt(e.message,e,this)),t(e)}get _isAboutToError(){return this[_l]}get ip(){var e;return(e=this.socket)===null||e===void 0?void 0:e.remoteAddress}get aborted(){var e,t,n;return((t=(e=this[Yt])===null||e===void 0?void 0:e.destroyed)!==null&&t!==void 0?t:this.destroyed)&&!(!((n=this[t2])===null||n===void 0)&&n.complete)}get socket(){var e,t;return(t=(e=this[Yt])===null||e===void 0?void 0:e.socket)!==null&&t!==void 0?t:void 0}get downloadProgress(){let e;return this[bl]?e=this[vl]/this[bl]:this[bl]===this[vl]?e=1:e=0,{percent:e,transferred:this[vl],total:this[bl]}}get uploadProgress(){let e;return this[wl]?e=this[Sl]/this[wl]:this[wl]===this[Sl]?e=1:e=0,{percent:e,transferred:this[Sl],total:this[wl]}}get timings(){var e;return(e=this[Yt])===null||e===void 0?void 0:e.timings}get isFromCache(){return this[Zj]}pipe(e,t){if(this[e2])throw new Error("Failed to pipe. The response has been emitted already.");return e instanceof XC.ServerResponse&&this[Hb].add(e),super.pipe(e,t)}unpipe(e){return e instanceof XC.ServerResponse&&this[Hb].delete(e),super.unpipe(e),this}};Ce.default=ev});var Wf=v(ei=>{"use strict";var Kee=ei&&ei.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Jee=ei&&ei.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Kee(e,r,t)};Object.defineProperty(ei,"__esModule",{value:!0});ei.CancelError=ei.ParseError=void 0;var n2=qf(),tP=class extends n2.RequestError{constructor(e,t){let{options:n}=t.request;super(`${e.message} in "${n.url.toString()}"`,e,t.request),this.name="ParseError",this.code=this.code==="ERR_GOT_REQUEST_ERROR"?"ERR_BODY_PARSE_FAILURE":this.code}};ei.ParseError=tP;var rP=class extends n2.RequestError{constructor(e){super("Promise was canceled",{},e),this.name="CancelError",this.code="ERR_CANCELED"}get isCanceled(){return!0}};ei.CancelError=rP;Jee(qf(),ei)});var o2=v(nP=>{"use strict";Object.defineProperty(nP,"__esModule",{value:!0});var i2=Wf(),Yee=(r,e,t,n)=>{let{rawBody:i}=r;try{if(e==="text")return i.toString(n);if(e==="json")return i.length===0?"":t(i.toString());if(e==="buffer")return i;throw new i2.ParseError({message:`Unknown body type '${e}'`,name:"Error"},r)}catch(o){throw new i2.ParseError(o,r)}};nP.default=Yee});var iP=v(Fs=>{"use strict";var Xee=Fs&&Fs.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),Qee=Fs&&Fs.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&Xee(e,r,t)};Object.defineProperty(Fs,"__esModule",{value:!0});var Zee=require("events"),ete=Do(),tte=nB(),tv=Wf(),s2=o2(),a2=qf(),rte=UC(),nte=zC(),c2=KC(),ite=["request","response","redirect","uploadProgress","downloadProgress"];function u2(r){let e,t,n=new Zee.EventEmitter,i=new tte((s,a,c)=>{let u=l=>{let p=new a2.default(void 0,r);p.retryCount=l,p._noPipe=!0,c(()=>p.destroy()),c.shouldReject=!1,c(()=>a(new tv.CancelError(p))),e=p,p.once("response",async h=>{var g;if(h.retryCount=l,h.request.aborted)return;let b;try{b=await nte.default(p),h.rawBody=b}catch{return}if(p._isAboutToError)return;let I=((g=h.headers["content-encoding"])!==null&&g!==void 0?g:"").toLowerCase(),L=["gzip","deflate","br"].includes(I),{options:E}=p;if(L&&!E.decompress)h.body=b;else try{h.body=s2.default(h,E.responseType,E.parseJson,E.encoding)}catch(B){if(h.body=b.toString(),c2.isResponseOk(h)){p._beforeError(B);return}}try{for(let[B,A]of E.hooks.afterResponse.entries())h=await A(h,async R=>{let x=a2.default.normalizeArguments(void 0,{...R,retry:{calculateDelay:()=>0},throwHttpErrors:!1,resolveBodyOnly:!1},E);x.hooks.afterResponse=x.hooks.afterResponse.slice(0,B);for(let ne of x.hooks.beforeRetry)await ne(x);let V=u2(x);return c(()=>{V.catch(()=>{}),V.cancel()}),V})}catch(B){p._beforeError(new tv.RequestError(B.message,B,p));return}if(t=h,!c2.isResponseOk(h)){p._beforeError(new tv.HTTPError(h));return}p.destroy(),s(p.options.resolveBodyOnly?h.body:h)});let d=h=>{if(i.isCanceled)return;let{options:g}=p;if(h instanceof tv.HTTPError&&!g.throwHttpErrors){let{response:b}=h;s(p.options.resolveBodyOnly?b.body:b);return}a(h)};p.once("error",d);let f=p.options.body;p.once("retry",(h,g)=>{var b,I;if(f===((b=g.request)===null||b===void 0?void 0:b.options.body)&&ete.default.nodeStream((I=g.request)===null||I===void 0?void 0:I.options.body)){d(g);return}u(h)}),rte.default(p,n,ite)};u(0)});i.on=(s,a)=>(n.on(s,a),i);let o=s=>{let a=(async()=>{await i;let{options:c}=t.request;return s2.default(t,s,c.parseJson,c.encoding)})();return Object.defineProperties(a,Object.getOwnPropertyDescriptors(i)),a};return i.json=()=>{let{headers:s}=e.options;return!e.writableFinished&&s.accept===void 0&&(s.accept="application/json"),o("json")},i.buffer=()=>o("buffer"),i.text=()=>o("text"),i}Fs.default=u2;Qee(Wf(),Fs)});var l2=v(oP=>{"use strict";Object.defineProperty(oP,"__esModule",{value:!0});var ote=Wf();function ste(r,...e){let t=(async()=>{if(r instanceof ote.RequestError)try{for(let i of e)if(i)for(let o of i)r=await o(r)}catch(i){r=i}throw r})(),n=()=>t;return t.json=n,t.text=n,t.buffer=n,t.on=n,t}oP.default=ste});var f2=v(sP=>{"use strict";Object.defineProperty(sP,"__esModule",{value:!0});var p2=Do();function d2(r){for(let e of Object.values(r))(p2.default.plainObject(e)||p2.default.array(e))&&d2(e);return Object.freeze(r)}sP.default=d2});var m2=v(h2=>{"use strict";Object.defineProperty(h2,"__esModule",{value:!0})});var aP=v(Pn=>{"use strict";var ate=Pn&&Pn.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),cte=Pn&&Pn.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&ate(e,r,t)};Object.defineProperty(Pn,"__esModule",{value:!0});Pn.defaultHandler=void 0;var g2=Do(),Cn=iP(),ute=l2(),nv=qf(),lte=f2(),pte={RequestError:Cn.RequestError,CacheError:Cn.CacheError,ReadError:Cn.ReadError,HTTPError:Cn.HTTPError,MaxRedirectsError:Cn.MaxRedirectsError,TimeoutError:Cn.TimeoutError,ParseError:Cn.ParseError,CancelError:Cn.CancelError,UnsupportedProtocolError:Cn.UnsupportedProtocolError,UploadError:Cn.UploadError},dte=async r=>new Promise(e=>{setTimeout(e,r)}),{normalizeArguments:rv}=nv.default,y2=(...r)=>{let e;for(let t of r)e=rv(void 0,t,e);return e},fte=r=>r.isStream?new nv.default(void 0,r):Cn.default(r),hte=r=>"defaults"in r&&"options"in r.defaults,mte=["get","post","put","patch","head","delete"];Pn.defaultHandler=(r,e)=>e(r);var b2=(r,e)=>{if(r)for(let t of r)t(e)},v2=r=>{r._rawHandlers=r.handlers,r.handlers=r.handlers.map(n=>(i,o)=>{let s,a=n(i,c=>(s=o(c),s));if(a!==s&&!i.isStream&&s){let c=a,{then:u,catch:l,finally:p}=c;Object.setPrototypeOf(c,Object.getPrototypeOf(s)),Object.defineProperties(c,Object.getOwnPropertyDescriptors(s)),c.then=u,c.catch=l,c.finally=p}return a});let e=(n,i={},o)=>{var s,a;let c=0,u=l=>r.handlers[c++](l,c===r.handlers.length?fte:u);if(g2.default.plainObject(n)){let l={...n,...i};nv.setNonEnumerableProperties([n,i],l),i=l,n=void 0}try{let l;try{b2(r.options.hooks.init,i),b2((s=i.hooks)===null||s===void 0?void 0:s.init,i)}catch(d){l=d}let p=rv(n,i,o??r.options);if(p[nv.kIsNormalizedAlready]=!0,l)throw new Cn.RequestError(l.message,l,p);return u(p)}catch(l){if(i.isStream)throw l;return ute.default(l,r.options.hooks.beforeError,(a=i.hooks)===null||a===void 0?void 0:a.beforeError)}};e.extend=(...n)=>{let i=[r.options],o=[...r._rawHandlers],s;for(let a of n)hte(a)?(i.push(a.defaults.options),o.push(...a.defaults._rawHandlers),s=a.defaults.mutableDefaults):(i.push(a),"handlers"in a&&o.push(...a.handlers),s=a.mutableDefaults);return o=o.filter(a=>a!==Pn.defaultHandler),o.length===0&&o.push(Pn.defaultHandler),v2({options:y2(...i),handlers:o,mutableDefaults:!!s})};let t=async function*(n,i){let o=rv(n,i,r.options);o.resolveBodyOnly=!1;let s=o.pagination;if(!g2.default.object(s))throw new TypeError("`options.pagination` must be implemented");let a=[],{countLimit:c}=s,u=0;for(;u<s.requestLimit;){u!==0&&await dte(s.backoff);let l=await e(void 0,void 0,o),p=await s.transform(l),d=[];for(let h of p)if(s.filter(h,a,d)&&(!s.shouldContinue(h,a,d)||(yield h,s.stackAllItems&&a.push(h),d.push(h),--c<=0)))return;let f=s.paginate(l,a,d);if(f===!1)return;f===l.request.options?o=l.request.options:f!==void 0&&(o=rv(void 0,f,o)),u++}};e.paginate=t,e.paginate.all=async(n,i)=>{let o=[];for await(let s of t(n,i))o.push(s);return o},e.paginate.each=t,e.stream=(n,i)=>e(n,{...i,isStream:!0});for(let n of mte)e[n]=(i,o)=>e(i,{...o,method:n}),e.stream[n]=(i,o)=>e(i,{...o,method:n,isStream:!0});return Object.assign(e,pte),Object.defineProperty(e,"defaults",{value:r.mutableDefaults?r:lte.default(r),writable:r.mutableDefaults,configurable:r.mutableDefaults,enumerable:!0}),e.mergeOptions=y2,e};Pn.default=v2;cte(m2(),Pn)});var _2=v((Oo,iv)=>{"use strict";var gte=Oo&&Oo.__createBinding||(Object.create?function(r,e,t,n){n===void 0&&(n=t),Object.defineProperty(r,n,{enumerable:!0,get:function(){return e[t]}})}:function(r,e,t,n){n===void 0&&(n=t),r[n]=e[t]}),w2=Oo&&Oo.__exportStar||function(r,e){for(var t in r)t!=="default"&&!Object.prototype.hasOwnProperty.call(e,t)&&gte(e,r,t)};Object.defineProperty(Oo,"__esModule",{value:!0});var yte=require("url"),S2=aP(),bte={options:{method:"GET",retry:{limit:2,methods:["GET","PUT","HEAD","DELETE","OPTIONS","TRACE"],statusCodes:[408,413,429,500,502,503,504,521,522,524],errorCodes:["ETIMEDOUT","ECONNRESET","EADDRINUSE","ECONNREFUSED","EPIPE","ENOTFOUND","ENETUNREACH","EAI_AGAIN"],maxRetryAfter:void 0,calculateDelay:({computedValue:r})=>r},timeout:{},headers:{"user-agent":"got (https://github.com/sindresorhus/got)"},hooks:{init:[],beforeRequest:[],beforeRedirect:[],beforeRetry:[],beforeError:[],afterResponse:[]},cache:void 0,dnsCache:void 0,decompress:!0,throwHttpErrors:!0,followRedirect:!0,isStream:!1,responseType:"text",resolveBodyOnly:!1,maxRedirects:10,prefixUrl:"",methodRewriting:!0,ignoreInvalidCookies:!1,context:{},http2:!1,allowGetBody:!1,https:void 0,pagination:{transform:r=>r.request.options.responseType==="json"?r.body:JSON.parse(r.body),paginate:r=>{if(!Reflect.has(r.headers,"link"))return!1;let e=r.headers.link.split(","),t;for(let n of e){let i=n.split(";");if(i[1].includes("next")){t=i[0].trimStart().trim(),t=t.slice(1,-1);break}}return t?{url:new yte.URL(t)}:!1},filter:()=>!0,shouldContinue:()=>!0,countLimit:1/0,backoff:0,requestLimit:1e4,stackAllItems:!0},parseJson:r=>JSON.parse(r),stringifyJson:r=>JSON.stringify(r),cacheOptions:{}},handlers:[S2.defaultHandler],mutableDefaults:!1},cP=S2.default(bte);Oo.default=cP;iv.exports=cP;iv.exports.default=cP;iv.exports.__esModule=!0;w2(aP(),Oo);w2(iP(),Oo)});async function uP(){if(D2.default.platform!=="darwin")throw new Error("macOS only");let{stdout:r}=await _te("defaults",["read","com.apple.LaunchServices/com.apple.launchservices.secure","LSHandlers"]);return/LSHandlerRoleAll = "(?!-)(?<id>[^"]+?)";\s+?LSHandlerURLScheme = (?:http|https);/.exec(r)?.groups.id??"com.apple.Safari"}var A2,D2,O2,_te,M2=Vn(()=>{A2=require("node:util"),D2=y(require("node:process"),1),O2=require("node:child_process"),_te=(0,A2.promisify)(O2.execFile)});async function F2(r,{humanReadableOutput:e=!0}={}){if(L2.default.platform!=="darwin")throw new Error("macOS only");let t=e?[]:["-ss"],{stdout:n}=await Ite("osascript",["-e",r,t]);return n.trim()}var L2,N2,lP,Ite,B2=Vn(()=>{L2=y(require("node:process"),1),N2=require("node:util"),lP=require("node:child_process"),Ite=(0,N2.promisify)(lP.execFile)});async function pP(r){return F2(`tell application "Finder" to set app_path to application file id "${r}" as string
tell application "System Events" to get value of property list item "CFBundleName" of property list file (app_path & ":Contents:Info.plist")`)}var j2=Vn(()=>{B2()});async function dP(r=xte){let{stdout:e}=await r("reg",["QUERY"," HKEY_CURRENT_USER\\Software\\Microsoft\\Windows\\Shell\\Associations\\UrlAssociations\\http\\UserChoice","/v","ProgId"]),t=/ProgId\s*REG_SZ\s*(?<id>\S+)/.exec(e);if(!t)throw new sv(`Cannot find Windows browser in stdout: ${JSON.stringify(e)}`);let{id:n}=t.groups,i=Tte[n];if(!i)throw new sv(`Unknown browser ID: ${n}`);return i}var U2,q2,xte,Tte,sv,W2=Vn(()=>{U2=require("node:util"),q2=require("node:child_process"),xte=(0,U2.promisify)(q2.execFile),Tte={AppXq0fevzme2pys62n3e0fbqa7peapykr8v:{name:"Edge",id:"com.microsoft.edge.old"},MSEdgeDHTML:{name:"Edge",id:"com.microsoft.edge"},MSEdgeHTM:{name:"Edge",id:"com.microsoft.edge"},"IE.HTTP":{name:"Internet Explorer",id:"com.microsoft.ie"},FirefoxURL:{name:"Firefox",id:"org.mozilla.firefox"},ChromeHTML:{name:"Chrome",id:"com.google.chrome"},BraveHTML:{name:"Brave",id:"com.brave.Browser"},BraveBHTML:{name:"Brave Beta",id:"com.brave.Browser.beta"},BraveSSHTM:{name:"Brave Nightly",id:"com.brave.Browser.nightly"}},sv=class extends Error{}});var G2={};ZS(G2,{default:()=>H2});async function H2(){if(av.default.platform==="darwin"){let r=await uP();return{name:await pP(r),id:r}}if(av.default.platform==="linux"){let{stdout:r}=await Cte("xdg-mime",["query","default","x-scheme-handler/http"]),e=r.trim();return{name:Pte(e.replace(/.desktop$/,"").replace("-"," ")),id:e}}if(av.default.platform==="win32")return dP();throw new Error("Only macOS, Linux, and Windows are supported")}var V2,av,$2,Cte,Pte,z2=Vn(()=>{V2=require("node:util"),av=y(require("node:process"),1),$2=require("node:child_process");M2();j2();W2();Cte=(0,V2.promisify)($2.execFile),Pte=r=>r.toLowerCase().replaceAll(/(?:^|\s|-)\S/g,e=>e.toUpperCase())});var Q2=v((fIe,X2)=>{"use strict";function kte(r){var e=new r,t=e;function n(){var o=e;return o.next?e=o.next:(e=new r,t=e),o.next=null,o}function i(o){t.next=o,t=o}return{get:n,release:i}}X2.exports=kte});var eU=v((hIe,hP)=>{"use strict";var Rte=Q2();function Z2(r,e,t){if(typeof r=="function"&&(t=e,e=r,r=null),t<1)throw new Error("fastqueue concurrency must be greater than 1");var n=Rte(Ate),i=null,o=null,s=0,a=null,c={push:g,drain:Rn,saturated:Rn,pause:l,paused:!1,concurrency:t,running:u,resume:f,idle:h,length:p,getQueue:d,unshift:b,empty:Rn,kill:L,killAndDrain:E,error:B};return c;function u(){return s}function l(){c.paused=!0}function p(){for(var A=i,R=0;A;)A=A.next,R++;return R}function d(){for(var A=i,R=[];A;)R.push(A.value),A=A.next;return R}function f(){if(c.paused){c.paused=!1;for(var A=0;A<c.concurrency;A++)s++,I()}}function h(){return s===0&&c.length()===0}function g(A,R){var x=n.get();x.context=r,x.release=I,x.value=A,x.callback=R||Rn,x.errorHandler=a,s===c.concurrency||c.paused?o?(o.next=x,o=x):(i=x,o=x,c.saturated()):(s++,e.call(r,x.value,x.worked))}function b(A,R){var x=n.get();x.context=r,x.release=I,x.value=A,x.callback=R||Rn,s===c.concurrency||c.paused?i?(x.next=i,i=x):(i=x,o=x,c.saturated()):(s++,e.call(r,x.value,x.worked))}function I(A){A&&n.release(A);var R=i;R?c.paused?s--:(o===i&&(o=null),i=R.next,R.next=null,e.call(r,R.value,R.worked),o===null&&c.empty()):--s===0&&c.drain()}function L(){i=null,o=null,c.drain=Rn}function E(){i=null,o=null,c.drain(),c.drain=Rn}function B(A){a=A}}function Rn(){}function Ate(){this.value=null,this.callback=Rn,this.next=null,this.release=Rn,this.context=null,this.errorHandler=null;var r=this;this.worked=function(t,n){var i=r.callback,o=r.errorHandler,s=r.value;r.value=null,r.callback=Rn,r.errorHandler&&o(t,s),i.call(r.context,t,n),r.release(r)}}function Dte(r,e,t){typeof r=="function"&&(t=e,e=r,r=null);function n(l,p){e.call(this,l).then(function(d){p(null,d)},p)}var i=Z2(r,n,t),o=i.push,s=i.unshift;return i.push=a,i.unshift=c,i.drained=u,i;function a(l){var p=new Promise(function(d,f){o(l,function(h,g){if(h){f(h);return}d(g)})});return p.catch(Rn),p}function c(l){var p=new Promise(function(d,f){s(l,function(h,g){if(h){f(h);return}d(g)})});return p.catch(Rn),p}function u(){if(i.idle())return new Promise(function(d){d()});var l=i.drain,p=new Promise(function(d){i.drain=function(){l(),d()}});return p}}hP.exports=Z2;hP.exports.promise=Dte});var mP=v((mIe,tU)=>{tU.exports=function(r,e){if(typeof r!="string")throw new TypeError("expected path to be a string");if(r==="\\"||r==="/")return"/";var t=r.length;if(t<=1)return r;var n="";if(t>4&&r[3]==="\\"){var i=r[2];(i==="?"||i===".")&&r.slice(0,2)==="\\\\"&&(r=r.slice(2),n="//")}var o=r.split(/[/\\]+/);return e!==!1&&o[o.length-1]===""&&o.pop(),n+o.join("/")}});var aU=v((oU,sU)=>{"use strict";Object.defineProperty(oU,"__esModule",{value:!0});var iU=Ax(),Ote=mP(),rU="!",Mte={returnIndex:!1},Lte=r=>Array.isArray(r)?r:[r],Nte=(r,e)=>{if(typeof r=="function")return r;if(typeof r=="string"){let t=iU(r,e);return n=>r===n||t(n)}return r instanceof RegExp?t=>r.test(t):t=>!1},nU=(r,e,t,n)=>{let i=Array.isArray(t),o=i?t[0]:t;if(!i&&typeof o!="string")throw new TypeError("anymatch: second argument must be a string: got "+Object.prototype.toString.call(o));let s=Ote(o,!1);for(let c=0;c<e.length;c++){let u=e[c];if(u(s))return n?-1:!1}let a=i&&[s].concat(t.slice(1));for(let c=0;c<r.length;c++){let u=r[c];if(i?u(...a):u(s))return n?c:!0}return n?-1:!1},gP=(r,e,t=Mte)=>{if(r==null)throw new TypeError("anymatch: specify first argument");let n=typeof t=="boolean"?{returnIndex:t}:t,i=n.returnIndex||!1,o=Lte(r),s=o.filter(c=>typeof c=="string"&&c.charAt(0)===rU).map(c=>c.slice(1)).map(c=>iU(c,n)),a=o.filter(c=>typeof c!="string"||typeof c=="string"&&c.charAt(0)!==rU).map(c=>Nte(c,n));return e==null?(c,u=!1)=>nU(a,s,c,typeof u=="boolean"?u:!1):nU(a,s,e,i)};gP.default=gP;sU.exports=gP});var uU=v((gIe,cU)=>{cU.exports=typeof queueMicrotask=="function"?queueMicrotask:r=>Promise.resolve().then(r)});var pU=v((yIe,lU)=>{lU.exports=typeof process<"u"&&typeof process.nextTick=="function"?process.nextTick.bind(process):uU()});var fU=v((vIe,dU)=>{dU.exports=class{constructor(e){if(!(e>0)||(e-1&e)!==0)throw new Error("Max size for a FixedFIFO should be a power of two");this.buffer=new Array(e),this.mask=e-1,this.top=0,this.btm=0,this.next=null}clear(){this.top=this.btm=0,this.next=null,this.buffer.fill(void 0)}push(e){return this.buffer[this.top]!==void 0?!1:(this.buffer[this.top]=e,this.top=this.top+1&this.mask,!0)}shift(){let e=this.buffer[this.btm];if(e!==void 0)return this.buffer[this.btm]=void 0,this.btm=this.btm+1&this.mask,e}peek(){return this.buffer[this.btm]}isEmpty(){return this.buffer[this.btm]===void 0}}});var gU=v((SIe,mU)=>{var hU=fU();mU.exports=class{constructor(e){this.hwm=e||16,this.head=new hU(this.hwm),this.tail=this.head,this.length=0}clear(){this.head=this.tail,this.head.clear(),this.length=0}push(e){if(this.length++,!this.head.push(e)){let t=this.head;this.head=t.next=new hU(2*this.head.buffer.length),this.head.push(e)}}shift(){this.length!==0&&this.length--;let e=this.tail.shift();if(e===void 0&&this.tail.next){let t=this.tail.next;return this.tail.next=null,this.tail=t,this.tail.shift()}return e}peek(){let e=this.tail.peek();return e===void 0&&this.tail.next?this.tail.next.peek():e}isEmpty(){return this.length===0}}});var jU=v((_Ie,BU)=>{var{EventEmitter:Fte}=require("events"),mv=new Error("Stream was destroyed"),yP=new Error("Premature close"),SU=pU(),_U=gU(),It=(1<<27)-1,mc=1,xP=2,dc=4,Hf=8,IU=It^mc,Bte=It^xP,Qf=16,Gf=32,Dl=64,Us=128,zf=256,TP=512,fc=1024,bP=2048,CP=4096,PP=8192,ti=16384,El=32768,gv=65536,xU=zf|TP,jte=Qf|gv,Ute=Dl|Qf,qte=CP|Us,Wte=It^Qf,Vte=It^Dl,$te=It^(Dl|gv),Hte=It^gv,Gte=It^zf,zte=It^(Us|PP),Kte=It^fc,yU=It^xU,TU=It^El,Jte=It^Gf,qs=1<<17,Rl=2<<17,Zf=4<<17,hc=8<<17,eh=16<<17,gc=32<<17,vP=64<<17,kl=128<<17,EP=256<<17,Al=512<<17,CU=It^(qs|EP),PU=It^Zf,Yte=It^Al,Xte=It^eh,Qte=It^hc,EU=It^kl,Zte=It^Rl,Kf=Qf|qs,kU=It^Kf,kP=ti|gc,Mo=dc|Hf|xP,rn=Mo|mc,RU=Mo|kP,ere=PU&Vte,RP=kl|El,tre=RP&kU,AU=rn|tre,rre=rn|fc|ti,bU=rn|ti|Us,nre=rn|fc|Us,ire=rn|CP|Us|PP,ore=rn|Qf|fc|ti|gv,sre=Mo|fc|ti,are=Gf|rn|El|Dl,cre=rn|Al|gc,ure=hc|eh,DU=hc|qs,lre=hc|eh|rn|qs,vU=rn|qs|hc,pre=Zf|qs,dre=qs|EP,fre=rn|Al|DU|gc,hre=eh|Mo|Al|gc,mre=Rl|rn|kl|Zf,lv=Symbol.asyncIterator||Symbol("asyncIterator"),pv=class{constructor(e,{highWaterMark:t=16384,map:n=null,mapWritable:i,byteLength:o,byteLengthWritable:s}={}){this.stream=e,this.queue=new _U,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.drains=null,this.byteLength=s||o||FU,this.map=i||n,this.afterWrite=bre.bind(this),this.afterUpdateNextTick=Sre.bind(this)}get ended(){return(this.stream._duplexState&gc)!==0}push(e){return this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),this.buffered<this.highWaterMark?(this.stream._duplexState|=hc,!0):(this.stream._duplexState|=ure,!1)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=Qte),e}end(e){typeof e=="function"?this.stream.once("finish",e):e!=null&&this.push(e),this.stream._duplexState=(this.stream._duplexState|Al)&PU}autoBatch(e,t){let n=[],i=this.stream;for(n.push(e);(i._duplexState&vU)===DU;)n.push(i._writableState.shift());if((i._duplexState&rn)!==0)return t(null);i._writev(n,t)}update(){let e=this.stream;e._duplexState|=Rl;do{for(;(e._duplexState&vU)===hc;){let t=this.shift();e._duplexState|=dre,e._write(t,this.afterWrite)}(e._duplexState&pre)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Zte}updateNonPrimary(){let e=this.stream;if((e._duplexState&fre)===Al){e._duplexState=(e._duplexState|qs)&Yte,e._final(yre.bind(this));return}if((e._duplexState&Mo)===dc){(e._duplexState&RP)===0&&(e._duplexState|=Kf,e._destroy(OU.bind(this)));return}(e._duplexState&AU)===mc&&(e._duplexState=(e._duplexState|Kf)&IU,e._open(MU.bind(this)))}continueUpdate(){return(this.stream._duplexState&kl)===0?!1:(this.stream._duplexState&=EU,!0)}updateCallback(){(this.stream._duplexState&mre)===Zf?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&kl)===0&&(this.stream._duplexState|=kl,(this.stream._duplexState&Rl)===0&&SU(this.afterUpdateNextTick))}},wP=class{constructor(e,{highWaterMark:t=16384,map:n=null,mapReadable:i,byteLength:o,byteLengthReadable:s}={}){this.stream=e,this.queue=new _U,this.highWaterMark=t,this.buffered=0,this.error=null,this.pipeline=null,this.byteLength=s||o||FU,this.map=i||n,this.pipeTo=null,this.afterRead=vre.bind(this),this.afterUpdateNextTick=wre.bind(this)}get ended(){return(this.stream._duplexState&ti)!==0}pipe(e,t){if(this.pipeTo!==null)throw new Error("Can only pipe to one destination");if(typeof t!="function"&&(t=null),this.stream._duplexState|=TP,this.pipeTo=e,this.pipeline=new _P(this.stream,e,t),t&&this.stream.on("error",wU),Xf(e))e._writableState.pipeline=this.pipeline,t&&e.on("error",wU),e.on("finish",this.pipeline.finished.bind(this.pipeline));else{let n=this.pipeline.done.bind(this.pipeline,e),i=this.pipeline.done.bind(this.pipeline,e,null);e.on("error",n),e.on("close",i),e.on("finish",this.pipeline.finished.bind(this.pipeline))}e.on("drain",gre.bind(this)),this.stream.emit("piping",e),e.emit("pipe",this.stream)}push(e){let t=this.stream;return e===null?(this.highWaterMark=0,t._duplexState=(t._duplexState|fc)&$te,!1):(this.map!==null&&(e=this.map(e)),this.buffered+=this.byteLength(e),this.queue.push(e),t._duplexState=(t._duplexState|Us)&Hte,this.buffered<this.highWaterMark)}shift(){let e=this.queue.shift();return this.buffered-=this.byteLength(e),this.buffered===0&&(this.stream._duplexState&=zte),e}unshift(e){let t=[this.map!==null?this.map(e):e];for(;this.buffered>0;)t.push(this.shift());for(let n=0;n<t.length-1;n++){let i=t[n];this.buffered+=this.byteLength(i),this.queue.push(i)}this.push(t[t.length-1])}read(){let e=this.stream;if((e._duplexState&bU)===Us){let t=this.shift();return this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=yU),(e._duplexState&bP)!==0&&e.emit("data",t),t}return null}drain(){let e=this.stream;for(;(e._duplexState&bU)===Us&&(e._duplexState&xU)!==0;){let t=this.shift();this.pipeTo!==null&&this.pipeTo.write(t)===!1&&(e._duplexState&=yU),(e._duplexState&bP)!==0&&e.emit("data",t)}}update(){let e=this.stream;e._duplexState|=Gf;do{for(this.drain();this.buffered<this.highWaterMark&&(e._duplexState&ore)===0;)e._duplexState|=jte,e._read(this.afterRead),this.drain();(e._duplexState&ire)===qte&&(e._duplexState|=PP,e.emit("readable")),(e._duplexState&Ute)===0&&this.updateNonPrimary()}while(this.continueUpdate()===!0);e._duplexState&=Jte}updateNonPrimary(){let e=this.stream;if((e._duplexState&nre)===fc&&(e._duplexState=(e._duplexState|ti)&Kte,e.emit("end"),(e._duplexState&RU)===kP&&(e._duplexState|=dc),this.pipeTo!==null&&this.pipeTo.end()),(e._duplexState&Mo)===dc){(e._duplexState&RP)===0&&(e._duplexState|=Kf,e._destroy(OU.bind(this)));return}(e._duplexState&AU)===mc&&(e._duplexState=(e._duplexState|Kf)&IU,e._open(MU.bind(this)))}continueUpdate(){return(this.stream._duplexState&El)===0?!1:(this.stream._duplexState&=TU,!0)}updateCallback(){(this.stream._duplexState&are)===Dl?this.update():this.updateNextTick()}updateNextTick(){(this.stream._duplexState&El)===0&&(this.stream._duplexState|=El,(this.stream._duplexState&Gf)===0&&SU(this.afterUpdateNextTick))}},SP=class{constructor(e){this.data=null,this.afterTransform=Ire.bind(e),this.afterFinal=null}},_P=class{constructor(e,t,n){this.from=e,this.to=t,this.afterPipe=n,this.error=null,this.pipeToFinished=!1}finished(){this.pipeToFinished=!0}done(e,t){if(t&&(this.error=t),e===this.to&&(this.to=null,this.from!==null)){((this.from._duplexState&ti)===0||!this.pipeToFinished)&&this.from.destroy(this.error||new Error("Writable stream closed prematurely"));return}if(e===this.from&&(this.from=null,this.to!==null)){(e._duplexState&ti)===0&&this.to.destroy(this.error||new Error("Readable stream closed before ending"));return}this.afterPipe!==null&&this.afterPipe(this.error),this.to=this.from=this.afterPipe=null}};function gre(){this.stream._duplexState|=TP,this.updateCallback()}function yre(r){let e=this.stream;r&&e.destroy(r),(e._duplexState&Mo)===0&&(e._duplexState|=gc,e.emit("finish")),(e._duplexState&RU)===kP&&(e._duplexState|=dc),e._duplexState&=CU,(e._duplexState&Rl)===0?this.update():this.updateNextTick()}function OU(r){let e=this.stream;!r&&this.error!==mv&&(r=this.error),r&&e.emit("error",r),e._duplexState|=Hf,e.emit("close");let t=e._readableState,n=e._writableState;if(t!==null&&t.pipeline!==null&&t.pipeline.done(e,r),n!==null){for(;n.drains!==null&&n.drains.length>0;)n.drains.shift().resolve(!1);n.pipeline!==null&&n.pipeline.done(e,r)}}function bre(r){let e=this.stream;r&&e.destroy(r),e._duplexState&=CU,this.drains!==null&&_re(this.drains),(e._duplexState&lre)===eh&&(e._duplexState&=Xte,(e._duplexState&vP)===vP&&e.emit("drain")),this.updateCallback()}function vre(r){r&&this.stream.destroy(r),this.stream._duplexState&=Wte,this.updateCallback()}function wre(){(this.stream._duplexState&Gf)===0&&(this.stream._duplexState&=TU,this.update())}function Sre(){(this.stream._duplexState&Rl)===0&&(this.stream._duplexState&=EU,this.update())}function _re(r){for(let e=0;e<r.length;e++)--r[e].writes===0&&(r.shift().resolve(!0),e--)}function MU(r){let e=this.stream;r&&e.destroy(r),(e._duplexState&dc)===0&&((e._duplexState&rre)===0&&(e._duplexState|=Dl),(e._duplexState&cre)===0&&(e._duplexState|=Zf),e.emit("open")),e._duplexState&=kU,e._writableState!==null&&e._writableState.updateCallback(),e._readableState!==null&&e._readableState.updateCallback()}function Ire(r,e){e!=null&&this.push(e),this._writableState.afterWrite(r)}function xre(r){this._readableState!==null&&(r==="data"&&(this._duplexState|=bP|zf,this._readableState.updateNextTick()),r==="readable"&&(this._duplexState|=CP,this._readableState.updateNextTick())),this._writableState!==null&&r==="drain"&&(this._duplexState|=vP,this._writableState.updateNextTick())}var Jf=class extends Fte{constructor(e){super(),this._duplexState=0,this._readableState=null,this._writableState=null,e&&(e.open&&(this._open=e.open),e.destroy&&(this._destroy=e.destroy),e.predestroy&&(this._predestroy=e.predestroy),e.signal&&e.signal.addEventListener("abort",Rre.bind(this))),this.on("newListener",xre)}_open(e){e(null)}_destroy(e){e(null)}_predestroy(){}get readable(){return this._readableState!==null?!0:void 0}get writable(){return this._writableState!==null?!0:void 0}get destroyed(){return(this._duplexState&Hf)!==0}get destroying(){return(this._duplexState&Mo)!==0}destroy(e){(this._duplexState&Mo)===0&&(e||(e=mv),this._duplexState=(this._duplexState|dc)&ere,this._readableState!==null&&(this._readableState.highWaterMark=0,this._readableState.error=e),this._writableState!==null&&(this._writableState.highWaterMark=0,this._writableState.error=e),this._duplexState|=xP,this._predestroy(),this._duplexState&=Bte,this._readableState!==null&&this._readableState.updateNextTick(),this._writableState!==null&&this._writableState.updateNextTick())}},dv=class r extends Jf{constructor(e){super(e),this._duplexState|=mc|gc,this._readableState=new wP(this,e),e&&(e.read&&(this._read=e.read),e.eagerOpen&&this._readableState.updateNextTick())}_read(e){e(null)}pipe(e,t){return this._readableState.updateNextTick(),this._readableState.pipe(e,t),e}read(){return this._readableState.updateNextTick(),this._readableState.read()}push(e){return this._readableState.updateNextTick(),this._readableState.push(e)}unshift(e){return this._readableState.updateNextTick(),this._readableState.unshift(e)}resume(){return this._duplexState|=zf,this._readableState.updateNextTick(),this}pause(){return this._duplexState&=Gte,this}static _fromAsyncIterator(e,t){let n,i=new r({...t,read(s){e.next().then(o).then(s.bind(null,null)).catch(s)},predestroy(){n=e.return()},destroy(s){if(!n)return s(null);n.then(s.bind(null,null)).catch(s)}});return i;function o(s){s.done?i.push(null):i.push(s.value)}}static from(e,t){if(Ere(e))return e;if(e[lv])return this._fromAsyncIterator(e[lv](),t);Array.isArray(e)||(e=e===void 0?[]:[e]);let n=0;return new r({...t,read(i){this.push(n===e.length?null:e[n++]),i(null)}})}static isBackpressured(e){return(e._duplexState&sre)!==0||e._readableState.buffered>=e._readableState.highWaterMark}static isPaused(e){return(e._duplexState&zf)===0}[lv](){let e=this,t=null,n=null,i=null;return this.on("error",u=>{t=u}),this.on("readable",o),this.on("close",s),{[lv](){return this},next(){return new Promise(function(u,l){n=u,i=l;let p=e.read();p!==null?a(p):(e._duplexState&Hf)!==0&&a(null)})},return(){return c(null)},throw(u){return c(u)}};function o(){n!==null&&a(e.read())}function s(){n!==null&&a(null)}function a(u){i!==null&&(t?i(t):u===null&&(e._duplexState&ti)===0?i(mv):n({value:u,done:u===null}),i=n=null)}function c(u){return e.destroy(u),new Promise((l,p)=>{if(e._duplexState&Hf)return l({value:void 0,done:!0});e.once("close",function(){u?p(u):l({value:void 0,done:!0})})})}}},fv=class extends Jf{constructor(e){super(e),this._duplexState|=mc|ti,this._writableState=new pv(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final),e.eagerOpen&&this._writableState.updateNextTick())}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}static isBackpressured(e){return(e._duplexState&hre)!==0}static drained(e){if(e.destroyed)return Promise.resolve(!1);let t=e._writableState,i=(Are(e)?Math.min(1,t.queue.length):t.queue.length)+(e._duplexState&EP?1:0);return i===0?Promise.resolve(!0):(t.drains===null&&(t.drains=[]),new Promise(o=>{t.drains.push({writes:i,resolve:o})}))}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},Yf=class extends dv{constructor(e){super(e),this._duplexState=mc,this._writableState=new pv(this,e),e&&(e.writev&&(this._writev=e.writev),e.write&&(this._write=e.write),e.final&&(this._final=e.final))}_writev(e,t){t(null)}_write(e,t){this._writableState.autoBatch(e,t)}_final(e){e(null)}write(e){return this._writableState.updateNextTick(),this._writableState.push(e)}end(e){return this._writableState.updateNextTick(),this._writableState.end(e),this}},hv=class extends Yf{constructor(e){super(e),this._transformState=new SP(this),e&&(e.transform&&(this._transform=e.transform),e.flush&&(this._flush=e.flush))}_write(e,t){this._readableState.buffered>=this._readableState.highWaterMark?this._transformState.data=e:this._transform(e,this._transformState.afterTransform)}_read(e){if(this._transformState.data!==null){let t=this._transformState.data;this._transformState.data=null,e(null),this._transform(t,this._transformState.afterTransform)}else e(null)}destroy(e){super.destroy(e),this._transformState.data!==null&&(this._transformState.data=null,this._transformState.afterTransform())}_transform(e,t){t(null,e)}_flush(e){e(null)}_final(e){this._transformState.afterFinal=e,this._flush(Tre.bind(this))}},IP=class extends hv{};function Tre(r,e){let t=this._transformState.afterFinal;if(r)return t(r);e!=null&&this.push(e),this.push(null),t(null)}function Cre(...r){return new Promise((e,t)=>LU(...r,n=>{if(n)return t(n);e()}))}function LU(r,...e){let t=Array.isArray(r)?[...r,...e]:[r,...e],n=t.length&&typeof t[t.length-1]=="function"?t.pop():null;if(t.length<2)throw new Error("Pipeline requires at least 2 streams");let i=t[0],o=null,s=null;for(let u=1;u<t.length;u++)o=t[u],Xf(i)?i.pipe(o,c):(a(i,!0,u>1,c),i.pipe(o)),i=o;if(n){let u=!1,l=Xf(o)||!!(o._writableState&&o._writableState.autoDestroy);o.on("error",p=>{s===null&&(s=p)}),o.on("finish",()=>{u=!0,l||n(s)}),l&&o.on("close",()=>n(s||(u?null:yP)))}return o;function a(u,l,p,d){u.on("error",d),u.on("close",f);function f(){if(l&&u._readableState&&!u._readableState.ended||p&&u._writableState&&!u._writableState.ended)return d(yP)}}function c(u){if(!(!u||s)){s=u;for(let l of t)l.destroy(u)}}}function NU(r){return!!r._readableState||!!r._writableState}function Xf(r){return typeof r._duplexState=="number"&&NU(r)}function Pre(r){let e=r._readableState&&r._readableState.error||r._writableState&&r._writableState.error;return e===mv?null:e}function Ere(r){return Xf(r)&&r.readable}function kre(r){return typeof r=="object"&&r!==null&&typeof r.byteLength=="number"}function FU(r){return kre(r)?r.byteLength:1024}function wU(){}function Rre(){this.destroy(new Error("Stream aborted."))}function Are(r){return r._writev!==fv.prototype._writev&&r._writev!==Yf.prototype._writev}BU.exports={pipeline:LU,pipelinePromise:Cre,isStream:NU,isStreamx:Xf,getStreamError:Pre,Stream:Jf,Writable:fv,Readable:dv,Duplex:Yf,Transform:hv,PassThrough:IP}});var qU=v((IIe,UU)=>{UU.exports=function(e){if(typeof e!="string"||e==="")return!1;for(var t;t=/(\\).|([@?!+*]\(.*\))/g.exec(e);){if(t[2])return!0;e=e.slice(t.index+t[0].length)}return!1}});var AP=v((xIe,VU)=>{var Dre=qU(),WU={"{":"}","(":")","[":"]"},Ore=function(r){if(r[0]==="!")return!0;for(var e=0,t=-2,n=-2,i=-2,o=-2,s=-2;e<r.length;){if(r[e]==="*"||r[e+1]==="?"&&/[\].+)]/.test(r[e])||n!==-1&&r[e]==="["&&r[e+1]!=="]"&&(n<e&&(n=r.indexOf("]",e)),n>e&&(s===-1||s>n||(s=r.indexOf("\\",e),s===-1||s>n)))||i!==-1&&r[e]==="{"&&r[e+1]!=="}"&&(i=r.indexOf("}",e),i>e&&(s=r.indexOf("\\",e),s===-1||s>i))||o!==-1&&r[e]==="("&&r[e+1]==="?"&&/[:!=]/.test(r[e+2])&&r[e+3]!==")"&&(o=r.indexOf(")",e),o>e&&(s=r.indexOf("\\",e),s===-1||s>o))||t!==-1&&r[e]==="("&&r[e+1]!=="|"&&(t<e&&(t=r.indexOf("|",e)),t!==-1&&r[t+1]!==")"&&(o=r.indexOf(")",t),o>t&&(s=r.indexOf("\\",t),s===-1||s>o))))return!0;if(r[e]==="\\"){var a=r[e+1];e+=2;var c=WU[a];if(c){var u=r.indexOf(c,e);u!==-1&&(e=u+1)}if(r[e]==="!")return!0}else e++}return!1},Mre=function(r){if(r[0]==="!")return!0;for(var e=0;e<r.length;){if(/[*?{}()[\]]/.test(r[e]))return!0;if(r[e]==="\\"){var t=r[e+1];e+=2;var n=WU[t];if(n){var i=r.indexOf(n,e);i!==-1&&(e=i+1)}if(r[e]==="!")return!0}else e++}return!1};VU.exports=function(e,t){if(typeof e!="string"||e==="")return!1;if(Dre(e))return!0;var n=Ore;return t&&t.strict===!1&&(n=Mre),n(e)}});var HU=v((TIe,$U)=>{"use strict";var Lre=AP(),Nre=require("path").posix.dirname,Fre=require("os").platform()==="win32",yv="/",Bre=/\\/g,jre=/\\([!*?|[\](){}])/g;$U.exports=function(e,t){var n=Object.assign({flipBackslashes:!0},t);n.flipBackslashes&&Fre&&e.indexOf(yv)<0&&(e=e.replace(Bre,yv)),Ure(e)&&(e+=yv),e+="a";do e=Nre(e);while(qre(e));return e.replace(jre,"$1")};function Ure(r){var e=r.slice(-1),t;switch(e){case"}":t="{";break;case"]":t="[";break;default:return!1}var n=r.indexOf(t);return n<0?!1:r.slice(n+1,-1).includes(yv)}function qre(r){return/\([^()]+$/.test(r)||r[0]==="{"||r[0]==="["||/[^\\][{[]/.test(r)?!0:Lre(r)}});var bv=v((CIe,GU)=>{"use strict";GU.exports=function(r){if(typeof r!="string")throw new TypeError("expected a string");var e={negated:!1,pattern:r,original:r};return r.charAt(0)==="!"&&r.charAt(1)!=="("&&(e.negated=!0,e.pattern=r.slice(1)),e}});var XU=v((PIe,YU)=>{"use strict";var vv=require("path"),Wre=bv();YU.exports=function(r,e){var t=e||{},n=KU(t.cwd?t.cwd:process.cwd());n=vv.resolve(n),n=DP(n),n=zU(n);var i=t.root;i&&(i=KU(i),i=DP(i),(process.platform==="win32"||!vv.isAbsolute(i))&&(i=DP(vv.resolve(i))),i=zU(i));var o=r.slice(-1),s=Wre(r);return r=s.pattern,r.slice(0,2)==="./"&&(r=r.slice(2)),r.length===1&&r==="."&&(r=""),i&&r.charAt(0)==="/"?r=JU(i,r):(!vv.isAbsolute(r)||r.slice(0,1)==="\\")&&(r=JU(n,r)),o==="/"&&r.slice(-1)!=="/"&&(r+="/"),s.negated?"!"+r:r};function zU(r){return r.replace(/([({[\]})*?!])/g,"\\$1")}function KU(r){return r.replace(/\\([({[\]})*?!])/g,"$1")}function DP(r){return r.replace(/\\/g,"/")}function JU(r,e){if(r.charAt(r.length-1)==="/"&&(r=r.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),!e)return r;for(;e.slice(0,3)==="../";)r=r.slice(0,r.lastIndexOf("/")),e=e.slice(3);return r+"/"+e}});var eq=v((EIe,ZU)=>{"use strict";var Vre=require("fs"),OP=require("path"),$re=require("events"),Hre=eU(),Gre=aU(),zre=jU().Readable,Kre=AP(),Jre=HU(),QU=mP(),Yre=bv(),Xre=XU(),Qre="File not found with singular glob: ",Zre=" (if this was purposeful, use `allowEmpty` option)";function ene(r){return Kre(r)}function tne(){var r={withFileTypes:!0},e=new $re,t=Hre(i,1);t.drain=function(){e.emit("end")},t.error(n);function n(o){o&&e.emit("error",o)}e.pause=function(){t.pause()},e.resume=function(){t.resume()},e.end=function(){t.kill()},e.walk=function(o){t.push(o)};function i(o,s){Vre.readdir(o,r,a);function a(u,l){if(u)return s(u);l.forEach(c),s()}function c(u){var l=OP.join(o,u.name);e.emit("path",l,u),u.isDirectory()&&t.push(l)}}return e}function rne(r){var e=!1;r.forEach(t);function t(n,i){if(typeof n!="string")throw new Error("Invalid glob at index "+i);var o=Yre(n);o.negated===!1&&(e=!0)}if(e===!1)throw new Error("Missing positive glob")}function nne(r){if(typeof r.cwd!="string")throw new Error("The `cwd` option must be a string");if(typeof r.dot!="boolean")throw new Error("The `dot` option must be a boolean");if(typeof r.cwdbase!="boolean")throw new Error("The `cwdbase` option must be a boolean");if(typeof r.uniqueBy!="string"&&typeof r.uniqueBy!="function")throw new Error("The `uniqueBy` option must be a string or function");if(typeof r.allowEmpty!="boolean")throw new Error("The `allowEmpty` option must be a boolean");if(r.base&&typeof r.base!="string")throw new Error("The `base` option must be a string if specified");if(!Array.isArray(r.ignore))throw new Error("The `ignore` option must be a string or array")}function ine(r){var e=new Set;if(typeof r=="string")return n;return i;function t(o){return e.has(o)?!1:(e.add(o),!0)}function n(o){return t(o[r])}function i(o){return t(r(o))}}function one(r,e){Array.isArray(r)||(r=[r]),rne(r);var t=Object.assign({},{cwd:process.cwd(),dot:!1,cwdbase:!1,uniqueBy:"path",allowEmpty:!1,ignore:[]},e);t.ignore=typeof t.ignore=="string"?[t.ignore]:t.ignore,nne(t),t.cwd=QU(OP.resolve(t.cwd),!0);var n=t.base;t.cwdbase&&(n=t.cwd);var i=tne(),o=new zre({highWaterMark:t.highWaterMark,read:l,predestroy:p}),s=r.map(d);t.ignore=t.ignore.map(d);var a=s.map(ene),c=Gre(s,null,t),u=ine(t.uniqueBy);i.on("path",f),i.once("end",h),i.once("error",g),i.walk(t.cwd);function l(b){i.resume(),b()}function p(){i.end()}function d(b){return Xre(b,t)}function f(b,I){var L=c(b,!0);if(L===-1&&I.isDirectory()&&(L=c(b+OP.sep,!0)),L!==-1){a[L]=!0;var E=n||Jre(s[L]),B={cwd:t.cwd,base:E,path:QU(b,!0)},A=u(B);if(A){var R=o.push(B);R||i.pause()}}}function h(){var b=!1;a.forEach(function(I,L){if(t.allowEmpty!==!0&&!I){b=!0;var E=new Error(Qre+s[L]+Zre);return o.destroy(E)}}),b===!1&&o.push(null)}function g(b){o.destroy(b)}return o}ZU.exports=one});var rq=v((RIe,tq)=>{"use strict";tq.exports=function(){return/^[\\\/]{2,}[^\\\/]+[\\\/]+[^\\\/]+/}});var iq=v((AIe,nq)=>{"use strict";var sne=rq()();nq.exports=function(r){if(typeof r!="string")throw new TypeError("expected a string");return sne.test(r)}});var sq=v((DIe,oq)=>{"use strict";var ane=iq();oq.exports=function(e){if(typeof e!="string")throw new TypeError("expected filepath to be a string");return!ane(e)&&!/^([a-z]:)?[\\\/]/i.test(e)}});var aq=v((MP,LP)=>{(function(r){MP&&typeof MP=="object"&&typeof LP<"u"?LP.exports=r():typeof define=="function"&&define.amd?define([],r):typeof window<"u"?window.isWindows=r():typeof global<"u"?global.isWindows=r():typeof self<"u"?self.isWindows=r():this.isWindows=r()})(function(){"use strict";return function(){return process&&(process.platform==="win32"||/^(msys|cygwin)$/.test(process.env.OSTYPE))}})});var uq=v((OIe,cq)=>{"use strict";var cne=sq(),une=aq();cq.exports=th;function th(r){if(typeof r!="string")throw new TypeError("isAbsolute expects a string.");return une()?th.win32(r):th.posix(r)}th.posix=function(e){return e.charAt(0)==="/"};th.win32=function(e){return/[a-z]/i.test(e.charAt(0))&&e.charAt(1)===":"&&e.charAt(2)==="\\"||e.slice(0,2)==="\\\\"?!0:!cne(e)}});var gq=v((MIe,mq)=>{"use strict";var lq=require("path"),lne=bv(),pq=uq();mq.exports=function(r,e){var t=e||{},n=fq(t.cwd?t.cwd:process.cwd());n=lq.resolve(n),n=NP(n),n=dq(n);var i=t.root;i&&(i=fq(i),i=NP(i),(process.platform==="win32"||!pq(i))&&(i=NP(lq.resolve(i))),i=dq(i)),r.slice(0,2)==="./"&&(r=r.slice(2)),r.length===1&&r==="."&&(r="");var o=r.slice(-1),s=lne(r);return r=s.pattern,i&&r.charAt(0)==="/"?r=hq(i,r):(!pq(r)||r.slice(0,1)==="\\")&&(r=hq(n,r)),o==="/"&&r.slice(-1)!=="/"&&(r+="/"),s.negated?"!"+r:r};function dq(r){return r.replace(/([({[\]})*?!])/g,"\\$1")}function fq(r){return r.replace(/\\([({[\]})*?!])/g,"$1")}function NP(r){return r.replace(/\\/g,"/")}function hq(r,e){return r.charAt(r.length-1)==="/"&&(r=r.slice(0,-1)),e.charAt(0)==="/"&&(e=e.slice(1)),e?r+"/"+e:r}});var Kq=v((iPe,zq)=>{try{zq.exports=require("./win32-app-container-tokens.win32-arm64-msvc-4ZJZ3U55.node")}catch{}});var Yq=v((oPe,Jq)=>{try{Jq.exports=require("./win32-app-container-tokens.win32-x64-msvc-VCQE7GJP.node")}catch{}});var hW=v((sEe,Ene)=>{Ene.exports={name:"dotenv",version:"16.4.1",description:"Loads environment variables from .env file",main:"lib/main.js",types:"lib/main.d.ts",exports:{".":{types:"./lib/main.d.ts",require:"./lib/main.js",default:"./lib/main.js"},"./config":"./config.js","./config.js":"./config.js","./lib/env-options":"./lib/env-options.js","./lib/env-options.js":"./lib/env-options.js","./lib/cli-options":"./lib/cli-options.js","./lib/cli-options.js":"./lib/cli-options.js","./package.json":"./package.json"},scripts:{"dts-check":"tsc --project tests/types/tsconfig.json",lint:"standard","lint-readme":"standard-markdown",pretest:"npm run lint && npm run dts-check",test:"tap tests/*.js --100 -Rspec",prerelease:"npm test",release:"standard-version"},repository:{type:"git",url:"git://github.com/motdotla/dotenv.git"},funding:"https://github.com/motdotla/dotenv?sponsor=1",keywords:["dotenv","env",".env","environment","variables","config","settings"],readmeFilename:"README.md",license:"BSD-2-Clause",devDependencies:{"@definitelytyped/dtslint":"^0.0.133","@types/node":"^18.11.3",decache:"^4.6.1",sinon:"^14.0.1",standard:"^17.0.0","standard-markdown":"^7.1.0","standard-version":"^9.5.0",tap:"^16.3.0",tar:"^6.1.11",typescript:"^4.8.4"},engines:{node:">=12"},browser:{fs:!1}}});var yW=v((aEe,jo)=>{var Vv=require("fs"),JP=require("path"),kne=require("os"),Rne=require("crypto"),Ane=hW(),YP=Ane.version,Dne=/(?:^|^)\s*(?:export\s+)?([\w.-]+)(?:\s*=\s*?|:\s+?)(\s*'(?:\\'|[^'])*'|\s*"(?:\\"|[^"])*"|\s*`(?:\\`|[^`])*`|[^#\r\n]+)?\s*(?:#.*)?(?:$|$)/mg;function One(r){let e={},t=r.toString();t=t.replace(/\r\n?/mg,`
`);let n;for(;(n=Dne.exec(t))!=null;){let i=n[1],o=n[2]||"";o=o.trim();let s=o[0];o=o.replace(/^(['"`])([\s\S]*)\1$/mg,"$2"),s==='"'&&(o=o.replace(/\\n/g,`
`),o=o.replace(/\\r/g,"\r")),e[i]=o}return e}function Mne(r){let e=gW(r),t=jt.configDotenv({path:e});if(!t.parsed){let s=new Error(`MISSING_DATA: Cannot parse ${e} for an unknown reason`);throw s.code="MISSING_DATA",s}let n=mW(r).split(","),i=n.length,o;for(let s=0;s<i;s++)try{let a=n[s].trim(),c=Fne(t,a);o=jt.decrypt(c.ciphertext,c.key);break}catch(a){if(s+1>=i)throw a}return jt.parse(o)}function Lne(r){console.log(`[dotenv@${YP}][INFO] ${r}`)}function Nne(r){console.log(`[dotenv@${YP}][WARN] ${r}`)}function $v(r){console.log(`[dotenv@${YP}][DEBUG] ${r}`)}function mW(r){return r&&r.DOTENV_KEY&&r.DOTENV_KEY.length>0?r.DOTENV_KEY:process.env.DOTENV_KEY&&process.env.DOTENV_KEY.length>0?process.env.DOTENV_KEY:""}function Fne(r,e){let t;try{t=new URL(e)}catch(a){if(a.code==="ERR_INVALID_URL"){let c=new Error("INVALID_DOTENV_KEY: Wrong format. Must be in valid uri format like dotenv://:key_1234@dotenv.org/vault/.env.vault?environment=development");throw c.code="INVALID_DOTENV_KEY",c}throw a}let n=t.password;if(!n){let a=new Error("INVALID_DOTENV_KEY: Missing key part");throw a.code="INVALID_DOTENV_KEY",a}let i=t.searchParams.get("environment");if(!i){let a=new Error("INVALID_DOTENV_KEY: Missing environment part");throw a.code="INVALID_DOTENV_KEY",a}let o=`DOTENV_VAULT_${i.toUpperCase()}`,s=r.parsed[o];if(!s){let a=new Error(`NOT_FOUND_DOTENV_ENVIRONMENT: Cannot locate environment ${o} in your .env.vault file.`);throw a.code="NOT_FOUND_DOTENV_ENVIRONMENT",a}return{ciphertext:s,key:n}}function gW(r){let e=null;if(r&&r.path&&r.path.length>0)if(Array.isArray(r.path))for(let t of r.path)Vv.existsSync(t)&&(e=t.endsWith(".vault")?t:`${t}.vault`);else e=r.path.endsWith(".vault")?r.path:`${r.path}.vault`;else e=JP.resolve(process.cwd(),".env.vault");return Vv.existsSync(e)?e:null}function Bne(r){return r[0]==="~"?JP.join(kne.homedir(),r.slice(1)):r}function jne(r){Lne("Loading env from encrypted .env.vault");let e=jt._parseVault(r),t=process.env;return r&&r.processEnv!=null&&(t=r.processEnv),jt.populate(t,e,r),{parsed:e}}function Une(r){let e=JP.resolve(process.cwd(),".env"),t="utf8",n=!!(r&&r.debug);if(r){if(r.path!=null){let i=r.path;if(Array.isArray(i)){for(let o of r.path)if(Vv.existsSync(o)){i=o;break}}e=Bne(i)}r.encoding!=null?t=r.encoding:n&&$v("No encoding is specified. UTF-8 is used by default")}try{let i=jt.parse(Vv.readFileSync(e,{encoding:t})),o=process.env;return r&&r.processEnv!=null&&(o=r.processEnv),jt.populate(o,i,r),{parsed:i}}catch(i){return n&&$v(`Failed to load ${e} ${i.message}`),{error:i}}}function qne(r){if(mW(r).length===0)return jt.configDotenv(r);let e=gW(r);return e?jt._configVault(r):(Nne(`You set DOTENV_KEY but you are missing a .env.vault file at ${e}. Did you forget to build it?`),jt.configDotenv(r))}function Wne(r,e){let t=Buffer.from(e.slice(-64),"hex"),n=Buffer.from(r,"base64"),i=n.subarray(0,12),o=n.subarray(-16);n=n.subarray(12,-16);try{let s=Rne.createDecipheriv("aes-256-gcm",t,i);return s.setAuthTag(o),`${s.update(n)}${s.final()}`}catch(s){let a=s instanceof RangeError,c=s.message==="Invalid key length",u=s.message==="Unsupported state or unable to authenticate data";if(a||c){let l=new Error("INVALID_DOTENV_KEY: It must be 64 characters long (or more)");throw l.code="INVALID_DOTENV_KEY",l}else if(u){let l=new Error("DECRYPTION_FAILED: Please check your DOTENV_KEY");throw l.code="DECRYPTION_FAILED",l}else throw s}}function Vne(r,e,t={}){let n=!!(t&&t.debug),i=!!(t&&t.override);if(typeof e!="object"){let o=new Error("OBJECT_REQUIRED: Please check the processEnv argument being passed to populate");throw o.code="OBJECT_REQUIRED",o}for(let o of Object.keys(e))Object.prototype.hasOwnProperty.call(r,o)?(i===!0&&(r[o]=e[o]),n&&$v(i===!0?`"${o}" is already defined and WAS overwritten`:`"${o}" is already defined and was NOT overwritten`)):r[o]=e[o]}var jt={configDotenv:Une,_configVault:jne,_parseVault:Mne,config:qne,decrypt:Wne,parse:One,populate:Vne};jo.exports.configDotenv=jt.configDotenv;jo.exports._configVault=jt._configVault;jo.exports._parseVault=jt._parseVault;jo.exports.config=jt.config;jo.exports.decrypt=jt.decrypt;jo.exports.parse=jt.parse;jo.exports.populate=jt.populate;jo.exports=jt});var s0=v(ta=>{"use strict";Object.defineProperty(ta,"__esModule",{value:!0});ta.TargetPopulation=ta.Filters=ta.VSCodeFilterProvider=void 0;var dw=require("vscode"),o0=class r{constructor(e,t,n){this.extensionName=e,this.extensionVersion=t,this.targetPopulation=n}static trimVersionSuffix(e){let t=/\-[a-zA-Z0-9]+$/;return e.split(t)[0]}getFilterValue(e){switch(e){case ro.ApplicationVersion:return r.trimVersionSuffix(dw.version);case ro.Build:return dw.env.appName;case ro.ClientId:return dw.env.machineId;case ro.ExtensionName:return this.extensionName;case ro.ExtensionVersion:return r.trimVersionSuffix(this.extensionVersion);case ro.Language:return dw.env.language;case ro.TargetPopulation:return this.targetPopulation;default:return""}}getFilters(){let e=new Map,t=Object.values(ro);for(let n of t)e.set(n,this.getFilterValue(n));return e}};ta.VSCodeFilterProvider=o0;var ro;(function(r){r.Market="X-MSEdge-Market",r.CorpNet="X-FD-Corpnet",r.ApplicationVersion="X-VSCode-AppVersion",r.Build="X-VSCode-Build",r.ClientId="X-MSEdge-ClientId",r.ExtensionName="X-VSCode-ExtensionName",r.ExtensionVersion="X-VSCode-ExtensionVersion",r.Language="X-VSCode-Language",r.TargetPopulation="X-VSCode-TargetPopulation"})(ro||(ta.Filters=ro={}));var eV;(function(r){r.Team="team",r.Internal="internal",r.Insiders="insider",r.Public="public"})(eV||(ta.TargetPopulation=eV={}))});var tV=v(fw=>{"use strict";Object.defineProperty(fw,"__esModule",{value:!0});fw.BaseFeatureProvider=void 0;var a0=class{constructor(e){this.telemetry=e,this.isFetching=!1}async getFeatures(){if(this.isFetching&&this.fetchPromise)return this.fetchPromise;this.fetchPromise=this.fetch();let e=await this.fetchPromise;return this.isFetching=!1,this.fetchPromise=void 0,e}};fw.BaseFeatureProvider=a0});var rV=v(hw=>{"use strict";Object.defineProperty(hw,"__esModule",{value:!0});hw.FilteredFeatureProvider=void 0;var cie=tV(),c0=class extends cie.BaseFeatureProvider{constructor(e,t){super(e),this.telemetry=e,this.filterProviders=t,this.cachedTelemetryEvents=[]}getFilters(){let e=new Map;for(let t of this.filterProviders){let n=t.getFilters();for(let i of n.keys()){let o=n.get(i);e.set(i,o)}}return e}PostEventToTelemetry(e){if(this.cachedTelemetryEvents.includes(e))return;let t=JSON.stringify(e);this.telemetry.postEvent("report-headers",new Map([["ABExp.headers",t]])),this.cachedTelemetryEvents.push(e)}};hw.FilteredFeatureProvider=c0});var nV=v(ra=>{"use strict";Object.defineProperty(ra,"__esModule",{value:!0});ra.TasApiFeatureProvider=ra.TASAPI_FETCHERROR_EVENTNAME=void 0;var uie=rV();ra.TASAPI_FETCHERROR_EVENTNAME="call-tas-error";var u0="ErrorType",l0=class extends uie.FilteredFeatureProvider{constructor(e,t,n){super(t,n),this.httpClient=e,this.telemetry=t,this.filterProviders=n}async fetch(){let e=this.getFilters(),t={};for(let a of e.keys()){let c=e.get(a);t[a]=c}let n;try{n=await this.httpClient.get({headers:t})}catch(a){let c=a,u=new Map;c.responseReceived&&!c.responseOk?u.set(u0,"ServerError"):c.responseReceived===!1?u.set(u0,"NoResponse"):u.set(u0,"GenericError"),this.telemetry.postEvent(ra.TASAPI_FETCHERROR_EVENTNAME,u)}if(!n)throw Error(ra.TASAPI_FETCHERROR_EVENTNAME);e.keys.length>0&&this.PostEventToTelemetry(t);let i=n.data,o=i.Configs,s=[];for(let a of o)if(a.Parameters)for(let c of Object.keys(a.Parameters)){let u=c+(a.Parameters[c]?"":"cf");s.includes(u)||s.push(u)}return{features:s,assignmentContext:i.AssignmentContext,configs:o}}};ra.TasApiFeatureProvider=l0});var iV=v(up=>{"use strict";Object.defineProperty(up,"__esModule",{value:!0});up.HttpClient=up.FetchError=void 0;var cp=class extends Error{constructor(e,t,n){super(e),this.responseReceived=t,this.responseOk=n}};up.FetchError=cp;var p0=class{constructor(e){this.endpoint=e}async get(e){let t=await fetch(this.endpoint,{method:"GET",headers:e?.headers});if(!t)throw new cp("No response received",!1);if(!t.ok)throw new cp("Response not ok",!0,!1);let n=await t.json();if(!n)throw new cp("No data received",!1);return{data:n}}};up.HttpClient=p0});var oV=v(mw=>{"use strict";Object.defineProperty(mw,"__esModule",{value:!0});mw.MemoryKeyValueStorage=void 0;var d0=class{constructor(){this.storage=new Map}async getValue(e,t){return this.storage.has(e)?await Promise.resolve(this.storage.get(e)):await Promise.resolve(t||void 0)}setValue(e,t){this.storage.set(e,t)}};mw.MemoryKeyValueStorage=d0});var sV=v(gw=>{"use strict";Object.defineProperty(gw,"__esModule",{value:!0});gw.ExperimentationServiceBase=void 0;var lie=oV(),f0=class{get features(){return this._features}set features(e){this._features=e,this.telemetry&&this.telemetry.setSharedProperty(this.assignmentContextTelemetryPropertyName,this.features.assignmentContext)}constructor(e,t,n,i,o){this.telemetry=e,this.assignmentContextTelemetryPropertyName=t,this.telemetryEventName=n,this.storageKey=i,this.storage=o,this.featuresConsumed=!1,this.cachedTelemetryEvents=[],this._features={features:[],assignmentContext:"",configs:[]},this.storageKey||(this.storageKey="ABExp.Features"),this.storage||(o=new lie.MemoryKeyValueStorage),this.loadCachePromise=this.loadCachedFeatureData(),this.initializePromise=this.loadCachePromise,this.initialFetch=new Promise((s,a)=>{this.resolveInitialFetchPromise=s})}async getFeaturesAsync(e=!1){if(this.fetchPromise!=null){try{await this.fetchPromise}catch{}return this.features}if(!this.featureProviders||this.featureProviders.length===0)return Promise.resolve({features:[],assignmentContext:"",configs:[]});try{this.fetchPromise=Promise.all(this.featureProviders.map(async n=>await n.getFeatures()));let t=await this.fetchPromise;this.updateFeatures(t,e)}catch{}return this.fetchPromise=void 0,this.resolveInitialFetchPromise&&(this.resolveInitialFetchPromise(),this.resolveInitialFetchPromise=void 0),this.features}updateFeatures(e,t=!1){let n={features:[],assignmentContext:"",configs:[]};for(let i of e){for(let o of i.features)n.features.includes(o)||n.features.push(o);for(let o of i.configs){let s=n.configs.find(a=>a.Id===o.Id);s?s.Parameters=Object.assign(Object.assign({},s.Parameters),o.Parameters):n.configs.push(o)}n.assignmentContext+=i.assignmentContext}(t||!this.featuresConsumed)&&(this.features=n),this.storage&&this.storage.setValue(this.storageKey,n)}async loadCachedFeatureData(){let e;this.storage&&(e=await this.storage.getValue(this.storageKey),e!==void 0&&e.configs===void 0&&(e.configs=[])),this.features.features.length===0&&(this.features=e||{features:[],assignmentContext:"",configs:[]})}isFlightEnabled(e){return this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isCachedFlightEnabled(e){return await this.loadCachePromise,this.featuresConsumed=!0,this.PostEventToTelemetry(e),this.features.features.includes(e)}async isFlightEnabledAsync(e){let t=await this.getFeaturesAsync(!0);return this.featuresConsumed=!0,this.PostEventToTelemetry(e),t.features.includes(e)}getTreatmentVariable(e,t){this.featuresConsumed=!0,this.PostEventToTelemetry(`${e}.${t}`);let n=this.features.configs.find(i=>i.Id===e);return n?.Parameters[t]}async getTreatmentVariableAsync(e,t,n){if(n){let i=this.featuresConsumed,o=this.getTreatmentVariable(e,t);if(o===void 0)this.featuresConsumed=i;else return o}return await this.getFeaturesAsync(!0),this.getTreatmentVariable(e,t)}PostEventToTelemetry(e){this.cachedTelemetryEvents.includes(e)||(this.telemetry.postEvent(this.telemetryEventName,new Map([["ABExp.queriedFeature",e]])),this.cachedTelemetryEvents.push(e))}invokeInit(){this.init()}addFeatureProvider(...e){if(!(e==null||this.featureProviders==null))for(let t of e)this.featureProviders.push(t)}};gw.ExperimentationServiceBase=f0});var aV=v(yw=>{"use strict";Object.defineProperty(yw,"__esModule",{value:!0});yw.PollingService=void 0;var h0=class{constructor(e){this.fetchInterval=e}StopPolling(){clearInterval(this.intervalHandle),this.intervalHandle=void 0}OnPollTick(e){this.onTick=e}StartPolling(e=!1){this.intervalHandle&&this.StopPolling(),this.onTick!=null&&(e&&this.onTick().then(()=>{}).catch(()=>{}),this.intervalHandle=setInterval(async()=>{await this.onTick()},this.fetchInterval),this.intervalHandle.unref&&this.intervalHandle.unref())}};yw.PollingService=h0});var cV=v(bw=>{"use strict";Object.defineProperty(bw,"__esModule",{value:!0});bw.ExperimentationServiceAutoPolling=void 0;var pie=sV(),die=aV(),m0=class extends pie.ExperimentationServiceBase{constructor(e,t,n,i,o,s,a){if(super(e,i,o,s,a),this.telemetry=e,this.filterProviders=t,this.refreshRateMs=n,this.assignmentContextTelemetryPropertyName=i,this.telemetryEventName=o,this.storageKey=s,this.storage=a,n<1e3&&n!==0)throw new Error("The minimum refresh rate for polling is 1000 ms (1 second). If you wish to deactivate this auto-polling use value of 0.");n>0&&(this.pollingService=new die.PollingService(n),this.pollingService.OnPollTick(async()=>{await super.getFeaturesAsync()}))}init(){this.pollingService?this.pollingService.StartPolling(!0):super.getFeaturesAsync()}async getFeaturesAsync(e=!1){if(this.pollingService){this.pollingService.StopPolling();let t=await super.getFeaturesAsync(e);return this.pollingService.StartPolling(),t}else return await super.getFeaturesAsync(e)}};bw.ExperimentationServiceAutoPolling=m0});var uV=v(ww=>{"use strict";Object.defineProperty(ww,"__esModule",{value:!0});ww.ExperimentationService=void 0;var fie=nV(),hie=iV(),mie=cV(),vw=class extends mie.ExperimentationServiceAutoPolling{constructor(e){super(e.telemetry,e.filterProviders||[],e.refetchInterval!=null?e.refetchInterval:0,e.assignmentContextTelemetryPropertyName,e.telemetryEventName,e.storageKey,e.keyValueStorage),this.options=e,this.invokeInit()}init(){this.featureProviders=[],this.addFeatureProvider(new fie.TasApiFeatureProvider(new hie.HttpClient(this.options.endpoint),this.telemetry,this.filterProviders)),super.init()}};ww.ExperimentationService=vw;vw.REFRESH_RATE_IN_MINUTES=30});var lV=v(Sw=>{"use strict";Object.defineProperty(Sw,"__esModule",{value:!0});Sw.ExperimentationService=void 0;var gie=uV();Object.defineProperty(Sw,"ExperimentationService",{enumerable:!0,get:function(){return gie.ExperimentationService}})});var pV=v(_w=>{"use strict";Object.defineProperty(_w,"__esModule",{value:!0});_w.MementoKeyValueStorage=void 0;var g0=class{constructor(e){this.mementoGlobalStorage=e}async getValue(e,t){return await this.mementoGlobalStorage.get(e)||t}setValue(e,t){this.mementoGlobalStorage.update(e,t)}};_w.MementoKeyValueStorage=g0});var dV=v(b0=>{"use strict";Object.defineProperty(b0,"__esModule",{value:!0});var y0=class{constructor(){this.initializePromise=Promise.resolve(),this.initialFetch=Promise.resolve()}isFlightEnabled(e){return!1}isCachedFlightEnabled(e){return Promise.resolve(!1)}isFlightEnabledAsync(e){return Promise.resolve(!1)}getTreatmentVariable(e,t){}getTreatmentVariableAsync(e,t){return Promise.resolve(void 0)}};b0.default=y0});var hV=v(lp=>{"use strict";Object.defineProperty(lp,"__esModule",{value:!0});lp.getExperimentationServiceAsync=lp.getExperimentationService=void 0;var yie=s0(),bie=lV(),v0=require("vscode"),vie=pV(),wie=dV(),Sie="https://default.exp-tas.com/vscode/ab",_ie="query-expfeature",Iie="abexp.assignmentcontext",xie="VSCode.ABExp.FeatureData",Tie=1e3*60*30;function fV(r,e,t,n,i,...o){if(!i)throw new Error("Memento storage was not provided.");let s=v0.workspace.getConfiguration("telemetry");if(!(v0.env.isTelemetryEnabled===void 0?s.get("enableTelemetry",!0):v0.env.isTelemetryEnabled))return new wie.default;let u=[new yie.VSCodeFilterProvider(r,e,t),...o],l=new vie.MementoKeyValueStorage(i);return new bie.ExperimentationService({filterProviders:u,telemetry:n,storageKey:xie,keyValueStorage:l,featuresTelemetryPropertyName:"",assignmentContextTelemetryPropertyName:Iie,telemetryEventName:_ie,endpoint:Sie,refetchInterval:Tie})}lp.getExperimentationService=fV;async function Cie(r,e,t,n,i,...o){let s=fV(r,e,t,n,i,...o);return await s.initializePromise,s}lp.getExperimentationServiceAsync=Cie});var gV=v(na=>{"use strict";Object.defineProperty(na,"__esModule",{value:!0});na.TargetPopulation=na.getExperimentationServiceAsync=na.getExperimentationService=void 0;var mV=hV();Object.defineProperty(na,"getExperimentationService",{enumerable:!0,get:function(){return mV.getExperimentationService}});Object.defineProperty(na,"getExperimentationServiceAsync",{enumerable:!0,get:function(){return mV.getExperimentationServiceAsync}});var Pie=s0();Object.defineProperty(na,"TargetPopulation",{enumerable:!0,get:function(){return Pie.TargetPopulation}})});function Oc(r,e=!1){let t=r.length,n=0,i="",o=0,s=16,a=0,c=0,u=0,l=0,p=0;function d(E,B){let A=0,R=0;for(;A<E||!B;){let x=r.charCodeAt(n);if(x>=48&&x<=57)R=R*16+x-48;else if(x>=65&&x<=70)R=R*16+x-65+10;else if(x>=97&&x<=102)R=R*16+x-97+10;else break;n++,A++}return A<E&&(R=-1),R}function f(E){n=E,i="",o=0,s=16,p=0}function h(){let E=n;if(r.charCodeAt(n)===48)n++;else for(n++;n<r.length&&Np(r.charCodeAt(n));)n++;if(n<r.length&&r.charCodeAt(n)===46)if(n++,n<r.length&&Np(r.charCodeAt(n)))for(n++;n<r.length&&Np(r.charCodeAt(n));)n++;else return p=3,r.substring(E,n);let B=n;if(n<r.length&&(r.charCodeAt(n)===69||r.charCodeAt(n)===101))if(n++,(n<r.length&&r.charCodeAt(n)===43||r.charCodeAt(n)===45)&&n++,n<r.length&&Np(r.charCodeAt(n))){for(n++;n<r.length&&Np(r.charCodeAt(n));)n++;B=n}else p=3;return r.substring(E,B)}function g(){let E="",B=n;for(;;){if(n>=t){E+=r.substring(B,n),p=2;break}let A=r.charCodeAt(n);if(A===34){E+=r.substring(B,n),n++;break}if(A===92){if(E+=r.substring(B,n),n++,n>=t){p=2;break}switch(r.charCodeAt(n++)){case 34:E+='"';break;case 92:E+="\\";break;case 47:E+="/";break;case 98:E+="\b";break;case 102:E+="\f";break;case 110:E+=`
`;break;case 114:E+="\r";break;case 116:E+="	";break;case 117:let x=d(4,!0);x>=0?E+=String.fromCharCode(x):p=4;break;default:p=5}B=n;continue}if(A>=0&&A<=31)if(Sh(A)){E+=r.substring(B,n),p=2;break}else p=6;n++}return E}function b(){if(i="",p=0,o=n,c=a,l=u,n>=t)return o=t,s=17;let E=r.charCodeAt(n);if(M0(E)){do n++,i+=String.fromCharCode(E),E=r.charCodeAt(n);while(M0(E));return s=15}if(Sh(E))return n++,i+=String.fromCharCode(E),E===13&&r.charCodeAt(n)===10&&(n++,i+=`
`),a++,u=n,s=14;switch(E){case 123:return n++,s=1;case 125:return n++,s=2;case 91:return n++,s=3;case 93:return n++,s=4;case 58:return n++,s=6;case 44:return n++,s=5;case 34:return n++,i=g(),s=10;case 47:let B=n-1;if(r.charCodeAt(n+1)===47){for(n+=2;n<t&&!Sh(r.charCodeAt(n));)n++;return i=r.substring(B,n),s=12}if(r.charCodeAt(n+1)===42){n+=2;let A=t-1,R=!1;for(;n<A;){let x=r.charCodeAt(n);if(x===42&&r.charCodeAt(n+1)===47){n+=2,R=!0;break}n++,Sh(x)&&(x===13&&r.charCodeAt(n)===10&&n++,a++,u=n)}return R||(n++,p=1),i=r.substring(B,n),s=13}return i+=String.fromCharCode(E),n++,s=16;case 45:if(i+=String.fromCharCode(E),n++,n===t||!Np(r.charCodeAt(n)))return s=16;case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:return i+=h(),s=11;default:for(;n<t&&I(E);)n++,E=r.charCodeAt(n);if(o!==n){switch(i=r.substring(o,n),i){case"true":return s=8;case"false":return s=9;case"null":return s=7}return s=16}return i+=String.fromCharCode(E),n++,s=16}}function I(E){if(M0(E)||Sh(E))return!1;switch(E){case 125:case 93:case 123:case 91:case 34:case 58:case 44:case 47:return!1}return!0}function L(){let E;do E=b();while(E>=12&&E<=15);return E}return{setPosition:f,getPosition:()=>n,scan:e?L:b,getToken:()=>s,getTokenValue:()=>i,getTokenOffset:()=>o,getTokenLength:()=>n-o,getTokenStartLine:()=>c,getTokenStartCharacter:()=>o-l,getTokenError:()=>p}}function M0(r){return r===32||r===9}function Sh(r){return r===10||r===13}function Np(r){return r>=48&&r<=57}var i$,jw=Vn(()=>{"use strict";(function(r){r[r.lineFeed=10]="lineFeed",r[r.carriageReturn=13]="carriageReturn",r[r.space=32]="space",r[r._0=48]="_0",r[r._1=49]="_1",r[r._2=50]="_2",r[r._3=51]="_3",r[r._4=52]="_4",r[r._5=53]="_5",r[r._6=54]="_6",r[r._7=55]="_7",r[r._8=56]="_8",r[r._9=57]="_9",r[r.a=97]="a",r[r.b=98]="b",r[r.c=99]="c",r[r.d=100]="d",r[r.e=101]="e",r[r.f=102]="f",r[r.g=103]="g",r[r.h=104]="h",r[r.i=105]="i",r[r.j=106]="j",r[r.k=107]="k",r[r.l=108]="l",r[r.m=109]="m",r[r.n=110]="n",r[r.o=111]="o",r[r.p=112]="p",r[r.q=113]="q",r[r.r=114]="r",r[r.s=115]="s",r[r.t=116]="t",r[r.u=117]="u",r[r.v=118]="v",r[r.w=119]="w",r[r.x=120]="x",r[r.y=121]="y",r[r.z=122]="z",r[r.A=65]="A",r[r.B=66]="B",r[r.C=67]="C",r[r.D=68]="D",r[r.E=69]="E",r[r.F=70]="F",r[r.G=71]="G",r[r.H=72]="H",r[r.I=73]="I",r[r.J=74]="J",r[r.K=75]="K",r[r.L=76]="L",r[r.M=77]="M",r[r.N=78]="N",r[r.O=79]="O",r[r.P=80]="P",r[r.Q=81]="Q",r[r.R=82]="R",r[r.S=83]="S",r[r.T=84]="T",r[r.U=85]="U",r[r.V=86]="V",r[r.W=87]="W",r[r.X=88]="X",r[r.Y=89]="Y",r[r.Z=90]="Z",r[r.asterisk=42]="asterisk",r[r.backslash=92]="backslash",r[r.closeBrace=125]="closeBrace",r[r.closeBracket=93]="closeBracket",r[r.colon=58]="colon",r[r.comma=44]="comma",r[r.dot=46]="dot",r[r.doubleQuote=34]="doubleQuote",r[r.minus=45]="minus",r[r.openBrace=123]="openBrace",r[r.openBracket=91]="openBracket",r[r.plus=43]="plus",r[r.slash=47]="slash",r[r.formFeed=12]="formFeed",r[r.tab=9]="tab"})(i$||(i$={}))});var un,Fp,L0,o$,s$=Vn(()=>{un=new Array(20).fill(0).map((r,e)=>" ".repeat(e)),Fp=200,L0={" ":{"\n":new Array(Fp).fill(0).map((r,e)=>`
`+" ".repeat(e)),"\r":new Array(Fp).fill(0).map((r,e)=>"\r"+" ".repeat(e)),"\r\n":new Array(Fp).fill(0).map((r,e)=>`\r
`+" ".repeat(e))},"	":{"\n":new Array(Fp).fill(0).map((r,e)=>`
`+"	".repeat(e)),"\r":new Array(Fp).fill(0).map((r,e)=>"\r"+"	".repeat(e)),"\r\n":new Array(Fp).fill(0).map((r,e)=>`\r
`+"	".repeat(e))}},o$=[`
`,"\r",`\r
`]});function Uw(r,e,t){let n,i,o,s,a;if(e){for(s=e.offset,a=s+e.length,o=s;o>0&&!_h(r,o-1);)o--;let A=a;for(;A<r.length&&!_h(r,A);)A++;i=r.substring(o,A),n=eoe(i,t)}else i=r,n=0,o=0,s=0,a=r.length;let c=toe(t,r),u=o$.includes(c),l=0,p=0,d;t.insertSpaces?d=un[t.tabSize||4]??Bp(un[1],t.tabSize||4):d="	";let f=d==="	"?"	":" ",h=Oc(i,!1),g=!1;function b(){if(l>1)return Bp(c,l)+Bp(d,n+p);let A=d.length*(n+p);return!u||A>L0[f][c].length?c+Bp(d,n+p):A<=0?c:L0[f][c][A]}function I(){let A=h.scan();for(l=0;A===15||A===14;)A===14&&t.keepLines?l+=1:A===14&&(l=1),A=h.scan();return g=A===16||h.getTokenError()!==0,A}let L=[];function E(A,R,x){!g&&(!e||R<a&&x>s)&&r.substring(R,x)!==A&&L.push({offset:R,length:x-R,content:A})}let B=I();if(t.keepLines&&l>0&&E(Bp(c,l),0,0),B!==17){let A=h.getTokenOffset()+o,R=d.length*n<20&&t.insertSpaces?un[d.length*n]:Bp(d,n);E(R,o,A)}for(;B!==17;){let A=h.getTokenOffset()+h.getTokenLength()+o,R=I(),x="",V=!1;for(;l===0&&(R===12||R===13);){let Ie=h.getTokenOffset()+o;E(un[1],A,Ie),A=h.getTokenOffset()+h.getTokenLength()+o,V=R===12,x=V?b():"",R=I()}if(R===2)B!==1&&p--,t.keepLines&&l>0||!t.keepLines&&B!==1?x=b():t.keepLines&&(x=un[1]);else if(R===4)B!==3&&p--,t.keepLines&&l>0||!t.keepLines&&B!==3?x=b():t.keepLines&&(x=un[1]);else{switch(B){case 3:case 1:p++,t.keepLines&&l>0||!t.keepLines?x=b():x=un[1];break;case 5:t.keepLines&&l>0||!t.keepLines?x=b():x=un[1];break;case 12:x=b();break;case 13:l>0?x=b():V||(x=un[1]);break;case 6:t.keepLines&&l>0?x=b():V||(x=un[1]);break;case 10:t.keepLines&&l>0?x=b():R===6&&!V&&(x="");break;case 7:case 8:case 9:case 11:case 2:case 4:t.keepLines&&l>0?x=b():(R===12||R===13)&&!V?x=un[1]:R!==5&&R!==17&&(g=!0);break;case 16:g=!0;break}l>0&&(R===12||R===13)&&(x=b())}R===17&&(t.keepLines&&l>0?x=b():x=t.insertFinalNewline?c:"");let ne=h.getTokenOffset()+o;E(x,A,ne),B=R}return L}function Bp(r,e){let t="";for(let n=0;n<e;n++)t+=r;return t}function eoe(r,e){let t=0,n=0,i=e.tabSize||4;for(;t<r.length;){let o=r.charAt(t);if(o===un[1])n++;else if(o==="	")n+=i;else break;t++}return Math.floor(n/i)}function toe(r,e){for(let t=0;t<e.length;t++){let n=e.charAt(t);if(n==="\r")return t+1<e.length&&e.charAt(t+1)===`
`?`\r
`:"\r";if(n===`
`)return`
`}return r&&r.eol||`
`}function _h(r,e){return`\r
`.indexOf(r.charAt(e))!==-1}var N0=Vn(()=>{"use strict";jw();s$()});function a$(r,e){let t=[],n=new Object,i,o={value:{},offset:0,length:0,type:"object",parent:void 0},s=!1;function a(c,u,l,p){o.value=c,o.offset=u,o.length=l,o.type=p,o.colonOffset=void 0,i=o}try{Th(r,{onObjectBegin:(c,u)=>{if(e<=c)throw n;i=void 0,s=e>c,t.push("")},onObjectProperty:(c,u,l)=>{if(e<u||(a(c,u,l,"property"),t[t.length-1]=c,e<=u+l))throw n},onObjectEnd:(c,u)=>{if(e<=c)throw n;i=void 0,t.pop()},onArrayBegin:(c,u)=>{if(e<=c)throw n;i=void 0,t.push(0)},onArrayEnd:(c,u)=>{if(e<=c)throw n;i=void 0,t.pop()},onLiteralValue:(c,u,l)=>{if(e<u||(a(c,u,l,l$(c)),e<=u+l))throw n},onSeparator:(c,u,l)=>{if(e<=u)throw n;if(c===":"&&i&&i.type==="property")i.colonOffset=u,s=!1,i=void 0;else if(c===","){let p=t[t.length-1];typeof p=="number"?t[t.length-1]=p+1:(s=!0,t[t.length-1]=""),i=void 0}}})}catch(c){if(c!==n)throw c}return{path:t,previousNode:i,isAtPropertyKey:s,matches:c=>{let u=0;for(let l=0;u<c.length&&l<t.length;l++)if(c[u]===t[l]||c[u]==="*")u++;else if(c[u]!=="**")return!1;return u===c.length}}}function c$(r,e=[],t=Ih.DEFAULT){let n=null,i=[],o=[];function s(c){Array.isArray(i)?i.push(c):n!==null&&(i[n]=c)}return Th(r,{onObjectBegin:()=>{let c={};s(c),o.push(i),i=c,n=null},onObjectProperty:c=>{n=c},onObjectEnd:()=>{i=o.pop()},onArrayBegin:()=>{let c=[];s(c),o.push(i),i=c,n=null},onArrayEnd:()=>{i=o.pop()},onLiteralValue:s,onError:(c,u,l)=>{e.push({error:c,offset:u,length:l})}},t),i[0]}function Ww(r,e=[],t=Ih.DEFAULT){let n={type:"array",offset:-1,length:-1,children:[],parent:void 0};function i(c){n.type==="property"&&(n.length=c-n.offset,n=n.parent)}function o(c){return n.children.push(c),c}Th(r,{onObjectBegin:c=>{n=o({type:"object",offset:c,length:-1,parent:n,children:[]})},onObjectProperty:(c,u,l)=>{n=o({type:"property",offset:u,length:-1,parent:n,children:[]}),n.children.push({type:"string",value:c,offset:u,length:l,parent:n})},onObjectEnd:(c,u)=>{i(c+u),n.length=c+u-n.offset,n=n.parent,i(c+u)},onArrayBegin:(c,u)=>{n=o({type:"array",offset:c,length:-1,parent:n,children:[]})},onArrayEnd:(c,u)=>{n.length=c+u-n.offset,n=n.parent,i(c+u)},onLiteralValue:(c,u,l)=>{o({type:l$(c),offset:u,length:l,parent:n,value:c}),i(u+l)},onSeparator:(c,u,l)=>{n.type==="property"&&(c===":"?n.colonOffset=u:c===","&&i(u))},onError:(c,u,l)=>{e.push({error:c,offset:u,length:l})}},t);let a=n.children[0];return a&&delete a.parent,a}function xh(r,e){if(!r)return;let t=r;for(let n of e)if(typeof n=="string"){if(t.type!=="object"||!Array.isArray(t.children))return;let i=!1;for(let o of t.children)if(Array.isArray(o.children)&&o.children[0].value===n&&o.children.length===2){t=o.children[1],i=!0;break}if(!i)return}else{let i=n;if(t.type!=="array"||i<0||!Array.isArray(t.children)||i>=t.children.length)return;t=t.children[i]}return t}function F0(r){if(!r.parent||!r.parent.children)return[];let e=F0(r.parent);if(r.parent.type==="property"){let t=r.parent.children[0].value;e.push(t)}else if(r.parent.type==="array"){let t=r.parent.children.indexOf(r);t!==-1&&e.push(t)}return e}function qw(r){switch(r.type){case"array":return r.children.map(qw);case"object":let e=Object.create(null);for(let t of r.children){let n=t.children[1];n&&(e[t.children[0].value]=qw(n))}return e;case"null":case"string":case"number":case"boolean":return r.value;default:return}}function noe(r,e,t=!1){return e>=r.offset&&e<r.offset+r.length||t&&e===r.offset+r.length}function B0(r,e,t=!1){if(noe(r,e,t)){let n=r.children;if(Array.isArray(n))for(let i=0;i<n.length&&n[i].offset<=e;i++){let o=B0(n[i],e,t);if(o)return o}return r}}function Th(r,e,t=Ih.DEFAULT){let n=Oc(r,!1),i=[],o=0;function s(oe){return oe?()=>o===0&&oe(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function a(oe){return oe?T=>o===0&&oe(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter()):()=>!0}function c(oe){return oe?T=>o===0&&oe(T,n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice()):()=>!0}function u(oe){return oe?()=>{o>0?o++:oe(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter(),()=>i.slice())===!1&&(o=1)}:()=>!0}function l(oe){return oe?()=>{o>0&&o--,o===0&&oe(n.getTokenOffset(),n.getTokenLength(),n.getTokenStartLine(),n.getTokenStartCharacter())}:()=>!0}let p=u(e.onObjectBegin),d=c(e.onObjectProperty),f=l(e.onObjectEnd),h=u(e.onArrayBegin),g=l(e.onArrayEnd),b=c(e.onLiteralValue),I=a(e.onSeparator),L=s(e.onComment),E=a(e.onError),B=t&&t.disallowComments,A=t&&t.allowTrailingComma;function R(){for(;;){let oe=n.scan();switch(n.getTokenError()){case 4:x(14);break;case 5:x(15);break;case 3:x(13);break;case 1:B||x(11);break;case 2:x(12);break;case 6:x(16);break}switch(oe){case 12:case 13:B?x(10):L();break;case 16:x(1);break;case 15:case 14:break;default:return oe}}}function x(oe,T=[],k=[]){if(E(oe),T.length+k.length>0){let De=n.getToken();for(;De!==17;){if(T.indexOf(De)!==-1){R();break}else if(k.indexOf(De)!==-1)break;De=R()}}}function V(oe){let T=n.getTokenValue();return oe?b(T):(d(T),i.push(T)),R(),!0}function ne(){switch(n.getToken()){case 11:let oe=n.getTokenValue(),T=Number(oe);isNaN(T)&&(x(2),T=0),b(T);break;case 7:b(null);break;case 8:b(!0);break;case 9:b(!1);break;default:return!1}return R(),!0}function Ie(){return n.getToken()!==10?(x(3,[],[2,5]),!1):(V(!1),n.getToken()===6?(I(":"),R(),we()||x(4,[],[2,5])):x(5,[],[2,5]),i.pop(),!0)}function O(){p(),R();let oe=!1;for(;n.getToken()!==2&&n.getToken()!==17;){if(n.getToken()===5){if(oe||x(4,[],[]),I(","),R(),n.getToken()===2&&A)break}else oe&&x(6,[],[]);Ie()||x(4,[],[2,5]),oe=!0}return f(),n.getToken()!==2?x(7,[2],[]):R(),!0}function Pe(){h(),R();let oe=!0,T=!1;for(;n.getToken()!==4&&n.getToken()!==17;){if(n.getToken()===5){if(T||x(4,[],[]),I(","),R(),n.getToken()===4&&A)break}else T&&x(6,[],[]);oe?(i.push(0),oe=!1):i[i.length-1]++,we()||x(4,[],[4,5]),T=!0}return g(),oe||i.pop(),n.getToken()!==4?x(8,[4],[]):R(),!0}function we(){switch(n.getToken()){case 3:return Pe();case 1:return O();case 10:return V(!0);default:return ne()}}return R(),n.getToken()===17?t.allowEmptyContent?!0:(x(4,[],[]),!1):we()?(n.getToken()!==17&&x(9,[],[]),!0):(x(4,[],[]),!1)}function u$(r,e){let t=Oc(r),n=[],i,o=0,s;do switch(s=t.getPosition(),i=t.scan(),i){case 12:case 13:case 17:o!==s&&n.push(r.substring(o,s)),e!==void 0&&n.push(t.getTokenValue().replace(/[^\r\n]/g,e)),o=t.getPosition();break}while(i!==17);return n.join("")}function l$(r){switch(typeof r){case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"object":{if(r){if(Array.isArray(r))return"array"}else return"null";return"object"}default:return"null"}}var Ih,j0=Vn(()=>{"use strict";jw();(function(r){r.DEFAULT={allowTrailingComma:!1}})(Ih||(Ih={}))});function p$(r,e,t,n){let i=e.slice(),s=Ww(r,[]),a,c;for(;i.length>0&&(c=i.pop(),a=xh(s,i),a===void 0&&t!==void 0);)typeof c=="string"?t={[c]:t}:t=[t];if(a)if(a.type==="object"&&typeof c=="string"&&Array.isArray(a.children)){let u=xh(a,[c]);if(u!==void 0)if(t===void 0){if(!u.parent)throw new Error("Malformed AST");let l=a.children.indexOf(u.parent),p,d=u.parent.offset+u.parent.length;if(l>0){let f=a.children[l-1];p=f.offset+f.length}else p=a.offset+1,a.children.length>1&&(d=a.children[1].offset);return Mc(r,{offset:p,length:d-p,content:""},n)}else return Mc(r,{offset:u.offset,length:u.length,content:JSON.stringify(t)},n);else{if(t===void 0)return[];let l=`${JSON.stringify(c)}: ${JSON.stringify(t)}`,p=n.getInsertionIndex?n.getInsertionIndex(a.children.map(f=>f.children[0].value)):a.children.length,d;if(p>0){let f=a.children[p-1];d={offset:f.offset+f.length,length:0,content:","+l}}else a.children.length===0?d={offset:a.offset+1,length:0,content:l}:d={offset:a.offset+1,length:0,content:l+","};return Mc(r,d,n)}}else if(a.type==="array"&&typeof c=="number"&&Array.isArray(a.children)){let u=c;if(u===-1){let l=`${JSON.stringify(t)}`,p;if(a.children.length===0)p={offset:a.offset+1,length:0,content:l};else{let d=a.children[a.children.length-1];p={offset:d.offset+d.length,length:0,content:","+l}}return Mc(r,p,n)}else if(t===void 0&&a.children.length>=0){let l=c,p=a.children[l],d;if(a.children.length===1)d={offset:a.offset+1,length:a.length-2,content:""};else if(a.children.length-1===l){let f=a.children[l-1],h=f.offset+f.length,g=a.offset+a.length;d={offset:h,length:g-2-h,content:""}}else d={offset:p.offset,length:a.children[l+1].offset-p.offset,content:""};return Mc(r,d,n)}else if(t!==void 0){let l,p=`${JSON.stringify(t)}`;if(!n.isArrayInsertion&&a.children.length>c){let d=a.children[c];l={offset:d.offset,length:d.length,content:p}}else if(a.children.length===0||c===0)l={offset:a.offset+1,length:0,content:a.children.length===0?p:p+","};else{let d=c>a.children.length?a.children.length:c,f=a.children[d-1];l={offset:f.offset+f.length,length:0,content:","+p}}return Mc(r,l,n)}else throw new Error(`Can not ${t===void 0?"remove":n.isArrayInsertion?"insert":"modify"} Array index ${u} as length is not sufficient`)}else throw new Error(`Can not add ${typeof c!="number"?"index":"property"} to parent of type ${a.type}`);else{if(t===void 0)throw new Error("Can not delete in empty document");return Mc(r,{offset:s?s.offset:0,length:s?s.length:0,content:JSON.stringify(t)},n)}}function Mc(r,e,t){if(!t.formattingOptions)return[e];let n=Vw(r,e),i=e.offset,o=e.offset+e.content.length;if(e.length===0||e.content.length===0){for(;i>0&&!_h(n,i-1);)i--;for(;o<n.length&&!_h(n,o);)o++}let s=Uw(n,{offset:i,length:o-i},{...t.formattingOptions,keepLines:!1});for(let c=s.length-1;c>=0;c--){let u=s[c];n=Vw(n,u),i=Math.min(i,u.offset),o=Math.max(o,u.offset+u.length),o+=u.content.length-u.length}let a=r.length-(n.length-o)-i;return[{offset:i,length:a,content:n.substring(i,o)}]}function Vw(r,e){return r.substring(0,e.offset)+e.content+r.substring(e.offset+e.length)}var d$=Vn(()=>{"use strict";N0();j0()});var V0={};ZS(V0,{ParseErrorCode:()=>W0,ScanError:()=>U0,SyntaxKind:()=>q0,applyEdits:()=>voe,createScanner:()=>soe,findNodeAtLocation:()=>loe,findNodeAtOffset:()=>poe,format:()=>yoe,getLocation:()=>aoe,getNodePath:()=>doe,getNodeValue:()=>foe,modify:()=>boe,parse:()=>coe,parseTree:()=>uoe,printParseErrorCode:()=>goe,stripComments:()=>moe,visit:()=>hoe});function goe(r){switch(r){case 1:return"InvalidSymbol";case 2:return"InvalidNumberFormat";case 3:return"PropertyNameExpected";case 4:return"ValueExpected";case 5:return"ColonExpected";case 6:return"CommaExpected";case 7:return"CloseBraceExpected";case 8:return"CloseBracketExpected";case 9:return"EndOfFileExpected";case 10:return"InvalidCommentToken";case 11:return"UnexpectedEndOfComment";case 12:return"UnexpectedEndOfString";case 13:return"UnexpectedEndOfNumber";case 14:return"InvalidUnicode";case 15:return"InvalidEscapeCharacter";case 16:return"InvalidCharacter"}return"<unknown ParseErrorCode>"}function yoe(r,e,t){return Uw(r,e,t)}function boe(r,e,t,n){return p$(r,e,t,n)}function voe(r,e){let t=e.slice(0).sort((i,o)=>{let s=i.offset-o.offset;return s===0?i.length-o.length:s}),n=r.length;for(let i=t.length-1;i>=0;i--){let o=t[i];if(o.offset+o.length<=n)r=Vw(r,o);else throw new Error("Overlapping edit");n=o.offset}return r}var soe,U0,q0,aoe,coe,uoe,loe,poe,doe,foe,hoe,moe,W0,$0=Vn(()=>{"use strict";N0();d$();jw();j0();soe=Oc;(function(r){r[r.None=0]="None",r[r.UnexpectedEndOfComment=1]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=2]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=3]="UnexpectedEndOfNumber",r[r.InvalidUnicode=4]="InvalidUnicode",r[r.InvalidEscapeCharacter=5]="InvalidEscapeCharacter",r[r.InvalidCharacter=6]="InvalidCharacter"})(U0||(U0={}));(function(r){r[r.OpenBraceToken=1]="OpenBraceToken",r[r.CloseBraceToken=2]="CloseBraceToken",r[r.OpenBracketToken=3]="OpenBracketToken",r[r.CloseBracketToken=4]="CloseBracketToken",r[r.CommaToken=5]="CommaToken",r[r.ColonToken=6]="ColonToken",r[r.NullKeyword=7]="NullKeyword",r[r.TrueKeyword=8]="TrueKeyword",r[r.FalseKeyword=9]="FalseKeyword",r[r.StringLiteral=10]="StringLiteral",r[r.NumericLiteral=11]="NumericLiteral",r[r.LineCommentTrivia=12]="LineCommentTrivia",r[r.BlockCommentTrivia=13]="BlockCommentTrivia",r[r.LineBreakTrivia=14]="LineBreakTrivia",r[r.Trivia=15]="Trivia",r[r.Unknown=16]="Unknown",r[r.EOF=17]="EOF"})(q0||(q0={}));aoe=a$,coe=c$,uoe=Ww,loe=xh,poe=B0,doe=F0,foe=qw,hoe=Th,moe=u$;(function(r){r[r.InvalidSymbol=1]="InvalidSymbol",r[r.InvalidNumberFormat=2]="InvalidNumberFormat",r[r.PropertyNameExpected=3]="PropertyNameExpected",r[r.ValueExpected=4]="ValueExpected",r[r.ColonExpected=5]="ColonExpected",r[r.CommaExpected=6]="CommaExpected",r[r.CloseBraceExpected=7]="CloseBraceExpected",r[r.CloseBracketExpected=8]="CloseBracketExpected",r[r.EndOfFileExpected=9]="EndOfFileExpected",r[r.InvalidCommentToken=10]="InvalidCommentToken",r[r.UnexpectedEndOfComment=11]="UnexpectedEndOfComment",r[r.UnexpectedEndOfString=12]="UnexpectedEndOfString",r[r.UnexpectedEndOfNumber=13]="UnexpectedEndOfNumber",r[r.InvalidUnicode=14]="InvalidUnicode",r[r.InvalidEscapeCharacter=15]="InvalidEscapeCharacter",r[r.InvalidCharacter=16]="InvalidCharacter"})(W0||(W0={}))});var W$=v($t=>{"use strict";Object.defineProperty($t,"__esModule",{value:!0});var Poe="aaa1rp3bb0ott3vie4c1le2ogado5udhabi7c0ademy5centure6ountant0s9o1tor4d0s1ult4e0g1ro2tna4f0l1rica5g0akhan5ency5i0g1rbus3force5tel5kdn3l0ibaba4pay4lfinanz6state5y2sace3tom5m0azon4ericanexpress7family11x2fam3ica3sterdam8nalytics7droid5quan4z2o0l2partments8p0le4q0uarelle8r0ab1mco4chi3my2pa2t0e3s0da2ia2sociates9t0hleta5torney7u0ction5di0ble3o3spost5thor3o0s4vianca6w0s2x0a2z0ure5ba0by2idu3namex3narepublic11d1k2r0celona5laycard4s5efoot5gains6seball5ketball8uhaus5yern5b0c1t1va3cg1n2d1e0ats2uty4er2ntley5rlin4st0buy5t2f1g1h0arti5i0ble3d1ke2ng0o3o1z2j1lack0friday9ockbuster8g1omberg7ue3m0s1w2n0pparibas9o0ats3ehringer8fa2m1nd2o0k0ing5sch2tik2on4t1utique6x2r0adesco6idgestone9oadway5ker3ther5ussels7s1t1uild0ers6siness6y1zz3v1w1y1z0h3ca0b1fe2l0l1vinklein9m0era3p2non3petown5ital0one8r0avan4ds2e0er0s4s2sa1e1h1ino4t0ering5holic7ba1n1re3c1d1enter4o1rn3f0a1d2g1h0anel2nel4rity4se2t2eap3intai5ristmas6ome4urch5i0priani6rcle4sco3tadel4i0c2y3k1l0aims4eaning6ick2nic1que6othing5ud3ub0med6m1n1o0ach3des3ffee4llege4ogne5m0cast4mbank4unity6pany2re3uter5sec4ndos3struction8ulting7tact3ractors9oking4l1p2rsica5untry4pon0s4rses6pa2r0edit0card4union9icket5own3s1uise0s6u0isinella9v1w1x1y0mru3ou3z2dabur3d1nce3ta1e1ing3sun4y2clk3ds2e0al0er2s3gree4livery5l1oitte5ta3mocrat6ntal2ist5si0gn4v2hl2iamonds6et2gital5rect0ory7scount3ver5h2y2j1k1m1np2o0cs1tor4g1mains5t1wnload7rive4tv2ubai3nlop4pont4rban5vag2r2z2earth3t2c0o2deka3u0cation8e1g1mail3erck5nergy4gineer0ing9terprises10pson4quipment8r0icsson6ni3s0q1tate5t1u0rovision8s2vents5xchange6pert3osed4ress5traspace10fage2il1rwinds6th3mily4n0s2rm0ers5shion4t3edex3edback6rrari3ero6i0delity5o2lm2nal1nce1ial7re0stone6mdale6sh0ing5t0ness6j1k1lickr3ghts4r2orist4wers5y2m1o0o0d1tball6rd1ex2sale4um3undation8x2r0ee1senius7l1ogans4ntier7tr2ujitsu5n0d2rniture7tbol5yi3ga0l0lery3o1up4me0s3p1rden4y2b0iz3d0n2e0a1nt0ing5orge5f1g0ee3h1i0ft0s3ves2ing5l0ass3e1obal2o4m0ail3bh2o1x2n1odaddy5ld0point6f2o0dyear5g0le4p1t1v2p1q1r0ainger5phics5tis4een3ipe3ocery4up4s1t1u0ardian6cci3ge2ide2tars5ru3w1y2hair2mburg5ngout5us3bo2dfc0bank7ealth0care8lp1sinki6re1mes5iphop4samitsu7tachi5v2k0t2m1n1ockey4ldings5iday5medepot5goods5s0ense7nda3rse3spital5t0ing5t0els3mail5use3w2r1sbc3t1u0ghes5yatt3undai7ibm2cbc2e1u2d1e0ee3fm2kano4l1m0amat4db2mo0bilien9n0c1dustries8finiti5o2g1k1stitute6urance4e4t0ernational10uit4vestments10o1piranga7q1r0ish4s0maili5t0anbul7t0au2v3jaguar4va3cb2e0ep2tzt3welry6io2ll2m0p2nj2o0bs1urg4t1y2p0morgan6rs3uegos4niper7kaufen5ddi3e0rryhotels6logistics9properties14fh2g1h1i0a1ds2m1ndle4tchen5wi3m1n1oeln3matsu5sher5p0mg2n2r0d1ed3uokgroup8w1y0oto4z2la0caixa5mborghini8er3ncaster6d0rover6xess5salle5t0ino3robe5w0yer5b1c1ds2ease3clerc5frak4gal2o2xus4gbt3i0dl2fe0insurance9style7ghting6ke2lly3mited4o2ncoln4k2psy3ve1ing5k1lc1p2oan0s3cker3us3l1ndon4tte1o3ve3pl0financial11r1s1t0d0a3u0ndbeck6xe1ury5v1y2ma0drid4if1son4keup4n0agement7go3p1rket0ing3s4riott5shalls7ttel5ba2c0kinsey7d1e0d0ia3et2lbourne7me1orial6n0u2rckmsd7g1h1iami3crosoft7l1ni1t2t0subishi9k1l0b1s2m0a2n1o0bi0le4da2e1i1m1nash3ey2ster5rmon3tgage6scow4to0rcycles9v0ie4p1q1r1s0d2t0n1r2u0seum3ic4v1w1x1y1z2na0b1goya4me2tura4vy3ba2c1e0c1t0bank4flix4work5ustar5w0s2xt0direct7us4f0l2g0o2hk2i0co2ke1on3nja3ssan1y5l1o0kia3rton4w0ruz3tv4p1r0a1w2tt2u1yc2z2obi1server7ffice5kinawa6layan0group9dnavy5lo3m0ega4ne1g1l0ine5oo2pen3racle3nge4g0anic5igins6saka4tsuka4t2vh3pa0ge2nasonic7ris2s1tners4s1y3y2ccw3e0t2f0izer5g1h0armacy6d1ilips5one2to0graphy6s4ysio5ics1tet2ures6d1n0g1k2oneer5zza4k1l0ace2y0station9umbing5s3m1n0c2ohl2ker3litie5rn2st3r0america6xi3ess3ime3o0d0uctions8f1gressive8mo2perties3y5tection8u0dential9s1t1ub2w0c2y2qa1pon3uebec3st5racing4dio4e0ad1lestate6tor2y4cipes5d0stone5umbrella9hab3ise0n3t2liance6n0t0als5pair3ort3ublican8st0aurant8view0s5xroth6ich0ardli6oh3l1o1p2o0cks3deo3gers4om3s0vp3u0gby3hr2n2w0e2yukyu6sa0arland6fe0ty4kura4le1on3msclub4ung5ndvik0coromant12ofi4p1rl2s1ve2xo3b0i1s2c0a1b1haeffler7midt4olarships8ol3ule3warz5ience5ot3d1e0arch3t2cure1ity6ek2lect4ner3rvices6ven3w1x0y3fr2g1h0angrila6rp2w2ell3ia1ksha5oes2p0ping5uji3w3i0lk2na1gles5te3j1k0i0n2y0pe4l0ing4m0art3ile4n0cf3o0ccer3ial4ftbank4ware6hu2lar2utions7ng1y2y2pa0ce3ort2t3r0l2s1t0ada2ples4r1tebank4farm7c0group6ockholm6rage3e3ream4udio2y3yle4u0cks3pplies3y2ort5rf1gery5zuki5v1watch4iss4x1y0dney4stems6z2tab1ipei4lk2obao4rget4tamotors6r2too4x0i3c0i2d0k2eam2ch0nology8l1masek5nnis4va3f1g1h0d1eater2re6iaa2ckets5enda4ps2res2ol4j0maxx4x2k0maxx5l1m0all4n1o0day3kyo3ols3p1ray3shiba5tal3urs3wn2yota3s3r0ade1ing4ining5vel0ers0insurance16ust3v2t1ube2i1nes3shu4v0s2w1z2ua1bank3s2g1k1nicom3versity8o2ol2ps2s1y1z2va0cations7na1guard7c1e0gas3ntures6risign5m\xF6gensberater2ung14sicherung10t2g1i0ajes4deo3g1king4llas4n1p1rgin4sa1ion4va1o3laanderen9n1odka3lvo3te1ing3o2yage5u2wales2mart4ter4ng0gou5tch0es6eather0channel12bcam3er2site5d0ding5ibo2r3f1hoswho6ien2ki2lliamhill9n0dows4e1ners6me2olterskluwer11odside6rk0s2ld3w2s1tc1f3xbox3erox4finity6ihuan4n2xx2yz3yachts4hoo3maxun5ndex5e1odobashi7ga2kohama6u0tube6t1un3za0ppos4ra3ero3ip2m1one3uerich6w2",Eoe="\u03B5\u03BB1\u03C52\u0431\u04331\u0435\u043B3\u0434\u0435\u0442\u04384\u0435\u044E2\u043A\u0430\u0442\u043E\u043B\u0438\u043A6\u043E\u043C3\u043C\u043A\u04342\u043E\u043D1\u0441\u043A\u0432\u04306\u043E\u043D\u043B\u0430\u0439\u043D5\u0440\u04333\u0440\u0443\u04412\u04442\u0441\u0430\u0439\u04423\u0440\u04313\u0443\u043A\u04403\u049B\u0430\u04373\u0570\u0561\u05753\u05D9\u05E9\u05E8\u05D0\u05DC5\u05E7\u05D5\u05DD3\u0627\u0628\u0648\u0638\u0628\u064A5\u0631\u0627\u0645\u0643\u06485\u0644\u0627\u0631\u062F\u06464\u0628\u062D\u0631\u064A\u06465\u062C\u0632\u0627\u0626\u06315\u0633\u0639\u0648\u062F\u064A\u06296\u0639\u0644\u064A\u0627\u06465\u0645\u063A\u0631\u06285\u0645\u0627\u0631\u0627\u062A5\u06CC\u0631\u0627\u06465\u0628\u0627\u0631\u062A2\u0632\u0627\u06314\u064A\u062A\u06433\u06BE\u0627\u0631\u062A5\u062A\u0648\u0646\u06334\u0633\u0648\u062F\u0627\u06463\u0631\u064A\u06295\u0634\u0628\u0643\u06294\u0639\u0631\u0627\u06422\u06282\u0645\u0627\u06464\u0641\u0644\u0633\u0637\u064A\u06466\u0642\u0637\u06313\u0643\u0627\u062B\u0648\u0644\u064A\u06436\u0648\u06453\u0645\u0635\u06312\u0644\u064A\u0633\u064A\u06275\u0648\u0631\u064A\u062A\u0627\u0646\u064A\u06277\u0642\u06394\u0647\u0645\u0631\u0627\u06475\u067E\u0627\u06A9\u0633\u062A\u0627\u06467\u0680\u0627\u0631\u062A4\u0915\u0949\u092E3\u0928\u0947\u091F3\u092D\u093E\u0930\u09240\u092E\u094D3\u094B\u09245\u0938\u0902\u0917\u0920\u09285\u09AC\u09BE\u0982\u09B2\u09BE5\u09AD\u09BE\u09B0\u09A42\u09F0\u09A44\u0A2D\u0A3E\u0A30\u0A244\u0AAD\u0ABE\u0AB0\u0AA44\u0B2D\u0B3E\u0B30\u0B244\u0B87\u0BA8\u0BCD\u0BA4\u0BBF\u0BAF\u0BBE6\u0BB2\u0B99\u0BCD\u0B95\u0BC86\u0B9A\u0BBF\u0B99\u0BCD\u0B95\u0BAA\u0BCD\u0BAA\u0BC2\u0BB0\u0BCD11\u0C2D\u0C3E\u0C30\u0C24\u0C4D5\u0CAD\u0CBE\u0CB0\u0CA44\u0D2D\u0D3E\u0D30\u0D24\u0D025\u0DBD\u0D82\u0D9A\u0DCF4\u0E04\u0E2D\u0E213\u0E44\u0E17\u0E223\u0EA5\u0EB2\u0EA73\u10D2\u10D42\u307F\u3093\u306A3\u30A2\u30DE\u30BE\u30F34\u30AF\u30E9\u30A6\u30C94\u30B0\u30FC\u30B0\u30EB4\u30B3\u30E02\u30B9\u30C8\u30A23\u30BB\u30FC\u30EB3\u30D5\u30A1\u30C3\u30B7\u30E7\u30F36\u30DD\u30A4\u30F3\u30C84\u4E16\u754C2\u4E2D\u4FE11\u56FD1\u570B1\u6587\u7F513\u4E9A\u9A6C\u900A3\u4F01\u4E1A2\u4F5B\u5C712\u4FE1\u606F2\u5065\u5EB72\u516B\u53662\u516C\u53F81\u76CA2\u53F0\u6E7E1\u70632\u5546\u57CE1\u5E971\u68072\u5609\u91CC0\u5927\u9152\u5E975\u5728\u7EBF2\u5927\u62FF2\u5929\u4E3B\u65593\u5A31\u4E502\u5BB6\u96FB2\u5E7F\u4E1C2\u5FAE\u535A2\u6148\u55842\u6211\u7231\u4F603\u624B\u673A2\u62DB\u80582\u653F\u52A11\u5E9C2\u65B0\u52A0\u57612\u95FB2\u65F6\u5C1A2\u66F8\u7C4D2\u673A\u67842\u6DE1\u9A6C\u95213\u6E38\u620F2\u6FB3\u95802\u70B9\u770B2\u79FB\u52A82\u7EC4\u7EC7\u673A\u67844\u7F51\u57401\u5E971\u7AD91\u7EDC2\u8054\u901A2\u8C37\u6B4C2\u8D2D\u72692\u901A\u8CA92\u96C6\u56E22\u96FB\u8A0A\u76C8\u79D14\u98DE\u5229\u6D663\u98DF\u54C12\u9910\u53852\u9999\u683C\u91CC\u62C93\u6E2F2\uB2F7\uB1371\uCEF42\uC0BC\uC1312\uD55C\uAD6D2",Bc=(r,e)=>{for(let t in e)r[t]=e[t];return r},rE="numeric",nE="ascii",iE="alpha",rS="asciinumeric",Zw="alphanumeric",oE="domain",L$="emoji",koe="scheme",Roe="slashscheme",R$="whitespace";function Aoe(r,e){return r in e||(e[r]=[]),e[r]}function Fc(r,e,t){e[rE]&&(e[rS]=!0,e[Zw]=!0),e[nE]&&(e[rS]=!0,e[iE]=!0),e[rS]&&(e[Zw]=!0),e[iE]&&(e[Zw]=!0),e[Zw]&&(e[oE]=!0),e[L$]&&(e[oE]=!0);for(let n in e){let i=Aoe(n,t);i.indexOf(r)<0&&i.push(r)}}function Doe(r,e){let t={};for(let n in e)e[n].indexOf(r)>=0&&(t[n]=!0);return t}function Sr(r){r===void 0&&(r=null),this.j={},this.jr=[],this.jd=null,this.t=r}Sr.groups={};Sr.prototype={accepts(){return!!this.t},go(r){let e=this,t=e.j[r];if(t)return t;for(let n=0;n<e.jr.length;n++){let i=e.jr[n][0],o=e.jr[n][1];if(o&&i.test(r))return o}return e.jd},has(r,e){return e===void 0&&(e=!1),e?r in this.j:!!this.go(r)},ta(r,e,t,n){for(let i=0;i<r.length;i++)this.tt(r[i],e,t,n)},tr(r,e,t,n){n=n||Sr.groups;let i;return e&&e.j?i=e:(i=new Sr(e),t&&n&&Fc(e,t,n)),this.jr.push([r,i]),i},ts(r,e,t,n){let i=this,o=r.length;if(!o)return i;for(let s=0;s<o-1;s++)i=i.tt(r[s]);return i.tt(r[o-1],e,t,n)},tt(r,e,t,n){n=n||Sr.groups;let i=this;if(e&&e.j)return i.j[r]=e,e;let o=e,s,a=i.go(r);if(a?(s=new Sr,Bc(s.j,a.j),s.jr.push.apply(s.jr,a.jr),s.jd=a.jd,s.t=a.t):s=new Sr,o){if(n)if(s.t&&typeof s.t=="string"){let c=Bc(Doe(s.t,n),t);Fc(o,c,n)}else t&&Fc(o,t,n);s.t=o}return i.j[r]=s,s}};var de=(r,e,t,n,i)=>r.ta(e,t,n,i),jn=(r,e,t,n,i)=>r.tr(e,t,n,i),A$=(r,e,t,n,i)=>r.ts(e,t,n,i),W=(r,e,t,n,i)=>r.tt(e,t,n,i),zo="WORD",sE="UWORD",Nh="LOCALHOST",aE="TLD",cE="UTLD",nS="SCHEME",Zp="SLASH_SCHEME",dE="NUM",N$="WS",fE="NL",Oh="OPENBRACE",Mh="CLOSEBRACE",aS="OPENBRACKET",cS="CLOSEBRACKET",uS="OPENPAREN",lS="CLOSEPAREN",pS="OPENANGLEBRACKET",dS="CLOSEANGLEBRACKET",fS="FULLWIDTHLEFTPAREN",hS="FULLWIDTHRIGHTPAREN",mS="LEFTCORNERBRACKET",gS="RIGHTCORNERBRACKET",yS="LEFTWHITECORNERBRACKET",bS="RIGHTWHITECORNERBRACKET",vS="FULLWIDTHLESSTHAN",wS="FULLWIDTHGREATERTHAN",SS="AMPERSAND",_S="APOSTROPHE",IS="ASTERISK",fa="AT",xS="BACKSLASH",TS="BACKTICK",CS="CARET",ha="COLON",hE="COMMA",PS="DOLLAR",so="DOT",ES="EQUALS",mE="EXCLAMATION",ao="HYPHEN",kS="PERCENT",RS="PIPE",AS="PLUS",DS="POUND",OS="QUERY",gE="QUOTE",yE="SEMI",co="SLASH",Lh="TILDE",MS="UNDERSCORE",F$="EMOJI",LS="SYM",B$=Object.freeze({__proto__:null,WORD:zo,UWORD:sE,LOCALHOST:Nh,TLD:aE,UTLD:cE,SCHEME:nS,SLASH_SCHEME:Zp,NUM:dE,WS:N$,NL:fE,OPENBRACE:Oh,CLOSEBRACE:Mh,OPENBRACKET:aS,CLOSEBRACKET:cS,OPENPAREN:uS,CLOSEPAREN:lS,OPENANGLEBRACKET:pS,CLOSEANGLEBRACKET:dS,FULLWIDTHLEFTPAREN:fS,FULLWIDTHRIGHTPAREN:hS,LEFTCORNERBRACKET:mS,RIGHTCORNERBRACKET:gS,LEFTWHITECORNERBRACKET:yS,RIGHTWHITECORNERBRACKET:bS,FULLWIDTHLESSTHAN:vS,FULLWIDTHGREATERTHAN:wS,AMPERSAND:SS,APOSTROPHE:_S,ASTERISK:IS,AT:fa,BACKSLASH:xS,BACKTICK:TS,CARET:CS,COLON:ha,COMMA:hE,DOLLAR:PS,DOT:so,EQUALS:ES,EXCLAMATION:mE,HYPHEN:ao,PERCENT:kS,PIPE:RS,PLUS:AS,POUND:DS,QUERY:OS,QUOTE:gE,SEMI:yE,SLASH:co,TILDE:Lh,UNDERSCORE:MS,EMOJI:F$,SYM:LS}),Nc=/[a-z]/,iS=new RegExp("\\p{L}","u"),oS=new RegExp("\\p{Emoji}","u"),Ooe=/\ufe0f/,sS=/\d/,uE=/\s/,Moe=Object.freeze({__proto__:null,ASCII_LETTER:Nc,LETTER:iS,EMOJI:oS,EMOJI_VARIATION:Ooe,DIGIT:sS,SPACE:uE}),D$=`
`,Loe="\uFE0F",Noe="\u200D",eS=null,tS=null;function Foe(r){r===void 0&&(r=[]);let e={};Sr.groups=e;let t=new Sr;eS==null&&(eS=O$(Poe)),tS==null&&(tS=O$(Eoe)),W(t,"'",_S),W(t,"{",Oh),W(t,"}",Mh),W(t,"[",aS),W(t,"]",cS),W(t,"(",uS),W(t,")",lS),W(t,"<",pS),W(t,">",dS),W(t,"\uFF08",fS),W(t,"\uFF09",hS),W(t,"\u300C",mS),W(t,"\u300D",gS),W(t,"\u300E",yS),W(t,"\u300F",bS),W(t,"\uFF1C",vS),W(t,"\uFF1E",wS),W(t,"&",SS),W(t,"*",IS),W(t,"@",fa),W(t,"`",TS),W(t,"^",CS),W(t,":",ha),W(t,",",hE),W(t,"$",PS),W(t,".",so),W(t,"=",ES),W(t,"!",mE),W(t,"-",ao),W(t,"%",kS),W(t,"|",RS),W(t,"+",AS),W(t,"#",DS),W(t,"?",OS),W(t,'"',gE),W(t,"/",co),W(t,";",yE),W(t,"~",Lh),W(t,"_",MS),W(t,"\\",xS);let n=jn(t,sS,dE,{[rE]:!0});jn(n,sS,n);let i=jn(t,Nc,zo,{[nE]:!0});jn(i,Nc,i);let o=jn(t,iS,sE,{[iE]:!0});jn(o,Nc),jn(o,iS,o);let s=jn(t,uE,N$,{[R$]:!0});W(t,D$,fE,{[R$]:!0}),W(s,D$),jn(s,uE,s);let a=jn(t,oS,F$,{[L$]:!0});jn(a,oS,a),W(a,Loe,a);let c=W(a,Noe);jn(c,oS,a);let u=[[Nc,i]],l=[[Nc,null],[iS,o]];for(let p=0;p<eS.length;p++)da(t,eS[p],aE,zo,u);for(let p=0;p<tS.length;p++)da(t,tS[p],cE,sE,l);Fc(aE,{tld:!0,ascii:!0},e),Fc(cE,{utld:!0,alpha:!0},e),da(t,"file",nS,zo,u),da(t,"mailto",nS,zo,u),da(t,"http",Zp,zo,u),da(t,"https",Zp,zo,u),da(t,"ftp",Zp,zo,u),da(t,"ftps",Zp,zo,u),Fc(nS,{scheme:!0,ascii:!0},e),Fc(Zp,{slashscheme:!0,ascii:!0},e),r=r.sort((p,d)=>p[0]>d[0]?1:-1);for(let p=0;p<r.length;p++){let d=r[p][0],h=r[p][1]?{[koe]:!0}:{[Roe]:!0};d.indexOf("-")>=0?h[oE]=!0:Nc.test(d)?sS.test(d)?h[rS]=!0:h[nE]=!0:h[rE]=!0,A$(t,d,d,h)}return A$(t,"localhost",Nh,{ascii:!0}),t.jd=new Sr(LS),{start:t,tokens:Bc({groups:e},B$)}}function Boe(r,e){let t=j$(e.replace(/[A-Z]/g,a=>a.toLowerCase())),n=t.length,i=[],o=0,s=0;for(;s<n;){let a=r,c=null,u=0,l=null,p=-1,d=-1;for(;s<n&&(c=a.go(t[s]));)a=c,a.accepts()?(p=0,d=0,l=a):p>=0&&(p+=t[s].length,d++),u+=t[s].length,o+=t[s].length,s++;o-=p,s-=d,u-=p,i.push({t:l.t,v:e.slice(o-u,o),s:o-u,e:o})}return i}function j$(r){let e=[],t=r.length,n=0;for(;n<t;){let i=r.charCodeAt(n),o,s=i<55296||i>56319||n+1===t||(o=r.charCodeAt(n+1))<56320||o>57343?r[n]:r.slice(n,n+2);e.push(s),n+=s.length}return e}function da(r,e,t,n,i){let o,s=e.length;for(let a=0;a<s-1;a++){let c=e[a];r.j[c]?o=r.j[c]:(o=new Sr(n),o.jr=i.slice(),r.j[c]=o),r=o}return o=new Sr(t),o.jr=i.slice(),r.j[e[s-1]]=o,o}function O$(r){let e=[],t=[],n=0,i="0123456789";for(;n<r.length;){let o=0;for(;i.indexOf(r[n+o])>=0;)o++;if(o>0){e.push(t.join(""));for(let s=parseInt(r.substring(n,n+o),10);s>0;s--)t.pop();n+=o}else t.push(r[n]),n++}return e}var ed={defaultProtocol:"http",events:null,format:M$,formatHref:M$,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:1/0,className:null,attributes:null,ignoreTags:[],render:null};function jh(r,e){e===void 0&&(e=null);let t=Bc({},ed);r&&(t=Bc(t,r instanceof jh?r.o:r));let n=t.ignoreTags,i=[];for(let o=0;o<n.length;o++)i.push(n[o].toUpperCase());this.o=t,e&&(this.defaultRender=e),this.ignoreTags=i}jh.prototype={o:ed,ignoreTags:[],defaultRender(r){return r},check(r){return this.get("validate",r.toString(),r)},get(r,e,t){let n=e!=null,i=this.o[r];return i&&(typeof i=="object"?(i=t.t in i?i[t.t]:ed[r],typeof i=="function"&&n&&(i=i(e,t))):typeof i=="function"&&n&&(i=i(e,t.t,t)),i)},getObj(r,e,t){let n=this.o[r];return typeof n=="function"&&e!=null&&(n=n(e,t.t,t)),n},render(r){let e=r.render(this);return(this.get("render",null,r)||this.defaultRender)(e,r.t,r)}};function M$(r){return r}var joe=Object.freeze({__proto__:null,defaults:ed,Options:jh,assign:Bc});function Fh(r,e){this.t="token",this.v=r,this.tk=e}Fh.prototype={isLink:!1,toString(){return this.v},toHref(r){return this.toString()},toFormattedString(r){let e=this.toString(),t=r.get("truncate",e,this),n=r.get("format",e,this);return t&&n.length>t?n.substring(0,t)+"\u2026":n},toFormattedHref(r){return r.get("formatHref",this.toHref(r.get("defaultProtocol")),this)},startIndex(){return this.tk[0].s},endIndex(){return this.tk[this.tk.length-1].e},toObject(r){return r===void 0&&(r=ed.defaultProtocol),{type:this.t,value:this.toString(),isLink:this.isLink,href:this.toHref(r),start:this.startIndex(),end:this.endIndex()}},toFormattedObject(r){return{type:this.t,value:this.toFormattedString(r),isLink:this.isLink,href:this.toFormattedHref(r),start:this.startIndex(),end:this.endIndex()}},validate(r){return r.get("validate",this.toString(),this)},render(r){let e=this,t=this.toHref(r.get("defaultProtocol")),n=r.get("formatHref",t,this),i=r.get("tagName",t,e),o=this.toFormattedString(r),s={},a=r.get("className",t,e),c=r.get("target",t,e),u=r.get("rel",t,e),l=r.getObj("attributes",t,e),p=r.getObj("events",t,e);return s.href=n,a&&(s.class=a),c&&(s.target=c),u&&(s.rel=u),l&&Bc(s,l),{tagName:i,attributes:s,content:o,eventListeners:p}}};function td(r,e){class t extends Fh{constructor(i,o){super(i,o),this.t=r}}for(let n in e)t.prototype[n]=e[n];return t.t=r,t}var lE=td("email",{isLink:!0,toHref(){return"mailto:"+this.toString()}}),pE=td("text"),U$=td("nl"),Dh=td("url",{isLink:!0,toHref(r){return r===void 0&&(r=ed.defaultProtocol),this.hasProtocol()?this.v:`${r}://${this.v}`},hasProtocol(){let r=this.tk;return r.length>=2&&r[0].t!==Nh&&r[1].t===ha}}),Uoe=Object.freeze({__proto__:null,MultiToken:Fh,Base:Fh,createTokenClass:td,Email:lE,Text:pE,Nl:U$,Url:Dh}),Un=r=>new Sr(r);function qoe(r){let{groups:e}=r,t=e.domain.concat([SS,IS,fa,xS,TS,CS,PS,ES,ao,dE,kS,RS,AS,DS,co,LS,Lh,MS]),n=[_S,ha,hE,so,mE,OS,gE,yE,pS,dS,Oh,Mh,cS,aS,uS,lS,fS,hS,mS,gS,yS,bS,vS,wS],i=[SS,_S,IS,xS,TS,CS,PS,ES,ao,Oh,Mh,kS,RS,AS,DS,OS,co,LS,Lh,MS],o=Un(),s=W(o,Lh);de(s,i,s),de(s,e.domain,s);let a=Un(),c=Un(),u=Un();de(o,e.domain,a),de(o,e.scheme,c),de(o,e.slashscheme,u),de(a,i,s),de(a,e.domain,a);let l=W(a,fa);W(s,fa,l),W(c,fa,l),W(u,fa,l);let p=W(s,so);de(p,i,s),de(p,e.domain,s);let d=Un();de(l,e.domain,d),de(d,e.domain,d);let f=W(d,so);de(f,e.domain,d);let h=Un(lE);de(f,e.tld,h),de(f,e.utld,h),W(l,Nh,h);let g=W(d,ao);de(g,e.domain,d),de(h,e.domain,d),W(h,so,f),W(h,ao,g);let b=W(h,ha);de(b,e.numeric,lE);let I=W(a,ao),L=W(a,so);de(I,e.domain,a),de(L,i,s),de(L,e.domain,a);let E=Un(Dh);de(L,e.tld,E),de(L,e.utld,E),de(E,e.domain,a),de(E,i,s),W(E,so,L),W(E,ao,I),W(E,fa,l);let B=W(E,ha),A=Un(Dh);de(B,e.numeric,A);let R=Un(Dh),x=Un();de(R,t,R),de(R,n,x),de(x,t,R),de(x,n,x),W(E,co,R),W(A,co,R);let V=W(c,ha),ne=W(u,ha),Ie=W(ne,co),O=W(Ie,co);de(c,e.domain,a),W(c,so,L),W(c,ao,I),de(u,e.domain,a),W(u,so,L),W(u,ao,I),de(V,e.domain,R),W(V,co,R),de(O,e.domain,R),de(O,t,R),W(O,co,R);let Pe=[[Oh,Mh],[aS,cS],[uS,lS],[pS,dS],[fS,hS],[mS,gS],[yS,bS],[vS,wS]];for(let we=0;we<Pe.length;we++){let[oe,T]=Pe[we],k=W(R,oe);W(x,oe,k),W(k,T,R);let De=Un(Dh);de(k,t,De);let le=Un();de(k,n),de(De,t,De),de(De,n,le),de(le,t,De),de(le,n,le),W(De,T,R),W(le,T,R)}return W(o,Nh,E),W(o,fE,U$),{start:o,tokens:B$}}function Woe(r,e,t){let n=t.length,i=0,o=[],s=[];for(;i<n;){let a=r,c=null,u=null,l=0,p=null,d=-1;for(;i<n&&!(c=a.go(t[i].t));)s.push(t[i++]);for(;i<n&&(u=c||a.go(t[i].t));)c=null,a=u,a.accepts()?(d=0,p=a):d>=0&&d++,i++,l++;if(d<0)i-=l,i<n&&(s.push(t[i]),i++);else{s.length>0&&(o.push(tE(pE,e,s)),s=[]),i-=d,l-=d;let f=p.t,h=t.slice(i-l,i);o.push(tE(f,e,h))}}return s.length>0&&o.push(tE(pE,e,s)),o}function tE(r,e,t){let n=t[0].s,i=t[t.length-1].e,o=e.slice(n,i);return new r(o,t)}var Bh=typeof console<"u"&&console&&console.warn||(()=>{}),bE="until manual call of linkify.init(). Register all schemes and plugins before invoking linkify the first time.",_e={scanner:null,parser:null,tokenQueue:[],pluginQueue:[],customSchemes:[],initialized:!1};function Voe(){Sr.groups={},_e.scanner=null,_e.parser=null,_e.tokenQueue=[],_e.pluginQueue=[],_e.customSchemes=[],_e.initialized=!1}function $oe(r,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid token plugin ${e} (expects function)`);for(let t=0;t<_e.tokenQueue.length;t++)if(r===_e.tokenQueue[t][0]){Bh(`linkifyjs: token plugin "${r}" already registered - will be overwritten`),_e.tokenQueue[t]=[r,e];return}_e.tokenQueue.push([r,e]),_e.initialized&&Bh(`linkifyjs: already initialized - will not register token plugin "${r}" ${bE}`)}function Hoe(r,e){if(typeof e!="function")throw new Error(`linkifyjs: Invalid plugin ${e} (expects function)`);for(let t=0;t<_e.pluginQueue.length;t++)if(r===_e.pluginQueue[t][0]){Bh(`linkifyjs: plugin "${r}" already registered - will be overwritten`),_e.pluginQueue[t]=[r,e];return}_e.pluginQueue.push([r,e]),_e.initialized&&Bh(`linkifyjs: already initialized - will not register plugin "${r}" ${bE}`)}function Goe(r,e){if(e===void 0&&(e=!1),_e.initialized&&Bh(`linkifyjs: already initialized - will not register custom scheme "${r}" ${bE}`),!/^[0-9a-z]+(-[0-9a-z]+)*$/.test(r))throw new Error(`linkifyjs: incorrect scheme format.
1. Must only contain digits, lowercase ASCII letters or "-"
2. Cannot start or end with "-"
3. "-" cannot repeat`);_e.customSchemes.push([r,e])}function q$(){_e.scanner=Foe(_e.customSchemes);for(let r=0;r<_e.tokenQueue.length;r++)_e.tokenQueue[r][1]({scanner:_e.scanner});_e.parser=qoe(_e.scanner.tokens);for(let r=0;r<_e.pluginQueue.length;r++)_e.pluginQueue[r][1]({scanner:_e.scanner,parser:_e.parser});_e.initialized=!0}function vE(r){return _e.initialized||q$(),Woe(_e.parser.start,r,Boe(_e.scanner.start,r))}function zoe(r,e,t){if(e===void 0&&(e=null),t===void 0&&(t=null),e&&typeof e=="object"){if(t)throw Error(`linkifyjs: Invalid link type ${e}; must be a string`);t=e,e=null}let n=new jh(t),i=vE(r),o=[];for(let s=0;s<i.length;s++){let a=i[s];a.isLink&&(!e||a.t===e)&&n.check(a)&&o.push(a.toFormattedObject(n))}return o}function Koe(r,e){e===void 0&&(e=null);let t=vE(r);return t.length===1&&t[0].isLink&&(!e||t[0].t===e)}$t.MultiToken=Fh;$t.Options=jh;$t.State=Sr;$t.createTokenClass=td;$t.find=zoe;$t.init=q$;$t.multi=Uoe;$t.options=joe;$t.regexp=Moe;$t.registerCustomProtocol=Goe;$t.registerPlugin=Hoe;$t.registerTokenPlugin=$oe;$t.reset=Voe;$t.stringToArray=j$;$t.test=Koe;$t.tokenize=vE});var lse={};ZS(lse,{activate:()=>cse,deactivate:()=>use});module.exports=e_(lse);var AH=y(ie()),DH=require("os"),Ct=y(require("vscode"));var ld=new Map([["pwa-node","node"],["pwa-chrome","chrome"],["pwa-extensionHost","extensionHost"],["pwa-msedge","msedge"]]),Xo=r=>ld.get(r)||r,i5={"pwa-extensionHost":null,"node-terminal":null,"pwa-node":null,"pwa-chrome":null,"pwa-msedge":null},o5={"extension.js-debug.addCustomBreakpoints":null,"extension.js-debug.addXHRBreakpoints":null,"extension.js-debug.editXHRBreakpoints":null,"extension.pwa-node-debug.attachNodeProcess":null,"extension.js-debug.clearAutoAttachVariables":null,"extension.js-debug.setAutoAttachVariables":null,"extension.js-debug.autoAttachToProcess":null,"extension.js-debug.createDebuggerTerminal":null,"extension.js-debug.createDiagnostics":null,"extension.js-debug.getDiagnosticLogs":null,"extension.js-debug.debugLink":null,"extension.js-debug.npmScript":null,"extension.js-debug.pickNodeProcess":null,"extension.js-debug.prettyPrint":null,"extension.js-debug.removeXHRBreakpoint":null,"extension.js-debug.removeAllCustomBreakpoints":null,"extension.js-debug.revealPage":null,"extension.js-debug.startProfile":null,"extension.js-debug.stopProfile":null,"extension.js-debug.toggleSkippingFile":null,"extension.node-debug.startWithStopOnEntry":null,"extension.js-debug.requestCDPProxy":null,"extension.js-debug.openEdgeDevTools":null,"extension.js-debug.callers.add":null,"extension.js-debug.callers.goToCaller":null,"extension.js-debug.callers.gotToTarget":null,"extension.js-debug.callers.remove":null,"extension.js-debug.callers.removeAll":null,"extension.js-debug.enableSourceMapStepping":null,"extension.js-debug.disableSourceMapStepping":null,"extension.js-debug.network.viewRequest":null,"extension.js-debug.network.copyUri":null,"extension.js-debug.network.openBody":null,"extension.js-debug.network.openBodyInHex":null,"extension.js-debug.network.replayXHR":null,"extension.js-debug.network.clear":null,"extension.js-debug.completion.nodeTool":null},fse=new Set(Object.keys(o5)),r_=new Set(Object.keys(i5)),Qo=r=>r_.has(r);var zh="jsDebugNetworkFs",ae=(r,e,t)=>r.registerCommand(e,t),Kh=async(r,e,...t)=>await r.executeCommand(e,...t);var Qe=(r,e,t)=>r.getConfiguration(void 0,t).get(e),n_=(r,e,t,n)=>r.getConfiguration().update(e,t,n);var Zo=async(r,e,t)=>await r.executeCommand("setContext",e,t);var HE=require("os");var $n="node:",Hn="<node_internals>";var Ze=r=>!!r,$c=r=>Jh(r,e=>e!==null),FE=r=>Jh(r,e=>e!==void 0),ba=r=>e=>e instanceof r,Hc=(r,e)=>{debugger;throw new Error(e.replace("{value}",JSON.stringify(r)))};function Jh(r,e){let t={};for(let n of Object.keys(r)){let i=r[n];e(i,n)&&(t[n]=i)}return t}function uo(r,e){let t={};for(let n of Object.keys(r)){let i=r[n];t[n]=e(i,n)}return t}function BE(r,e){let t={};for(let n of Object.keys(r))e(n,r[n])&&(t[n]=r[n]);return t}function jE(...r){if(r.length===0)return{};let e={},t=Object.create(null);for(let n of r)if(n)for(let i of Object.keys(n)){let o=i.toLowerCase();t[o]?e[t[o]]=n[i]:(t[o]=i,e[i]=n[i])}return e}function UE(r,e){if(r.hasOwnProperty(e))return r[e];let t=e.toLowerCase();for(let n of Object.keys(r))if(n.toLowerCase()===t)return r[n]}var i_=Symbol("unset");function re(r){let e=i_,t=(...n)=>(e===i_&&(t.value=e=r(...n)),e);return t.forget=()=>{e=i_,t.value=void 0},t.value=void 0,t}function lo(r){let e=new Map,t=n=>{if(e.has(n))return e.get(n);let i=r(n);return e.set(n,i),i};return t.clear=()=>e.clear(),t}function qE(r){let e,t=n=>(e?.arg===n||(e={arg:n,val:r(n)}),e.val);return t.clear=()=>e=void 0,t}function WE(r,e){let t,n=()=>{t!==void 0&&clearTimeout(t),t=setTimeout(()=>{t=void 0,e()},r)};return n.clear=()=>{t&&(clearTimeout(t),t=void 0)},n}function VE(r,e){let t,n=()=>{t===void 0&&(t=setTimeout(()=>{t=void 0,e()},r))};return n.queued=()=>!!t,n.clear=()=>{t&&(clearTimeout(t),t=void 0)},n}async function $E(r,e){let t=[],n=[];for(let i of r)await e(i)?t.push(i):n.push(i);return[t,n]}function po(r){let e=[];for(let t of r)e=e.concat(t);return e}var s5=2**31-1,Yh=()=>{let r=0;return()=>r++&s5};var ve=Symbol("AnyLaunchConfiguration"),Xh={type:"",name:"",request:"",trace:!1,outputCapture:"console",timeout:1e4,timeouts:{},showAsyncStacks:!0,skipFiles:[],smartStep:!0,sourceMaps:!0,sourceMapRenames:!0,pauseForSourceMap:!0,resolveSourceMapLocations:null,rootPath:"${workspaceFolder}",outFiles:["${workspaceFolder}/**/*.(m|c|)js","!**/node_modules/**"],sourceMapPathOverrides:c_("${workspaceFolder}"),enableContentValidation:!0,cascadeTerminateToConfigurations:[],enableDWARF:!0,__workspaceFolder:"",__remoteFilePrefix:void 0,__breakOnConditionalError:!1,customDescriptionGenerator:void 0,customPropertiesGenerator:void 0},pd={...Xh,cwd:"${workspaceFolder}",env:{},envFile:null,pauseForSourceMap:!1,sourceMaps:!0,localRoot:null,remoteRoot:null,resolveSourceMapLocations:["**","!**/node_modules/**"],autoAttachChildProcesses:!0,runtimeSourcemapPausePatterns:[],skipFiles:[`${Hn}/**`]},Qh={...pd,showAsyncStacks:{onceBreakpointResolved:16},type:"node-terminal",request:"launch",name:"JavaScript Debug Terminal"},a5={...pd,type:"node-terminal",request:"attach",name:Qh.name,showAsyncStacks:{onceBreakpointResolved:16},delegateId:-1},dd={...pd,type:"pwa-extensionHost",name:"Debug Extension",request:"launch",args:["--extensionDevelopmentPath=${workspaceFolder}"],outFiles:["${workspaceFolder}/out/**/*.js"],resolveSourceMapLocations:["${workspaceFolder}/**","!**/node_modules/**"],rendererDebugOptions:{},runtimeExecutable:"${execPath}",autoAttachChildProcesses:!1,debugWebviews:!1,debugWebWorkerHost:!1,__sessionId:""},c5={...pd,type:"pwa-node",request:"launch",program:"",cwd:"${workspaceFolder}",stopOnEntry:!1,console:"internalConsole",restart:!1,args:[],runtimeExecutable:"node",runtimeVersion:"default",runtimeArgs:[],profileStartup:!1,attachSimplePort:null,experimentalNetworking:"auto",killBehavior:"forceful"},fd={...Xh,type:"pwa-chrome",request:"attach",address:"localhost",port:0,disableNetworkCache:!0,pathMapping:{},url:null,restart:!1,urlFilter:"",sourceMapPathOverrides:c_("${webRoot}"),webRoot:"${workspaceFolder}",server:null,browserAttachLocation:"workspace",targetSelection:"automatic",vueComponentPaths:["${workspaceFolder}/**/*.vue","!**/node_modules/**"],perScriptSourcemaps:"auto"},o_={...fd,type:"pwa-msedge",useWebView:!1},Zh={...fd,type:"pwa-chrome",request:"launch",cwd:null,file:null,env:{},urlFilter:"*",includeDefaultArgs:!0,includeLaunchArgs:!0,runtimeArgs:null,runtimeExecutable:"*",userDataDir:!0,browserLaunchLocation:"workspace",profileStartup:!1,cleanUp:"wholeBrowser"},s_={...Zh,type:"pwa-msedge",useWebView:!1},a_={...pd,type:"pwa-node",attachExistingChildren:!0,address:"localhost",port:9229,restart:!1,request:"attach",continueOnAttach:!1};function c_(r){return{"webpack:///./~/*":`${r}/node_modules/*`,"webpack:////*":"/*","webpack://@?:*/?:*/*":`${r}/*`,"webpack://?:*/*":`${r}/*`,"webpack:///([a-z]):/(.+)":"$1:/$2","meteor://\u{1F4BB}app/*":`${r}/*`,"turbopack://[project]/*":"${workspaceFolder}/*"}}var em=r=>{!r.sourceMapPathOverrides&&r.cwd&&(r.sourceMapPathOverrides=c_(r.cwd)),r.resolveSourceMapLocations===void 0&&(r.resolveSourceMapLocations=r.outFiles)};function u_({...r}){return em(r),r.request==="attach"?{...a_,...r}:{...c5,...r}}function u5(r,e){return r.request==="attach"?{...fd,browserAttachLocation:e,...r}:{...Zh,browserLaunchLocation:e,...r}}function l5(r,e){return r.request==="attach"?{...o_,browserAttachLocation:e,...r}:{...s_,browserLaunchLocation:e,...r}}function p5(r){let e={...dd,...r};return e.skipFiles=[...e.skipFiles,"**/node_modules.asar/**","**/bootstrap-fork.js"],e}function l_(r){return em(r),r.request==="launch"?{...Qh,...r}:{...a5,...r}}function es(r,e){let t,n=e==="remote"?"ui":"workspace";switch(r.type){case"pwa-node":t=u_(r);break;case"pwa-msedge":t=l5(r,n);break;case"pwa-chrome":t=u5(r,n);break;case"pwa-extensionHost":t=p5(r);break;case"node-terminal":t=l_(r);break;default:throw Hc(r,"Unknown config: {value}")}return d_(t)}function p_(r){let e="${workspaceFolder}",t={...r,rootPath:void 0,outFiles:r.outFiles.filter(n=>!n.includes(e)),sourceMapPathOverrides:Jh(r.sourceMapPathOverrides,n=>!n.includes("${workspaceFolder}"))};return"vueComponentPaths"in t&&(t.vueComponentPaths=t.vueComponentPaths.filter(n=>!n.includes(e))),"resolveSourceMapLocations"in t&&(t.resolveSourceMapLocations=t.resolveSourceMapLocations?.filter(n=>!n.includes(e))??null),"cwd"in t&&t.cwd?.includes(e)&&(t.cwd=t.request==="launch"&&t.type==="pwa-node"?(0,HE.homedir)():void 0),"webRoot"in t&&t.webRoot?.includes(e)&&(t.webRoot="/"),t}function d_(r){return r.__workspaceFolder||(r=p_(r)),r=li(r,"workspaceFolder",r.__workspaceFolder),r=li(r,"webRoot","webRoot"in r?r.webRoot:r.__workspaceFolder),r}function li(r,e,t){let n;if(typeof r=="string")n=r.replace(new RegExp(`\\$\\{${e}\\}`,"g"),()=>{if(!t)throw new Error(`Unable to resolve \${${e}} in configuration (${JSON.stringify(e)})`);return t});else if(r instanceof Array)n=r.map(i=>li(i,e,t));else if(typeof r=="object"&&r){let i={};for(let[o,s]of Object.entries(r))i[li(o,e,t)]=li(s,e,t);n=i}else n=r;return n}var tm=["javascript","typescript","typescriptreact","javascriptreact","fsharp","html","wat","c","cpp","rust","zig"],rm="js-debug",va="1.100.1",d5="ms-vscode",nm=rm.includes("nightly"),GE=`${d5}.${rm}`;var BS=y(T_()),z$=y(Pm()),FS=require("fs"),jS=y(N()),hFe=y(fD());var Jd=require("fs"),Mt=y(N()),Hg=y(require("path"));var M=class{constructor(){this._listeners=new Set;this.event=(e,t,n)=>{let i={listener:e,thisArg:t};this._listeners.add(i);let o={dispose:()=>{o.dispose=()=>{},this._listeners.delete(i)}};return n&&n.push(o),o}}get size(){return this._listeners.size}fire(e){let t=!this._deliveryQueue;this._deliveryQueue||(this._deliveryQueue=[]);for(let n of this._listeners)this._deliveryQueue.push({data:n,event:e});if(t){for(let n=0;n<this._deliveryQueue.length;n++){let{data:i,event:o}=this._deliveryQueue[n];i.listener.call(i.thisArg,o)}this._deliveryQueue=void 0}}dispose(){this._listeners.clear(),this._deliveryQueue&&(this._deliveryQueue=[])}},Pd=class{constructor(){this.map=new Map;this.listeners=this.map}listen(e,t){let n=this.map.get(e);n||(n=new M,this.map.set(e,n));let i=n.event(t);return{dispose:re(()=>{i.dispose(),n?.size===0&&this.map.delete(e)})}}emit(e,t){this.listeners.get(e)?.fire(t)}};var xa=y(N()),Rd=y(require("path"));var yD=require("crypto"),bD=y(Pm()),vD=require("os"),xe=y(require("path"));var go=y(require("fs")),hD=y(require("util"));async function yo({access:r},e){if(!e)return!1;try{return await r(e),!0}catch{return!1}}async function II(r,e,t){try{await r.copyFile(e,t)}catch(n){try{if(await yo(r,t))await r.unlink(t),await r.copyFile(e,t);else throw n}catch{throw n}}}async function mr({stat:r},e){if(e)try{return await r(e)}catch{return}}async function mD({lstat:r},e){if(e)try{return await r(e)}catch{return}}async function gD({copyFile:r,rename:e,unlink:t},n,i){try{await e(n,i)}catch{await r(n,i),await t(n)}}function ag(r){return new Promise(e=>{go.readFile(r,"utf8",async(t,n)=>{e(t?"":n)})})}var yce=hD.promisify(go.writeFile);var ar=Symbol("FsUtils"),qr=class{constructor(e){this.fs=e}realPath(e){return this.fs.realpath(e)}async exists(e){try{return await this.fs.access(e,go.constants.F_OK),!0}catch{return!1}}readFile(e){return this.fs.readFile(e)}},_I=class{constructor(e){this.dap=e}async realPath(){throw new Error("not implemented")}async exists(e){try{let{doesExists:t}=await this.dap.remoteFileExistsRequest({localFilePath:e});return t}catch{return!1}}readFile(){throw new Error("not implemented")}},sg=class{constructor(e,t,n){this.remoteFilePrefix=e;this.localFsUtils=t;this.remoteFsUtils=n}static create(e,t,n){let i=new qr(t);return e!==void 0?new this(e.toLowerCase(),i,new _I(n)):i}async exists(e){return this.selectFs(e).exists(e)}async readFile(e){return this.selectFs(e).readFile(e)}async realPath(e){return this.selectFs(e).realPath(e)}selectFs(e){return e.toLowerCase().startsWith(this.remoteFilePrefix)?this.remoteFsUtils:this.localFsUtils}};var DK=process.platform==="win32"?"\\\\.\\pipe\\":(0,vD.tmpdir)(),OK=0,cg=()=>xe.join(DK,`node-cdp.${process.pid}-${(0,yD.randomBytes)(4).toString("hex")}-${OK++}.sock`);function MK(r){return process.platform!=="win32"?[""]:r.lookup("PATHEXT")?.split(";")||[".exe"]}async function ug(r,e,t){let n;if(process.platform==="win32"){let i=t.WINDIR||"C:\\Windows";n=xe.join(i,"System32","where.exe")}else n="/usr/bin/which";try{if(await mr(r,n)){let o=(await(0,bD.default)(n,[e],{env:$c(t)})).stdout.split(/\r?\n/);if(process.platform==="win32"){let s=String(t.PATHEXT||".exe").toUpperCase().split(";");for(let a of o){let c=xe.extname(a).toUpperCase();if(c&&s.includes(c))return a}}else if(o.length>0)return o[0];return}return e}catch{}}async function xI(r,e,t){if(e){if(process.platform==="win32"&&!xe.extname(e))for(let n of MK(t)){let i=e+n;if(await mr(r,i))return i}if(await mr(r,e))return e}}var wD=r=>r.includes(`.asar${xe.sep}`);function ns(...r){return xe.posix.isAbsolute(r[0])?Fe(xe.posix.join(...r)):xe.win32.isAbsolute(r[0])?xe.win32.join(...r):xe.join(...r)}function Wr(...r){return xe.posix.isAbsolute(r[0])?xe.posix.resolve(...r):xe.win32.isAbsolute(r[0])?xe.win32.resolve(...r):xe.resolve(...r)}function kd(r,e){return xe.posix.isAbsolute(r)?xe.posix.relative(r,e):xe.win32.isAbsolute(r)?xe.win32.relative(r,e):xe.relative(r,e)}var LK=/\/|\\/,Ed="file:///",SD=r=>r.startsWith(Ed)&&r[Ed.length+1]===":",TI=r=>r.split(LK);function CI(r,e=!1){if(!r)return r;if(SD(r)){let t=Ed.length;r=Ed+r[t].toLowerCase()+r.substr(t+1)}else pg(r)&&(r=(e?r[0].toUpperCase():r[0].toLowerCase())+r.substr(1));return r}function ot(r,e=!1){if(!r)return r;if(r=CI(r,e),SD(r)){let t=Ed.length;r=r.substr(0,t+1)+r.substr(t+1).replace(/\//g,"\\")}else pg(r)&&(r=r.replace(/\//g,"\\"));return r}function Fe(r){return r.replace(/\\\//g,"/").replace(/\\/g,"/")}var lg=(r,e)=>{let t=xe.relative(r,e);return t.length&&!xe.isAbsolute(t)&&!t.startsWith("..")},ou=(r,e)=>{let t=xe.relative(r,e);return!xe.isAbsolute(t)&&!t.startsWith("..")},PI=r=>r.startsWith("\\\\"),pg=r=>/^[A-Za-z]:/.test(r)||PI(r);var su=class{get empty(){return this.patterns.length===0}constructor({rootPath:e,patterns:t}){!e||!t?(this.rootPath="",this.patterns=[]):(this.rootPath=e,this.patterns=t.map(n=>{let i=n.startsWith("!");return{negated:i,pattern:n.slice(i?1:0)}}))}*explode(){for(let e=0;e<this.patterns.length;e++){let{negated:t,pattern:n}=this.patterns[e];if(t)continue;let i=Rd.resolve(this.rootPath,n).split(/[\\/]/g),o=i.findIndex(c=>c.includes("*"));if(o===-1){yield{cwd:i.slice(0,-1).join("/"),pattern:i[i.length-1],negations:[]};continue}let s=i.slice(0,o).join("/"),a=[];for(let c=e+1;c<this.patterns.length;c++){let{negated:u,pattern:l}=this.patterns[c];if(u)if(l.startsWith("**"))a.push(Fe(l));else{let p=Rd.relative(s,Rd.resolve(this.rootPath,l));p.startsWith("..")||a.push(Fe(p))}}yield{cwd:s,negations:a,pattern:i.slice(o).join("/")}}}};su=S([(0,xa.injectable)()],su);var Ei=class extends su{constructor({rootPath:e,outFiles:t}){super({rootPath:e,patterns:t})}};Ei=S([(0,xa.injectable)(),m(0,(0,xa.inject)(ve))],Ei);var bo=class extends su{constructor(e){super({rootPath:e.rootPath,patterns:"vueComponentPaths"in e?e.vueComponentPaths:[]})}};bo=S([(0,xa.injectable)(),m(0,(0,xa.inject)(ve))],bo);var ID=require("crypto"),xD=require("os"),TD=y(require("path"));var fg=require("fs"),_D=require("path"),FK=(r,e)=>e instanceof Error?{message:e.message,stack:e.stack}:typeof e=="bigint"?e.toString():e,dg=class{constructor(e,t){this.file=e;this.dap=t;try{(0,fg.mkdirSync)((0,_D.dirname)(e),{recursive:!0})}catch{}this.stream=(0,fg.createWriteStream)(e)}async setup(){this.dap?.output({category:"console",output:`Verbose logs are written to:
${this.file}
`})}dispose(){this.stream&&(this.stream.end(),this.stream=void 0)}write(e){this.stream&&this.stream.write(JSON.stringify(e,FK)+`
`)}};var BK={runtime:null,"runtime.sourcecreate":null,"runtime.assertion":null,"runtime.launch":null,"runtime.target":null,"runtime.welcome":null,"runtime.exception":null,"runtime.sourcemap":null,"runtime.breakpoints":null,"sourcemap.parsing":null,"perf.function":null,"cdp.send":null,"cdp.receive":null,"dap.send":null,"dap.receive":null,internal:null,proxyActivity:null},Pce=Object.keys(BK),H=Symbol("ILogger");function EI(r,e=(0,xD.tmpdir)()){if(r===!1)return{stdio:!1,logFile:null};let t={stdio:!0,logFile:TD.join(e,`vscode-debugadapter-${(0,ID.randomBytes)(4).toString("hex")}.json`)};return r===!0?t:{...t,...r}}function CD(r,e){let t=EI(e),n={sinks:[]};return t.logFile&&n.sinks.push(new dg(t.logFile,r)),n}var PD="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",kD=new Uint8Array(64),RD=new Uint8Array(128);for(let r=0;r<PD.length;r++){let e=PD.charCodeAt(r);kD[r]=e,RD[e]=r}var kI=typeof TextDecoder<"u"?new TextDecoder:typeof Buffer<"u"?{decode(r){return Buffer.from(r.buffer,r.byteOffset,r.byteLength).toString()}}:{decode(r){let e="";for(let t=0;t<r.length;t++)e+=String.fromCharCode(r[t]);return e}};function AD(r){let e=new Int32Array(5),t=[],n=0;do{let i=jK(r,n),o=[],s=!0,a=0;e[0]=0;for(let c=n;c<i;c++){let u;c=Ad(r,c,e,0);let l=e[0];l<a&&(s=!1),a=l,ED(r,c,i)?(c=Ad(r,c,e,1),c=Ad(r,c,e,2),c=Ad(r,c,e,3),ED(r,c,i)?(c=Ad(r,c,e,4),u=[l,e[1],e[2],e[3],e[4]]):u=[l,e[1],e[2],e[3]]):u=[l],o.push(u)}s||UK(o),t.push(o),n=i+1}while(n<=r.length);return t}function jK(r,e){let t=r.indexOf(";",e);return t===-1?r.length:t}function Ad(r,e,t,n){let i=0,o=0,s=0;do{let c=r.charCodeAt(e++);s=RD[c],i|=(s&31)<<o,o+=5}while(s&32);let a=i&1;return i>>>=1,a&&(i=-2147483648|-i),t[n]+=i,e}function ED(r,e,t){return e>=t?!1:r.charCodeAt(e)!==44}function UK(r){r.sort(qK)}function qK(r,e){return r[0]-e[0]}function hg(r){let e=new Int32Array(5),t=1024*16,n=t-36,i=new Uint8Array(t),o=i.subarray(0,n),s=0,a="";for(let c=0;c<r.length;c++){let u=r[c];if(c>0&&(s===t&&(a+=kI.decode(i),s=0),i[s++]=59),u.length!==0){e[0]=0;for(let l=0;l<u.length;l++){let p=u[l];s>n&&(a+=kI.decode(o),i.copyWithin(0,n,s),s-=n),l>0&&(i[s++]=44),s=Dd(i,s,e,p,0),p.length!==1&&(s=Dd(i,s,e,p,1),s=Dd(i,s,e,p,2),s=Dd(i,s,e,p,3),p.length!==4&&(s=Dd(i,s,e,p,4)))}}}return a+kI.decode(i.subarray(0,s))}function Dd(r,e,t,n,i){let o=n[i],s=o-t[i];t[i]=o,s=s<0?-s<<1|1:s<<1;do{let a=s&31;s>>>=5,s>0&&(a|=32),r[e++]=kD[a]}while(s>0);return e}var WK=/^[\w+.-]+:\/\//,VK=/^([\w+.-]+:)\/\/([^@/#?]*@)?([^:/#?]*)(:\d+)?(\/[^#?]*)?(\?[^#]*)?(#.*)?/,$K=/^file:(?:\/\/((?![a-z]:)[^/#?]*)?)?(\/?[^#?]*)(\?[^#]*)?(#.*)?/i,ft;(function(r){r[r.Empty=1]="Empty",r[r.Hash=2]="Hash",r[r.Query=3]="Query",r[r.RelativePath=4]="