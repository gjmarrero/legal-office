YU(),{isDefaultTheme:a}=GU(),{hideETreeDialog:i}=lU(),{trigger:r,isMutating:o}=ZU(),{data:n}=oH(),s=n?.level>zE.Level_4;return(0,be.useEffect)((()=>{Kn(hr,hr.HalloweenOrnamentDecorateDialogImpression)}),[]),be.createElement(zU,{className:(0,mt.z)(a?t.defaultDialogSurface:t.halloWeenDialogSurface)},be.createElement("div",{"data-testid":"halloween-ornament-decorate-dialog",className:(0,mt.z)(t.dialogContent,s?t.decorativeDialogContent:t.unDecorativeDialogContent,a?t.defaultDialogContent:t.halloWeenDialogContent)},be.createElement("div",{className:(0,mt.z)(t.image,a?t.imageDefault:t.imageHalloween),"aria-hidden":!0}),be.createElement(NA.M,{className:t.title},Td.eTreeHalloweenOrnamentTitle()),be.createElement(hm.c,{className:t.description},Td.eTreeHalloweenOrnamentDescription()),!s&&be.createElement("div",{className:t.decorateTip},be.createElement($C.CY5,{className:t.decorateTipIcon}),be.createElement(Nm.M,{className:t.decorateTipCaption},Td.eTreeHalloweenOrnamentDecorateTip())),be.createElement("div",{className:t.actions},s&&be.createElement(gU,{"data-testid":"ornament-decorate-button",isProcessing:o,onClick:async()=>{Kn(hr,hr.HalloweenOrnamentDecorateDialogDecorateClicked);const t=e?.ornament?.state===zf.HangOn?zf.Obtained:zf.HangOn;await r({action:"update",key:["rewards","ornaments",e?.ornament?.id].join("_"),property:JSON.stringify({state:t})}),i()}},e?.ornament?.state===zf.HangOn?Td.eTreeOrnamentTakeOffButtonLabel():Td.eTreeOrnamentDecorateButtonLabel()),be.createElement(gU,{"data-testid":"ornament-dialog-close-button",mode:rU.Secondary,onClick:()=>{Kn(hr,hr.HalloweenOrnamentDecorateDialogCloseClicked),i()}},Td.eTreeCloseButtonLabel()))))},jU=(0,gt.n)({starLayout:{position:"absolute"},star:{position:"absolute",boxShadow:"0px 0px 4px rgba(255, 255, 255, 0.99)",backgroundColor:"rgba(255, 255, 255, 0.99)",...It.Pt.borderRadius("50%"),userSelect:"none"}}),KU=be.memo((e=>{const t=jU(),a=(0,be.useRef)(null),i=(0,be.useRef)([]),{starMaxSize:r=3,animationDuration:o=1e3,starCount:n=1}=e;return(0,be.useEffect)((()=>{i.current?.forEach(((e,t)=>{const{width:i=0,height:s=0}=a.current?.getBoundingClientRect?.()||{},l=Math.floor(i/n);let d=Math.floor(Math.random()*r)+1;const c=Math.floor(Math.random()+t)*l;let p=Math.floor(Math.random()*s);0!==t&&t!==n-1||(d=1,p=Math.floor(s/2)),t===Math.ceil(n/2)&&(d=r,p=0),e.style.width=`${d}px`,e.style.height=`${d}px`,e.style.transform=`translate(${c}px, ${p}px)`;const g=e?.animate?.([{opacity:1},{opacity:0}],{duration:o,delay:Math.floor(Math.random()*o),iterations:1/0,easing:"ease-out"});return()=>{g?.cancel()}}))}),[]),be.createElement("div",{className:(0,mt.z)(t.starLayout,e.className),ref:a},Array.from({length:n}).map(((e,a)=>be.createElement("div",{key:`animation-star${a}`,className:t.star,ref:e=>{i.current[a]=e}}))))})),qU=()=>{const{data:e,isLoading:t,error:a}=jH();return{data:(0,be.useMemo)((()=>RU.createOrnament(e?.find((e=>e.activityId===bf.HalloweenOrnament)))),[e]),isLoading:t,error:a}},JU=(e,t)=>{const a=YH[e]?.[t];return a?()=>vH(a.filter((e=>!!e))):()=>{}},XU=(0,gt.n)({root:{width:"80px",height:"58px",backgroundRepeat:"no-repeat",textAlign:"center",position:"absolute",left:"0px",top:"72px",userSelect:"none"},jackOLantern:{width:"61px",height:"45px",color:"white",backgroundImage:`url(${tg("/hub/etree/halloween/ornament-jack-o-lantern.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",cursor:"pointer",marginBlockStart:"13px",marginInlineStart:"16px",userSelect:"none"},halloweenOrnamentBackground:{width:"90px",height:"40px",position:"absolute",top:"0px",left:"0px",zIndex:-1,"&::after":{content:'""',position:"absolute",top:"14px",left:"22px",width:"45px",height:"30px",backgroundImage:"radial-gradient(rgba(255, 157, 67, 1) 10%, rgba(255, 255, 255, 0) 100%)",filter:"blur(10px)",...It.Pt.borderRadius("40px"),zIndex:-1}}}),_U=()=>{const e=XU(),t=(0,be.useRef)([]),{data:a,isLoading:i}=qU(),{isDefaultTheme:r}=GU(),{setETreeDialog:o}=lU(),{data:n}=oH(),s=JU(bf.HalloweenOrnament,ZH.Ornament),l=()=>{a?.state===zf.HangOn?Kn(hr,hr.HalloweenOrnamentHangOnStateClicked):Kn(hr,hr.HalloweenOrnamentObtainedStateClicked),o(be.createElement(QU,{ornament:a}))};return(0,be.useEffect)((()=>{!r&&a&&t.current.forEach((e=>{const t=e?.animate?.([{opacity:1},{opacity:0}],{duration:1e3,delay:100*Math.floor(10*Math.random()+1),iterations:1/0,easing:"ease-out"});return()=>{t?.cancel()}}))}),[r,a]),(0,be.useMemo)((()=>{const e=a?.state===zf.HangOn&&n?.level>zE.Level_4,t=i||!a||!a.obtainedNotificationDispalyed&&nf(a?.obtainedUtcTime,(new Date).toISOString())||a?.state!==zf.Obtained&&e;return t||(a?.state===zf.HangOn?Kn(hr,hr.HalloweenOrnamentHangOnStateImpression):Kn(hr,hr.HalloweenOrnamentObtainedStateImpression)),t}),[n?.level,a,i])?null:be.createElement("div",{className:(0,mt.z)(e.root),"data-testid":"halloween-ornament"},be.createElement(UU,{positioning:"above"},be.createElement("div",{role:"button",tabIndex:0,"aria-label":Td.eTreeHalloweenOrnamentTitle(),className:e.jackOLantern,onClick:l,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),l())},onFocus:s,onMouseOver:s})),!r&&be.createElement(KU,{className:e.halloweenOrnamentBackground,starCount:7}))},$U=(0,gt.n)({root:{width:"116px",height:"116px",backgroundRepeat:"no-repeat",position:"absolute",left:"8px",top:"128px"},halloWeenOrnamentBackground:{width:"116px",height:"116px",position:"absolute",left:"0px",top:"0px",zIndex:-1,filter:"blur(10px)",backgroundImage:"radial-gradient(rgba(255, 164, 99, 0.8) 10%, rgba(255, 255, 255, 0) 60%)",...It.Pt.borderRadius("58px"),transform:"scale(0.2)",animationTimingFunction:"ease-in-out",animationFillMode:"forwards",animationDuration:"800ms",animationName:{"0%":{transform:"scale(0.2)"},"33%":{transform:"scale(1)"},"66%":{transform:"scale(0.2)"},"100%":{transform:"scale(1)"}}},jackOLantern:{width:"38px",height:"50px",backgroundImage:`url(${tg("/hub/etree/halloween/ornament-jack-o-lantern-hanging-on-default.png")})`,backgroundSize:"38px 50px",cursor:"pointer",marginBlockStart:"27px",marginInlineStart:"39px",userSelect:"none",position:"relative"},jackOLanternHalloWeen:{"&::after":{content:'""',width:"38px",height:"50px",backgroundImage:`url(${tg("/hub/etree/halloween/ornament-jack-o-lantern-hanging-on-halloween.png")})`,backgroundSize:"38px 50px",position:"absolute",left:"0px",top:"0px",opacity:0,animationTimingFunction:"ease-in-out",animationFillMode:"forwards",animationDuration:"800ms",animationName:{"0%":{opacity:0},"33%":{opacity:1},"66%":{opacity:0},"100%":{opacity:1}}}}}),eV=()=>{const e=$U(),{data:t,isLoading:a}=qU(),{isDefaultTheme:i}=GU(),{setETreeDialog:r}=lU(),{data:o}=oH(),n=JU(bf.HalloweenOrnament,ZH.Ornament),s=()=>{Kn(hr,hr.HalloweenOrnamentHangOnTreeClicked),r(be.createElement(QU,{ornament:t}))};return(0,be.useMemo)((()=>{const e=o?.level>zE.Level_4,i=a||!t||t?.state!==zf.HangOn||!e;return i||Kn(hr,hr.HalloweenOrnamentHangOnTreeImpression),i}),[o?.level,t,a])?null:be.createElement("div",{"data-testid":"halloween-ornament",className:(0,mt.z)(e.root)},!i&&be.createElement("div",{className:e.halloWeenOrnamentBackground}),be.createElement(UU,{positioning:"before"},be.createElement("div",{role:"button",tabIndex:0,"aria-label":Td.eTreeHalloweenOrnamentTitle(),className:(0,mt.z)(e.jackOLantern,!i&&e.jackOLanternHalloWeen),onClick:s,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),s())},onFocus:n,onMouseOver:n})))};var tV=a(97134);let aV=function(e){return e[e.start=0]="start",e[e.waiting=1]="waiting",e[e.fail=2]="fail",e[e.compeleted=3]="compeleted",e}({});const iV={animationIterationCount:"infinite",animationName:{"0%":{opacity:1},"90%":{opacity:0},"100%":{opacity:1}}},rV=(0,gt.n)({layout:{position:"absolute",boxShadow:"0px 0px 4px rgba(255, 255, 255, 0.99)",backgroundColor:"rgba(255, 255, 255, 0.99)",":nth-child(1)":{transform:"translate(25px, 20px)",width:"3px",height:"3px",...It.Pt.borderRadius("3px")},":nth-child(2)":{transform:"translate(40px, 30px)",width:"2px",height:"2px",...It.Pt.borderRadius("2px")},":nth-child(3)":{transform:"translate(50px, 15px)",width:"4px",height:"4px",...It.Pt.borderRadius("4px")},":nth-child(4)":{transform:"translate(78px, 2px)",width:"4px",height:"4px",...It.Pt.borderRadius("4px")},":nth-child(5)":{transform:"translate(125px, 15px)",width:"3px",height:"3px",...It.Pt.borderRadius("3px")}},layout2:{":nth-child(1)":{transform:"translate(95px, 35px)"},":nth-child(2)":{transform:"translate(20px, 20px)"},":nth-child(3)":{transform:"translate(80px, 5px)"},":nth-child(4)":{transform:"translate(20px, 50px)"},":nth-child(5)":{transform:"translate(10px, 35px)"}},slowAnimation:{...iV,animationDuration:"1s",":nth-child(1)":{animationDelay:"0.5s"},":nth-child(2)":{animationDelay:"0.3s"},":nth-child(3)":{animationDelay:"0s"},":nth-child(4)":{animationDelay:"0.3s"},":nth-child(5)":{animationDelay:"0.5s"}},fastAnimation:{...iV,animationDuration:"0.3s",":nth-child(2)":{animationDelay:"0.1s"},":nth-child(5)":{animationDelay:"0.1s"}}}),oV=(0,gt.n)({ghost:{animationDuration:"3s",animationTimingFunction:"ease-out",animationName:{"0%":{opacity:0},"10%":{opacity:1,transform:"translateY(130px) scale(2.3)"},"15%":{transform:"translateY(130px) scale(2.3)"},"20%":{transform:"translateY(130px) scale(3)"},"25%":{transform:"translateY(130px) scale(3)"},"30%":{transform:"translateY(130px) scale(2.3)"},"40%":{transform:"translateY(130px) scale(2.3)"},"55%":{transform:"translateX(-100px) translateY(100px) scale(2) rotate(5deg)"},"70%":{transform:"translateX(150px) translateY(50px) scale(1.8) rotate(-5deg)"},"75%":{transform:"translateX(150px) translateY(50px) scale(1.8) rotate(-5deg)"}}},fadeOut:{animationDelay:"2.5s",animationFillMode:"forwards",animationDuration:"0.3s",opacity:0,animationName:{"0%":{opacity:0},"100%":{opacity:1}}},shake:{animationDuration:"0.3s",animationIterationCount:"infinite",animationName:{"0%":{transform:"rotate(0deg)"},"25%":{transform:"rotate(5deg)"},"75%":{transform:"rotate(-5deg)"}}}}),nV=(0,gt.n)({dialogSurface:{backgroundColor:"rgba(0, 0, 0, 0.7)","&::after":{content:'""',position:"absolute",top:"100px",left:"100px",width:"400px",height:"400px",backgroundColor:"#FF8E00",opacity:.2,filter:"blur(90px)",zIndex:-1,...It.Pt.borderRadius("50%")}},lightSuccess:{position:"absolute",width:"600px",height:"600px",backgroundImage:`url(${tg("/hub/etree/halloween/game-treat-light.png")})`,backgroundPositionX:"center",backgroundPositionY:"center",zIndex:-1},gameContainer:{zIndex:2,position:"fixed",top:"calc(50% - 300px)",left:"calc(50% - 300px)",width:"600px",height:"600px",backgroundColor:"rgba(0, 0, 0, 0.70)",...It.Pt.borderRadius("8px"),display:"flex",flexDirection:"column",alignItems:"center"},card:{display:"flex",flexDirection:"column",alignItems:"center",width:"316px",height:"376px",backgroundColor:"rgba(0, 0, 0, 0.40)",backdropFilter:"blur(40px)",...It.Pt.borderRadius("16px"),...It.Pt.border("2px","solid","rgba(255, 230, 139, 0.7)")},cardHeader:{width:"100%",height:"160px",display:"flex",flexDirection:"column",alignItems:"center"},imageSuccess:{position:"absolute",userSelect:"none",bottom:"258px",width:"226px",height:"157px"},imageFail:{position:"absolute",userSelect:"none",bottom:"220px",width:"416px",height:"234px"},boxContainer:{position:"absolute",top:"38px",width:"184px",height:"103px","&::after":{content:'""',position:"absolute",top:"20px",left:"40px",width:"100px",height:"70px",backgroundImage:"linear-gradient(143deg, #FF9D43 8.37%, rgba(255, 122, 0, 0.00) 91.49%)",filter:"blur(20px)",zIndex:-1}},boxImage:{position:"absolute",userSelect:"none",width:"100%",height:"100%",objectFit:"contain"},rewards:{marginBlockStart:"20px",zIndex:1,textAlign:"center",filter:"drop-shadow(0px 3px 16px rgba(56, 211, 86, 0.3))",backgroundImage:"linear-gradient(226deg, #8DE6FF 5.73%, #A6BEFF 54.65%, #D9B1FF 96.75%)",backgroundClip:"text",WebkitTextFillColor:"transparent"},cardDetail:{width:"auto",height:"188px",display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center",alignSelf:"stretch",...It.Pt.gap("8px"),...It.Pt.padding("0px","28px","32px","28px")},cardDetailWaiting:{justifyContent:"center"},details:{display:"flex",flexDirection:"column",alignItems:"center",alignSelf:"stretch",...It.Pt.gap("8px")},title:{color:"#FFF",textAlign:"center"},description:{color:"rgba(255, 255, 255, 0.70)",textAlign:"center"},rewardsInDescription:{color:"#FF8E00"},actions:{display:"grid",rowGap:"8px","& > button":{height:"36px",...It.Pt.paddingInline("24px")}}}),sV=e=>{const t=nV(),a=rV(),i=oV(),{hideETreeDialog:r}=lU(),[o,n]=be.useState(aV.start),[s,l]=be.useState(0),[d,c]=be.useState(0),[p,g]=be.useState(void 0),[m,u]=be.useState(void 0),[C,h]=be.useState(void 0),[E,f]=be.useState(void 0);return be.useEffect((()=>{g({[aV.start]:Td.eTreeHalloweeGameTitle(),[aV.fail]:Td.eTreeHalloweeGameFailTitle(),[aV.compeleted]:Td.eTreeHalloweeGameSuccessTitle()}[o]),u({[aV.start]:Td.eTreeHalloweeGameDescription([be.createElement(ph.V,{key:"rewards",className:t.rewardsInDescription},"500")]),[aV.waiting]:Td.eTreeHalloweeGameWaiteDescription(),[aV.fail]:Td.eTreeHalloweeGameFailDescription(),[aV.compeleted]:Td.eTreeHalloweeGameSuccessDescription([be.createElement(ph.V,{key:"rewards",className:t.rewardsInDescription},d),be.createElement("br",{key:"br"})])}[o]),h({[aV.start]:Td.eTreePlayButtonLabel(),[aV.fail]:Td.eTreePlayAgainButtonLabel(),[aV.compeleted]:Td.eTreeGotItButtonLabel()}[o]),f({[aV.start]:Td.eTreeCloseButtonLabel(),[aV.fail]:Td.eTreeCloseButtonLabel()}[o])}),[o,d]),be.createElement(zU,{className:t.dialogSurface},o===aV.compeleted&&be.createElement("div",{className:t.lightSuccess}),be.createElement("div",{className:t.card},be.createElement("div",{className:t.cardHeader},o===aV.compeleted&&be.createElement(tV.m,{className:t.rewards},`+${d}`),o===aV.start||o===aV.waiting?be.createElement("div",{className:t.boxContainer},Array.from({length:5},((e,t)=>be.createElement("div",{key:t,className:o===aV.waiting?(0,mt.z)(a.layout,a.fastAnimation):a.layout}))),be.createElement(Tk._,{"aria-hidden":!0,src:tg("/hub/etree/halloween/game-box.png"),className:o===aV.waiting?(0,mt.z)(t.boxImage,i.shake):t.boxImage,alt:Td.eTreeHalloweeGameTitle()})):o===aV.fail?be.createElement(Tk._,{"aria-hidden":!0,src:tg("/hub/etree/halloween/game-trick-ghost.png"),className:(0,mt.z)(t.imageFail,i.ghost),alt:Td.eTreeHalloweeGameFailTitle()}):o===aV.compeleted?be.createElement(Tk._,{"aria-hidden":!0,src:tg("/hub/etree/halloween/game-treat-bubble.png"),className:t.imageSuccess,alt:Td.eTreeHalloweeGameSuccessTitle()}):null),be.createElement("div",{className:o===aV.fail?(0,mt.z)(t.cardDetail,i.fadeOut):o===aV.waiting?(0,mt.z)(t.cardDetail,t.cardDetailWaiting):t.cardDetail},be.createElement("div",{className:t.details},p&&be.createElement(mx.M,{className:t.title},p),m&&be.createElement(hm.c,{className:t.description},m)),o!==aV.waiting&&be.createElement("div",{className:t.actions},C&&be.createElement(gU,{"data-testid":"play-button","aria-label":C,mode:rU.Primary,onClick:async()=>{o===aV.compeleted?r():(n(aV.waiting),setTimeout((async()=>{const t=await(async(e,t,a)=>{let i,r=0;if(((e,t)=>{const a=new Date(new Date(t?.startTime).toDateString()),i=new Date(new Date(t?.endTime).toDateString()),r=(new Date).setHours(0,0,0,0),o=Math.floor((r-a.getTime())/864e5)+1,n=Math.floor((i.getTime()-r)/864e5)+1;return console.info("isLotteryFail random",e,t,o,n),!t?.startTime||!t?.endTime||e>1?e<=1:o>=3&&n>=2&&Math.random()<.2})(e,a))i=aV.fail;else{const e=await uI([t?.taskId],(new Date).getTimezoneOffset(),t?.id);e?.status===Af.Success?(r=e.waterDrops?.[e.waterDrops?.length-1].score,i=aV.compeleted,TI()):i=aV.fail}return{status:i,rewards:r}})(s+1,e?.task,e?.config);l(s+1),n(t?.status),c(t?.rewards),e?.onResult?.(t)}),1500))}},be.createElement(ph.V,null,C)),E&&be.createElement(gU,{"data-testid":"close-button","aria-label":E,mode:rU.Secondary,onClick:()=>{r()}},be.createElement(ph.V,null,E))))))},lV=(0,gt.n)({tooltip:{backgroundColor:"#000",color:"#FFF",width:"175px"},entryContainer:{position:"absolute",top:"30px",left:"0px",transform:"translateX(-20px)",width:"172px",height:"103px"},gameBox:{width:"100%",height:"100%",backgroundImage:`url(${tg("/hub/etree/halloween/game-box.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",cursor:"pointer","&::after":{content:'""',position:"absolute",top:"10px",left:"40px",width:"106px",height:"93px",backgroundImage:"linear-gradient(143deg, #FF9D43 8.37%, rgba(255, 122, 0, 0.00) 91.49%)",filter:"blur(20px)",zIndex:-1}},gameBoxOpen:{backgroundImage:`url(${tg("/hub/etree/halloween/game-box-open.png")})`,cursor:"default","&::after":{content:"none"}}}),dV=()=>{const e=lV(),t=rV(),a=JU(bf.Halloween,ZH.Game),{setETreeDialog:i}=lU(),{halloweenActivityConfig:r}=GU(),{data:o,isLoading:n}=_H(wf.Halloween),[s,l]=be.useState(void 0),[d,c]=be.useState(!1),[p,g]=be.useState(!1);be.useEffect((()=>{if(!n)if(void 0===o)l(void 0);else{const e=o?.state===Pf.Complete;e||Kn(Er,Er.CampaignGameAEntryImpression),l(e),g(e),c(!1)}}),[n,o]);const m=()=>{s||(Kn(Er,Er.CampaignGameAEntry1Clicked),i(be.createElement(sV,{task:o,config:r,onResult:async e=>{e?.status===aV.compeleted&&Kn(Er,Er.CampaignGameAEntry1Completed)}})))};return void 0===s?null:be.createElement("div",{className:e.entryContainer,"data-testid":"halloween-game"},!s&&Array.from({length:5},((e,a)=>be.createElement("div",{key:a,className:(0,mt.z)(t.layout,t.slowAnimation)}))),be.createElement(Gc.m,{withArrow:!0,appearance:"inverted",relationship:"label",visible:p&&d,onVisibleChange:(e,t)=>c(t.visible),content:{children:Td.eTreeHalloweeGameCompeletedTip([500]),className:e.tooltip}},be.createElement("div",{role:"button",tabIndex:0,"aria-label":Td.eTreeHalloweeGameTitle(),className:s?(0,mt.z)(e.gameBox,e.gameBoxOpen):e.gameBox,onFocus:a,onMouseOver:a,onClick:m,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),m())}})))},cV=(0,gt.n)({halloWeenDialogSurface:{backgroundColor:"rgba(0, 0, 0, 0.7)",backgroundImage:`url(${tg("/hub/etree/halloween/ornament-obtained-dialog-background.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"cover","&::after":{content:'""',position:"absolute",top:"100px",left:"100px",width:"400px",height:"400px",backgroundColor:"#FF8E00",opacity:.2,filter:"blur(90px)",zIndex:-1,...It.Pt.borderRadius("50%")}},dialogContent:{width:"320px",height:"400px",display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.borderRadius("16px"),...It.Pt.borderWidth("2px"),...It.Pt.borderStyle("solid")},halloWeenDialogContent:{...It.Pt.borderColor("rgba(255, 230, 139, 0.7)"),backgroundColor:"rgba(0, 0, 0, 0.4)",backdropFilter:"blur(40px)"},image:{width:"150px",height:"150px",backgroundRepeat:"no-repeat",backgroundSize:"contain",userSelect:"none",...It.Pt.marginBlock("5px")},imageHalloween:{backgroundImage:`url(${tg("/hub/etree/halloween/ornament-in-dialog-halloween.png")})`},title:{width:"256px",color:"#FFFFFF",textAlign:"center"},description:{width:"256px",color:"rgba(255, 255, 255, 0.70)",marginBlockStart:"8px",textAlign:"center"},actions:{flexGrow:1,width:"170px",display:"flex",flexDirection:"column",justifyContent:"center",rowGap:"8px"}}),pV=e=>{const t=cV(),{hideETreeDialog:a}=lU(),{trigger:i,isMutating:r}=ZU(),{data:o}=oH();return(0,be.useEffect)((()=>()=>{Kn(hr,hr.HalloweenOrnamentObtainedDialogImpression),(async()=>{const t=(a=e.ornament)?{obtainedNotificationDispalyed:a?.obtainedNotificationDispalyed}:null;var a;if(!t?.obtainedNotificationDispalyed){t.obtainedNotificationDispalyed=!0;const e=JSON.stringify(t);await i({action:"batchUpdate",key:["rewards","fragments"].join("_"),property:JSON.stringify([{key:["rewards","fragments","id1"].join("_"),property:{displayStatus:e}},{key:["rewards","fragments","id2"].join("_"),property:{displayStatus:e}}])})}})()}),[]),be.createElement(zU,{className:t.halloWeenDialogSurface},be.createElement("div",{"data-testid":"halloween-ornament-obtained-dialog",className:(0,mt.z)(t.dialogContent,t.halloWeenDialogContent)},be.createElement("div",{className:(0,mt.z)(t.image,t.imageHalloween),"aria-hidden":!0}),be.createElement(NA.M,{className:t.title},Td.eTreeHalloweenOrnamentObtainTitle()),be.createElement(hm.c,{className:t.description},Td.eTreeHalloweenOrnamentObtainDescription()),be.createElement("div",{className:t.actions},o?.level>zE.Level_4&&be.createElement(gU,{"data-testid":"ornament-decorate-button",isProcessing:r,onClick:async()=>{Kn(hr,hr.HalloweenOrnamentObtainedDialogDecorateClicked),await i({action:"update",key:["rewards","ornaments",e?.ornament?.id].join("_"),property:JSON.stringify({state:zf.HangOn})}),a()}},Td.eTreeOrnamentDecorateButtonLabel()),be.createElement(gU,{"data-testid":"ornament-dialog-close-button",mode:rU.Secondary,onClick:()=>{Kn(hr,hr.HalloweenOrnamentObtainedDialogCloseClicked),a()}},Td.eTreeGotItButtonLabel()))))},gV=()=>{const{data:e,isLoading:t}=qU();return!t&&be.createElement(pV,{ornament:e})},mV=e=>{const{data:t,isLoading:a,error:i}=QH();return{data:(0,be.useMemo)((()=>a?[]:((e,t)=>(0,Ti.A)(e?.rewards?.fragments)?[]:((e,t)=>(0,Ti.A)(e)?[]:void 0===t?e:e.filter((e=>t(e))))(e?.rewards?.fragments,t))(t,e)),[e,a,t?.rewards?.fragments]),isLoading:a,error:i}},uV=()=>{const{data:e,isLoading:t,error:a}=mV((e=>e.activityId===bf.Christmas));return{data:e,isLoading:t,error:a}},CV=()=>{const{data:e,isLoading:t,error:a}=mV((e=>e.activityId===bf.Christmas&&e.count>0));return{data:e,isLoading:t,error:a}},hV=(0,gt.n)({root:{...It.Pt.borderRadius(St.L.borderRadiusXLarge),backgroundColor:"rgba(0, 0, 0, 0.65)",backdropFilter:"blur(20px)",width:"162px",...It.Pt.padding(St.L.spacingVerticalL,St.L.spacingHorizontalL)},body:{rowGap:St.L.spacingVerticalNone,columnGap:St.L.spacingHorizontalNone},closeButton:{position:"absolute",top:St.L.spacingVerticalSNudge,right:St.L.spacingHorizontalSNudge,color:"#FFF",backgroundColor:"transparent",":hover":{backgroundColor:"transparent"}},iconContainer:{display:"flex",alignItems:"center",width:"40px",height:"40px",...It.Pt.marginInline("auto"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",marginBlockEnd:St.L.spacingVerticalL,...It.Pt.borderRadius("6px"),...It.Pt.border("1px","solid","#F2FBF9"),backgroundColor:"#FFF",backgroundImage:"linear-gradient(139deg, rgba(225, 230, 248, 0.20) 14.38%, rgba(235, 254, 251, 0.20) 62.18%)",transform:"rotate(-9.8deg)"},icon:{...It.Pt.marginInline("auto"),color:"#FFF",width:"28px",height:"28px"},description:{width:"128px",color:"#FFF",display:"block",textAlign:"center",fontSize:"11px",lineHeight:"16px"}}),EV=e=>{const t=hV();return(0,be.useEffect)((()=>{e.open&&setTimeout((()=>{e.onDismiss()}),3e3)}),[e.open]),be.createElement(gu.l,{open:e.open,onOpenChange:(t,a)=>e.onDismiss()},be.createElement(mu.E,{className:t.root,"data-testid":"new-fragment-toast-container"},be.createElement(uu.R,{className:t.body},be.createElement(Cu.L,{action:be.createElement(tw.z,{action:"close"},be.createElement(ai.$,{"data-testid":"close-toast",className:t.closeButton,appearance:"subtle","aria-label":Td.eTreeCloseLable(),icon:be.createElement(Eg.Wyk,null)}))}),be.createElement(hu.C,null,be.createElement("div",{"data-testid":"new-fragment-toast"},e.iconUrl&&be.createElement("div",{className:t.iconContainer},be.createElement("img",{"data-testid":"fragment-img",className:t.icon,src:tg(e.iconUrl),alt:"new obtained fragment icon"})),be.createElement(Nm.M,{className:t.description},e.message))))))};var fV=a(58100);const IV=(0,gt.n)({root:{position:"relative",display:"flex",flexDirection:"column",rowGap:"16px"},row:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",columnGap:"24px"}}),SV=(0,gt.n)({itemCard:{position:"relative",width:"40px",height:"40px",...It.Pt.padding("14px"),...It.Pt.borderRadius("6px"),...It.Pt.border("1px","solid","rgba(255, 255, 255, 0.30)"),backgroundColor:"#FFF",backgroundImage:"linear-gradient(139deg, rgba(225, 230, 248, 0.20) 14.38%, rgba(235, 254, 251, 0.20) 62.18%)",willChange:"box-shadow, transform, opacity","&:before":{content:'""',zIndex:-1,position:"absolute",top:0,right:0,bottom:0,left:0,backgroundImage:"linear-gradient(-45deg, #92cbf5 0%, #dfeaeb 100%)",transform:"translate3d(1px, 1px, 0) scale(1.02)",...It.Pt.borderRadius("6px")},"&:after":{content:'""',zIndex:-1,position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"inherit",backgroundImage:"inherit",...It.Pt.borderRadius("inherit")}},itemIcon:{width:"100%",userSelect:"none"},itemCount:{width:"16px",fontSize:"12px",fontWeight:600,color:"#213E32",position:"absolute",bottom:"0",right:"0",marginInlineEnd:"0px",marginBlockEnd:"0px",backgroundColor:"#FFF",boxShadow:"0px 0px 20px 0px #D5DFE9",...It.Pt.borderRadius("12px","0","6px","0"),...It.Pt.padding("2px")},notObtained:{"&:before":{backgroundImage:"none"},"&:after":{content:'""',zIndex:0,position:"absolute",top:0,right:0,bottom:0,left:0,backgroundColor:"rgba(122, 139, 182, 0.40)",...It.Pt.borderRadius("inherit")}},growing:{boxShadow:"0px 14px 14px 0px rgba(0, 0, 0, 0.08), 0px 0px 25px 0px #FFD56B, 0px 0px 4px 0px #FFC636"}}),kV=(e,t,a,i)=>{const r=1+(e/2|0);return{transform:`translate(${e%2!=0?78*(r-a)+16*(r-a)-4:39*(2*(e/2-a)+1)+16*(e/2-a)+4}px, ${i<=t/2?43:-43}px)`}},AV=(e,t,a=2)=>(0,fV.A)(new Array(e),((i,r,o)=>({...i,[`&:nth-of-type(${o+1})`]:{...It.Pt.transition([["box-shadow",St.L.durationNormal,"0s",St.L.curveAccelerateMid],["transform","1s",(0|(2===t&&3===o?700:500+200*Math.random()))+"ms",St.L.curveAccelerateMid],["opacity",St.L.durationNormal,"2s"]]),...kV(e,a,o+1,t)}})),{}),yV=(0,gt.n)({opacityMotion:{"& img":{...It.Pt.transition("opacity",St.L.durationNormal,"1.8s"),opacity:0}},transitionFirstRow:{...AV(3,1),opacity:0},transitionSecondRow:{...AV(4,2),"&:last-of-type":{animationDelay:"1.8s",animationDuration:"0.8s",animationDirection:"alternate",animationTimeline:"ease-out",animationIterationCount:"infinite",animationName:{from:{boxShadow:"0px 14px 14px 0px rgba(0, 0, 0, 0.08), 0px 0px 25px 0px #FFD56B, 0px 0px 4px 0px #FFC636"},to:{boxShadow:"0px 0px 100px 0px #FFBB0E, 0px 0px 3px 0px #FFBB0E"}}},"&:not(:last-of-type)":{opacity:0}},shinning:{animationDuration:"0.8s",animationDirection:"alternate",animationTimeline:"ease-out",animationIterationCount:"infinite",animationName:{from:{boxShadow:"0px 14px 14px 0px rgba(0, 0, 0, 0.08), 0px 0px 25px 0px #FFD56B, 0px 0px 4px 0px #FFC636"},to:{boxShadow:"0px 0px 100px 0px #FFBB0E, 0px 0px 3px 0px #FFBB0E"}}}}),wV=(0,gt.n)({iconContainer:{display:"flex",alignItems:"center",width:"40px",height:"40px",...It.Pt.marginInline("auto"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",marginBlockEnd:St.L.spacingVerticalL,...It.Pt.borderRadius("6px"),...It.Pt.border("1px","solid","#F2FBF9"),backgroundColor:"#FFF",backgroundImage:"linear-gradient(139deg, rgba(225, 230, 248, 0.20) 14.38%, rgba(235, 254, 251, 0.20) 62.18%)",transform:"rotate(-9.8deg)",position:"absolute",left:"-110px",top:"-12px"},iconContainerAnimation:{animationDuration:"3000ms",animationTimingFunction:"ease-in-out",animationIterationCount:"1",animationFillMode:"forwards",animationName:{"0%":{opacity:1,transform:"rotate(-9.8deg)"},"30%":{opacity:1,transform:"rotate(-9.8deg)"},"35%":{transform:"translate(0, 0) rotate(-9.8deg)"},"100%":{transform:"scale(0.5) translate(250px, 0px) rotate(-9.8deg)",opacity:0}}},icon:{...It.Pt.marginInline("auto"),color:"#FFF",width:"28px",height:"28px"}}),bV=new Map([[Vf.CheckIn3ConsDays,Td.etreeNewOrnamentToastCheckIn3Days()],[Vf.ChristmasCompleteAllExplicitTasks,Td.etreeNewOrnamentToastCompleteAllTasks()]]),TV=()=>{const e=wV(),t=SV(),{data:a,isLoading:i}=(e=>{const{data:t,isLoading:a,error:i}=(()=>{const{data:e,isLoading:t,error:a}=uV(),i=(0,be.useMemo)((()=>e?.map((e=>{const t=RU.flatFragment(e);return(0,Ti.A)(t)?null:t[t.length-1]}))),[e]);return{data:i?.filter((e=>!(0,Ti.A)(e))),isLoading:t,error:a}})();return{data:(0,be.useMemo)((()=>a||(0,Ti.A)(t)?[]:t.filter((t=>null!==t&&((0,Ti.A)(t.displayObtainedUtcTime)||new Date(t.displayObtainedUtcTime)<new Date(t.obtainedUtcTime))&&(void 0===e||e(t))))),[t,e,a]),isLoading:a,error:i}})((e=>e.awardSourceId===Vf.ChristmasCompleteAllExplicitTasks||e.awardSourceId===Vf.CheckIn3ConsDays)),{trigger:r}=ZU(),{setETreeDialog:o}=lU(),[n,s]=be.useState(void 0),[l,d]=be.useState(!1),c=()=>{o(null),d(!0),Kn(hr,hr.HalloweenOrnamentObtainedDialogCloseClicked)};return EU((()=>{if(i&&(0,Ti.A)(a))return;const e=a.length>1?a?.reduce(((e,t)=>new Date(e?.obtainedUtcTime)>new Date(t?.obtainedUtcTime)?e:t)):1===a.length?a[0]:void 0;nf(e?.obtainedUtcTime,(new Date).toISOString())&&(Kn(hr,hr.HalloweenOrnamentObtainedDialogImpression),(async(e,t)=>{const a=e.map((e=>({key:["rewards","fragments",e.id].join("_"),property:{displayStatus:JSON.stringify({displayObtainedUtcTime:e.obtainedUtcTime})}}))),i=await r({action:"batchUpdate",key:["rewards","fragments"].join("_"),property:JSON.stringify(a)});if(i?.status===Af.Success){const e={message:bV.get(t.awardSourceId),iconUrl:xU.get(t.id).iconUrl};s(e);const a=be.createElement(EV,{message:e.message,iconUrl:e.iconUrl,onDismiss:c,open:!0}),i=t.awardSourceId===Vf.CheckIn3ConsDays?3e3:0;setTimeout((()=>{o(a)}),i)}})(a,e))}),[a,i]),l&&n?.iconUrl?be.createElement("div",{className:(0,mt.z)(e.iconContainer,e.iconContainerAnimation,t.growing)},be.createElement("img",{"data-testid":"favicon-img",className:e.icon,src:tg(n.iconUrl),alt:"new obtained fragment icon"})):null};var PV=a(27193);const MV=()=>{const{data:e,isLoading:t,error:a}=JI((e=>e?.category===Tf.Game&&null!==e?.taskId&&e.taskId===wf.ChristmasPuzzleUp&&e.state!==Pf.Complete),XH);return{data:e,isLoading:t,error:a}},DV=({iconUrl:e="",count:t,isGrowing:a=!1,showCount:i=!0,classes:r=null})=>be.createElement("div",{"data-testid":"christmas-fragment-card",className:(0,mt.z)(r?.itemCard,0===t&&r?.notObtained,a&&r?.growing)},e&&be.createElement(Tk._,{className:r?.itemIcon,src:tg(e),"aria-hidden":!0,alt:""}),i&&!a&&be.createElement("span",{className:r?.itemCount},t)),NV=({processPizzleUpTask:e=!1,fragmentClasses:t=null,fragmentCardClasses:a=null,animationClasses:i=null,showCount:r=!0,isEntry:o=!1})=>{const{data:n,isLoading:s}=uV(),[l,d]=(0,be.useMemo)((()=>{const e=[];for(const[t,a]of xU.entries()){const i=n?.find((e=>e.id===t)),r={id:t,iconUrl:i?.count>0?a.iconUrl:o?a.notObtainedIconForEntryUrl:a.notObtainedIconUrl,count:i?i.count:0};e.push(r)}return[e.slice(0,3),e.slice(3,7)]}),[n]);return be.createElement("div",{className:(0,mt.z)(t?.root),"data-testid":"christmas-fragments"},be.createElement("div",{className:t?.row},l.map((({id:t,count:o,iconUrl:n})=>be.createElement(DV,{key:t,iconUrl:n,count:o,showCount:r,isGrowing:e,classes:{...a,itemCard:e?(0,mt.z)(a?.itemCard,i?.transitionFirstRow,i?.opacityMotion):a?.itemCard}})))),be.createElement("div",{className:t?.row},d.map((({id:t,count:o,iconUrl:n})=>be.createElement(DV,{key:t,iconUrl:n,count:o,showCount:r,isGrowing:e,classes:{...a,itemCard:e?(0,mt.z)(a?.itemCard,i?.transitionSecondRow,i?.opacityMotion):a?.itemCard}})))))},xV=(0,gt.n)({root:{position:"relative",display:"flex",flexDirection:"column"},row:{display:"flex",flexDirection:"row",flexWrap:"nowrap",justifyContent:"center",columnGap:"4px"}}),RV=(0,gt.n)({itemCard:{position:"relative",width:"18px",height:"18px",...It.Pt.border("1px","dashed","#7A8BB6"),...It.Pt.borderRadius("100px"),display:"flex",alignItems:"center",justifyContent:"center"},itemIcon:{width:"16px",height:"16px"}}),vV=(0,gt.n)({boardContainer:{width:"92px",height:"108px",...It.Pt.padding("6px","8px","8px","32px"),...It.Pt.borderRadius("6px"),...It.Pt.border("1px","solid","#FFF"),backgroundColor:"rgba(255, 255, 255, 0.40)",boxShadow:"0px 2px 20px 0px rgba(0, 0, 0, 0.05)",backdropFilter:"blur(50px)",marginBlockStart:"10px"},completeBoardContainer:{backgroundColor:"rgba(255, 255, 255, 0.85)",boxShadow:"0px 14px 14px 0px rgba(0, 0, 0, 0.08), 0px 0px 25px 0px #FFD56B, 0px 0px 4px 0px #FFC636"},title:{color:"#253E52",paddingBlockEnd:"8px",display:"block",width:"96px",fontWeight:500},contentContainer:{display:"flex",flexDirection:"column",alignItems:"center"},CTA:{minWidth:"66px",maxWidth:"92px",...It.Pt.padding("4px","12px","5px","12px"),marginBlockStart:"8px",color:"#253E52",fontSize:"10px",fontStyle:"italic",fontWeight:700,lineHeight:"12px",textAlign:"center"}}),LV=(new Map([[Vf.CheckIn3ConsDays,Td.etreeNewOrnamentToastCheckIn3Days()],[Vf.ChristmasCompleteAllExplicitTasks,Td.etreeNewOrnamentToastCompleteAllTasks()]]),()=>{const e=vV(),t=xV(),a=RV(),{data:i}=MV(),{data:r}=CV(),{setETreePage:o}=nU(),n=(0,be.useMemo)((()=>i?.length>0&&r?.length>=7),[i,r]);return be.createElement("div",{className:(0,mt.z)(e.boardContainer,n?e.completeBoardContainer:null)},be.createElement(PV.g,{className:e.title},n?Td.eTreeHolidayGameBoardEntryCompleteTitle():Td.eTreeHolidayGameBoardEntryUncompleteTitle()),be.createElement("div",{className:e.contentContainer},be.createElement(NV,{processPizzleUpTask:!1,fragmentClasses:t,fragmentCardClasses:a,showCount:!1,isEntry:!0}),be.createElement(gU,{mode:rU.Final,"data-testid":"go-now-button","aria-label":Td.eTreeHolidayGameBoardEntryCTALabel(),onClick:()=>{Kn(Er,Er.CampaignGameAEntry1Clicked),o(aU.ChristmasBoard)},className:e.CTA},Td.eTreeHolidayGameBoardEntryCTALabel())))}),FV=(0,gt.n)({entry:{transform:"translate(10px, 30px)",cursor:"pointer"},image:{position:"absolute",width:"108px",height:"108px",zIndex:1},light:{userSelect:"none",position:"absolute",left:"-42px",top:"-28px",animationDuration:"1000ms",animationTimingFunction:"flicker",animationIterationCount:"infinite",animationName:{"0%":{transform:"scale(0.3)"},"50%":{transform:"scale(0.15)"},"100%":{transform:"scale(0.3)"}}},tooltip:{backgroundColor:"#000",color:"#FFF",width:"160px",left:"60px"},boardContainer:{position:"absolute",left:"50px",top:"-32px"}}),OV=()=>{const e=FV(),{setETreePage:t}=nU(),a=JU(bf.Christmas,ZH.Game),i=()=>{Kn(Er,Er.CampaignGameAEntry1Clicked),t(aU.ChristmasBoard)};return(0,be.useEffect)((()=>{Kn(Er,Er.CampaignGameAEntryImpression)}),[]),be.createElement("div",null,be.createElement("div",{"data-testid":"holiday-board-button",role:"button",tabIndex:0,className:e.entry,onClick:i,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),i())},onFocus:a,onMouseOver:a},be.createElement(Gc.m,{withArrow:!0,positioning:"above",appearance:"inverted",relationship:"label",content:{children:Td.eTreeHolidayGameBoardEntryTooltip(),className:e.tooltip}},be.createElement(Tk._,{className:e.image,alt:"",src:tg("/hub/etree/christmas/snowman.png")})),be.createElement(TV,null),be.createElement("div",{className:e.light},be.createElement("img",{src:"data:image/png;base64,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",alt:"Snowman holding a torch"})),be.createElement("div",{className:e.boardContainer},be.createElement(LV,null))))},BV={[bf.Halloween]:{treeBottomRightSlot:be.createElement(dV,null)},[bf.HalloweenOrnament]:{treeMiddleSlot:be.createElement(eV,null),treeBottomLeftSlot:be.createElement(_U,null),dailyCheckInDialog:be.createElement(gV,null)},[bf.Christmas]:{treeBottomRightSlot:be.createElement(OV,null)},[bf.Default]:{}},WV=()=>{const{data:e,isLoading:t}=FH();let a;if(!t)return e&&(a=e.reduce(((e,t)=>({...e,...BV[t]})),{})),a},GV=(0,gt.n)({root:{...It.Pt.borderRadius(St.L.borderRadiusXLarge),...It.Pt.paddingBlock(St.L.spacingVerticalS),...It.Pt.paddingInline(St.L.spacingHorizontalM),backgroundBlendMode:"normal, luminosity",boxShadow:"0px 0px 2px 0px rgba(0, 0, 0, 0.12), 0px 8px 16px 0px rgba(0, 0, 0, 0.14)",backdropFilter:"blur(30px)"}}),HV=()=>{const e=GV(),{data:t,isLoading:a}=RH(),{data:i,isLoading:r}=BU(),o=VI(t),[n,s]=be.useState(!1),[l,d]=be.useState(!1),{trigger:c,isMutating:p}=AU(),g=SH(),m=WV(),{setETreeDialog:u}=lU();return(0,be.useEffect)((()=>{(async()=>{if(!p&&!a&&t?.task&&t?.task?.state!==Pf.Complete){const e=await c({taskIds:[t.task?.taskId],timezoneOffset:(new Date).getTimezoneOffset(),id:t.task?.id});e?.status===Af.Success?(PI(),Kn(dr,dr.DailyCheckInTaskCompleteSuccess),d(!0)):Kn(dr,dr.DailyCheckInTaskCompleteFail)}})()}),[t,a]),(0,be.useEffect)((()=>{n&&m?.dailyCheckInDialog&&i?.hasNewOrnament&&(async()=>{u(m?.dailyCheckInDialog),s(!1)})()}),[m?.dailyCheckInDialog,i?.hasNewOrnament,n]),!a&&!r&&t&&be.createElement(be.Fragment,null,be.createElement("div",{"data-testid":"daily-checkin",className:wU()(e.root,g.dailyCheckinRoot)},i?.header&&be.createElement(DU,{header:i?.header}),i?.checkInStreakData&&be.createElement(PU,{dailyCheckinStreakData:i?.checkInStreakData})),be.createElement(kU,{waterDrops:HI(o),onDismiss:()=>{d(!1),s(!0)},open:l}))};var UV=a(93459);const VV=(0,gt.n)({bubble:{width:"56px",height:"56px",display:"flex",justifyContent:"center",alignItems:"center",cursor:"pointer",...It.Pt.borderRadius("50%"),backgroundRepeat:"no-repeat",backgroundSize:"contain"},bubbleTextNormal:{fontSize:"16px",fontWeight:"700",lineHeight:"20px",color:"#1F64CD",userSelect:"none",textShadow:"rgb(255, 255, 255) 0.5px 0.5px, rgb(255, 255, 255) -0.5px 0.5px, rgb(255, 255, 255) -0.5px -0.5px, rgb(255, 255, 255) 0.5px -0.5px, rgb(255, 255, 255) 0px 1px, rgb(255, 255, 255) 1px 0px, rgb(255, 255, 255) -1px 0px, rgb(255, 255, 255) 0px -1px, 2px 2px 8px rgba(0, 78, 169, 0.80)"},numberWithSuperior:{"&::after":{content:'"+"',fontSize:"10px",fontWeight:"700",lineHeight:"12px",color:"#0F6CBD",verticalAlign:"super"}},toolTip:{backgroundColor:"transparent",maxWidth:"120px",textAlign:"center",color:"#1F64CD",userSelect:"none",filter:"null",textShadow:"0.5px 0.5px #FFF, -0.5px 0.5px #FFF, -0.5px -0.5px #FFF, 0.5px -0.5px #FFF, 0 1px #FFF, 1px 0 #FFF, -1px 0 #FFF, 0 -1px #FFF"}}),zV=({waterDrop:e,onClick:t,animationStyles:a,bubbleStyles:i})=>{const r=VV(),o=SH(),[n,s]=be.useState(!1);if(be.useEffect((()=>{e&&Kn(nr,nr.WaterImpression)}),[]),!e)return null;const l=e?.score&&e?.score>jE,d=l?jE:e?.score;return be.createElement("div",{key:e?.id,className:a},be.createElement(Gc.m,{withArrow:!0,positioning:"below",visible:n,onVisibleChange:(t,a)=>s(a.visible&&!0===e?.displayEntry?.isDisplayTip),content:{children:be.createElement(UV.W,null,e?.displayEntry?.tip),className:r.toolTip},relationship:"description"},be.createElement("div",{key:e?.id,role:"button",tabIndex:0,className:(0,mt.z)(r.bubble,i&&i,o.boardWaterDropBubble),"data-testid":`bubble-${e?.id}`,onClick:e=>{s(!1),e?.stopPropagation(),e?.preventDefault(),t?.(e.currentTarget)},onKeyDown:e=>{"Enter"===e.key&&(s(!1),e?.stopPropagation(),e?.preventDefault(),t?.(e.currentTarget))}},be.createElement("span",{className:(0,mt.z)(r.bubbleTextNormal,l&&r.numberWithSuperior),"aria-label":Td.etreeWaterDropArialLable([d])},d))))},ZV={display:"block",animationDuration:"1600ms",animationTimingFunction:"ease-in-out",animationIterationCount:"1",animationFillMode:"forwards"},YV={animationTimingFunction:"ease-in-out",animationIterationCount:"infinite",animationName:{"0%":{transform:"translate(0px, 0px)"},"50%":{transform:"translate(0px, 6px)"},"100%":{transform:"translate(0px, 0px)"}}},QV=(0,gt.n)({layout:{position:"absolute",left:"calc(50% - 28px)",":nth-child(1)":{transform:"translate(0px, 0px)"},":nth-child(2)":{transform:"translate(106px, 20px)"},":nth-child(3)":{transform:"translate(-106px, 20px)"},":nth-child(4)":{transform:"translate(164px, 78px)"},":nth-child(5)":{transform:"translate(-164px, 78px)"}},0:{...ZV,animationName:{from:{transform:"rotate(0deg)"},to:{opacity:0,transform:"translate(0px, 112px) scale(0.7)"}}},1:{...ZV,animationName:{from:{transform:"rotate(0deg)"},to:{opacity:0,transform:"translate(-106px, 112px) scale(0.7)"}}},2:{...ZV,animationName:{from:{transform:"rotate(0deg)"},to:{opacity:0,transform:"translate(106px, 112px) scale(0.7)"}}},3:{...ZV,animationName:{from:{transform:"rotate(0deg)"},to:{opacity:0,transform:"translate(-164px, 112px) scale(0.7)"}}},4:{...ZV,animationName:{from:{transform:"rotate(0deg)"},to:{opacity:0,transform:"translate(164px, 112px) scale(0.7)"}}}}),jV=(0,gt.n)({0:{...YV,animationDuration:"2100ms"},1:{...YV,animationDuration:"2900ms"},2:{...YV,animationDuration:"2900ms"},3:{...YV,animationDuration:"2100ms"},4:{...YV,animationDuration:"2100ms"}}),KV=(e,t)=>t[e],qV=(0,gt.n)({waterDropsContainer:{height:"200px",position:"relative"}}),JV=()=>{const e=qV(),t=QV(),a=jV(),{data:i}=TH(),[r,o]=(0,be.useState)(Array.from(new Array(5))),{trigger:n,isMutating:s}=(0,cU.A)({apiId:sf.waterTree},RI,{throwOnError:!1,onSuccess:()=>{TI()}});(0,be.useEffect)((()=>{const e=r?.filter((e=>e?.waterDrop&&!0!==e?.isWateringTree&&!i?.find((t=>e?.waterDrop?.id===t?.id))));e?.length&&o((t=>t.map(((t,a)=>e?.find((e=>t?.waterDrop?.id===e?.waterDrop?.id))?{index:a,waterDrop:null}:t))))}),[i]),(0,be.useEffect)((()=>{const e=i?.filter((e=>!r?.find((t=>t?.waterDrop?.id===e?.id)))),t=r?.filter((e=>!e?.waterDrop));e?.length&&t?.length&&o((t=>t.map(((t,a)=>e?.length&&!t?.waterDrop?{index:a,waterDrop:e?.shift?.()}:t))))}),[i,r]);return be.createElement("div",{className:e.waterDropsContainer,"data-testid":"water-drops"},r?.map(((e,i)=>be.createElement("div",{key:e?.waterDrop?.id||i,className:t.layout},be.createElement(zV,{waterDrop:e?.waterDrop,onClick:t=>(async(e,t,a)=>{if(s)return;const i=t.waterDrops?.map((e=>e?.id));Kn(nr,nr.WaterTreeClicked);const r=await n({waterDropIds:i});r?.status===Af.Success?((e=>{const t=document.getElementById("e-tree-dialog-body");if(t){const a=t.querySelectorAll('a, button, input, textarea, select, [tabindex]:not([tabindex="-1"])'),i=Array.from(a),r=i.indexOf(e),o=i[(r+1)%i.length];o?.focus()}})(e),Kn(dr,dr.WaterTreeSuccess),o((e=>e.map(((e={})=>({...e,isWateringTree:e?.index===a||e?.isWateringTree}))))),setTimeout((()=>{o((e=>e.map(((e={})=>({...e,isWateringTree:e?.index!==a&&e?.isWateringTree,waterDrop:e?.index===a?null:e?.waterDrop})))))}),2e3)):Kn(dr,dr.WaterTreeFail)})(t,e?.waterDrop,i),animationStyles:KV(i,e?.isWateringTree?t:a)})))))},XV=e=>{const t=Number(e)%10;let a="";switch(Number(e)%100){case 11:case 12:case 13:a=Td.eTreeCertificateNormalRankTag([e.toLocaleString()]);break;default:switch(t){case 1:a=Td.eTreeCertificateFirstRankTag([e.toLocaleString()]);break;case 2:a=Td.eTreeCertificateSecondRankTag([e.toLocaleString()]);break;case 3:a=Td.eTreeCertificateThirdRankTag([e.toLocaleString()]);break;default:a=Td.eTreeCertificateNormalRankTag([e.toLocaleString()])}}return a},_V=e=>({...e,treeId:e.id,plantedUtcTimestamp:e.timestamp,displayRank:XV(Number(e.treeRank)),displayLocation:qE[e.address]??"unknown",displayType:JE[e.treeType]??"unknown"}),$V=(0,gt.n)({progressBar:{...It.Pt.borderRadius("100px"),...It.Pt.overflow("hidden"),[Ke.msHighContrast]:{backgroundColor:"highlightText"}},progressBarPercent:{...It.Pt.borderRadius("100px"),position:"relative",float:"left",height:"inherit",[Ke.msHighContrast]:{backgroundColor:"windowText"}},progressBarHightLight:{top:"2px",position:"absolute",right:"4px"},transitionWidth:{...It.Pt.transition("width","1s","0s","ease-in-out")},transtionClear:{...It.Pt.transition("width","0s","0s","ease-in-out")}}),ez=e=>{const t=$V(),a=SH(),[i,r]=be.useState("");return be.useEffect((()=>{r(`${(e=>e?e>100?100:e:0)(e?.progress)}%`)}),[e?.progress]),be.createElement("div",{className:(0,mt.z)(t.progressBar,a.boardTreeProgressBar,e.className)},be.createElement("span",{"data-testid":"progress-bar",style:{width:`${i}`},className:(0,mt.z)(t.progressBarPercent,a.boardTreeProgressBarPercent,e?.transitionOnWidth?t.transitionWidth:t.transtionClear)},function(e=null){return be.createElement("svg",{width:"3",height:"10",viewBox:"0 0 3 10",fill:"none",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",className:e},be.createElement("g",{style:{mixBlendMode:"lighten"},opacity:"0.2"},be.createElement("path",{d:"M1.1054 9.39941C0.495524 9.39941 0 8.89253 0 8.26867L0.314467 6.77726C0.619404 5.35409 0.590817 3.87243 0.238233 2.46875L0 1.50372C0 0.87986 0.495524 0.372975 1.1054 0.372975C1.71527 0.372975 2.2108 0.87986 2.2108 1.50372L2.44903 2.46875C2.80161 3.88217 2.8302 5.35409 2.52526 6.77726L2.2108 8.26867C2.20127 8.89253 1.70574 9.39941 1.1054 9.39941Z",fill:"url(#paint0_linear_1675_182725)"})),be.createElement("defs",null,be.createElement("linearGradient",{id:"paint0_linear_1675_182725",x1:"1.36603",y1:"1.37604",x2:"1.36603",y2:"8.67342",gradientUnits:"userSpaceOnUse"},be.createElement("stop",{offset:"0.0279",stopColor:"white"}),be.createElement("stop",{offset:"1",stopColor:"white",stopOpacity:"0.33"}))))}(t.progressBarHightLight)))};class tz extends be.Component{constructor(e){super(e),this._timeoutId=void 0,this.state={isRendered:!1}}componentDidMount(){const{delay:e}=this.props;this._timeoutId=window.setTimeout((()=>{this.setState({isRendered:!0})}),e)}componentWillUnmount(){this._timeoutId&&clearTimeout(this._timeoutId)}render(){return this.state.isRendered?be.Children.only(this.props.children):null}}function az(){return az=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},az.apply(null,arguments)}tz.defaultProps={delay:0};const iz=(0,gt.n)({screenReaderText:{position:"absolute",width:"1px",height:"1px",...It.Pt.margin("-1px"),...It.Pt.padding("0px"),...It.Pt.border(0),overflowX:"hidden",overflowY:"hidden",whiteSpace:"nowrap"}}),rz=e=>{const t=iz(),{message:a,as:i="div",className:r,...o}=e;return be.createElement(i,az({role:"status",className:r,"aria-live":"polite"},o),be.createElement(tz,null,be.createElement("div",{className:t.screenReaderText},a)))};var oz=a(49392);const nz=(0,gt.n)({treeContainer:{display:"flex",flexDirection:"column",alignItems:"center"},treeImage:{height:"200px",width:"200px",userSelect:"none"},treeInfo:{zIndex:1,display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.gap(St.L.spacingVerticalXXS)},progressBarContainer:{...It.Pt.gap("8px"),...It.Pt.padding("4px","12px"),...It.Pt.borderRadius("100px"),height:"20px",display:"flex",alignItems:"center"},progressBarTitle:{float:"left",height:"20px",textAlign:"center",fontStyle:"italic"},progressBar:{height:"14px",width:"111px",float:"right"}}),sz=()=>{const e=nz(),t=SH(),{data:a,isLoading:i}=oH(),[r,o]=be.useState(void 0),[n,s]=be.useState(void 0),[l,d]=be.useState(!1);return be.useEffect((()=>{d(a?.currentLevelProgress>r),o(a?.currentLevelProgress)}),[a?.currentLevelProgress]),be.useEffect((()=>{s((e=>!(0,oz.A)(e)))}),[a?.scoreToLevelUp]),!i&&be.createElement("div",{className:(0,mt.z)(e.treeContainer,t?.boardTreeContainer),"data-testid":"active-tree"},be.createElement(Tk._,{className:e.treeImage,src:a?.image,alt:Td.eTree(),"aria-hidden":!0}),be.createElement("div",{className:e.treeInfo},be.createElement("div",{className:(0,mt.z)(e.progressBarContainer,t.boardTreeProgressBarContainer)},be.createElement("div",{className:(0,mt.z)(e.progressBarTitle,t.boardTreeProgressBarTitle)},be.createElement(iD.Q,null,Td.eTreeLevelTitle([a?.level]))),be.createElement(ez,{className:e.progressBar,transitionOnWidth:l,progress:a?.currentLevelProgress})),be.createElement("div",{className:t.boardTreeLevelUpText},be.createElement(UV.W,null,Td.eTreePlantingProgressBarDescription([a?.scoreToLevelUp])))),n&&be.createElement(rz,{message:Td.etreePlantingProgressBarAnnounceArialLable([a?.scoreToLevelUp])}))},lz=(0,gt.n)({root:{height:"600px",width:"600px",maxWidth:"600px",position:"relative",...It.Pt.borderWidth("0px"),...It.Pt.borderRadius("8px")}}),dz=e=>{const t=lz();return be.createElement("div",{className:(0,mt.z)(t.root,e?.className)},e.children)};var cz=a(54527);const pz=()=>(0,cU.A)({apiId:sf.startAnotherTree},FI,{throwOnError:!1,onSuccess:()=>{TI()}}),gz=(0,gt.n)({root:{display:"flex",alignItems:"center",width:"276px"},microsoftWithEden:{backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"60.76px",height:"12px",marginInlineStart:"28px",paddingInlineEnd:"8px",marginInlineEnd:"8px",borderInlineEndColor:"#ffffff",borderInlineEndWidth:"1px",borderInlineEndStyle:"solid"},eden:{backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"143px",height:"14px"},microLogoWithPPC:{backgroundRepeat:"no-repeat",backgroundSize:"contain",width:"81.01px",height:"16px",marginInlineStart:"28px"},ppcLogo:{backgroundSize:"contain",backgroundRepeat:"no-repeat",width:"67.2px",height:"24px",marginInlineStart:"77.99px"}}),mz=e=>{const t=gz();return be.createElement("div",{className:(0,mt.z)(t.root,e.className)},be.createElement("span",{style:{backgroundImage:`url(${e?.microsoftLogoUrl})`},className:e?.organization===EE.PPC?t.microLogoWithPPC:t.microsoftWithEden}),be.createElement("span",{style:{backgroundImage:`url(${e?.partnerLogoUrl})`},className:e?.organization===EE.PPC?t.ppcLogo:t.eden}))},uz=(0,be.createContext)(null);const Cz={getString:(e,t)=>t??e,valueExists:e=>!1};function hz(e){return function(e,t,a=!1){return i=>function(e,t,a=!1){const i=!!e.values&&e.values.every((e=>"string"==typeof e||"number"==typeof e));let r;if(r=a||!0!==t?.valueExists(e.id)?e.defaultMessage:t?.getString(e.id)??e.defaultMessage,!e.values)return r;try{return i?r.replace(/\$(.|$|\n)/g,(function(t){return"$$"===t?"$":Number(t[1])>0?e.values?.[Number(t[1])-1]:""})):(o=r,n=e.values,function(e,t,a,i){const r=(e.match(/(\$[1-9])|(([^$]|\$([^1-9]|$))+)/g)||[]).map((t=>{if(!t.match(/^\$[1-9]$/)){if((t.match(/\$/g)||[]).length%2!=0)throw new Error(`Unescaped $ found in localized string "${e}".`);const r=t.replace(/\$\$/g,"$");return{value:a?a(r,i):r,arg:null}}return{value:(r=parseInt(t[1],10)-1,n[r]),arg:t};var r}));return be.createElement(be.Fragment,null,r.map(((e,t)=>be.createElement(be.Fragment,{key:t},e.value))))}(o,0,s,l))}catch(t){return console.error(`Error when replacing ${JSON.stringify(e)}:\r\n ${t}`),r}var o,n,s,l}({...e,values:i},t,a)}(e,Cz)}const Ez={eTreeSharedCertificateTitle:hz({id:"eTreeSharedCertificateTitle",defaultMessage:"E-tree Certificate"}),eTreeSharedCertificateContent:hz({id:"eTreeSharedCertificateContent",defaultMessage:"Your tree will be the $1 tree planted with $2 in $3."})},fz=(Object.keys(Ez),(0,gt.n)({certificate:{width:"276px",height:"352px",color:"white",backgroundSize:"276px 352px",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",flexDirection:"column"},certificateImage:{marginBlockStart:"24px",width:"132.15px",height:"100px",backgroundSize:"cover",backgroundRepeat:"no-repeat",display:"flex",alignItems:"center",flexDirection:"column"},certificateImageRank:{marginBlockStart:"73px",color:"rgba(255, 255, 255)"},certificateTitle:{marginBlockStart:"8px"},certificateContentSection:{display:"flex",flexDirection:"column",width:"220px",marginBlockStart:"12px",...It.Pt.gap("12px")},certificateContentSectionPPC:{display:"flex",flexDirection:"column",width:"220px",marginBlockStart:"20px",...It.Pt.gap("16px")},certificateContent:{color:"rgba(255, 255, 255, 0.7)",width:"220px",textAlign:"left"},certificateContentRank:{color:"rgba(255, 255, 255)"},certificateItemSection:{...It.Pt.gap("2px")},certificateItemRow:{alignItems:"flex-start",height:"20px"},certificateItemTitle:{color:"rgba(255, 255, 255, 0.7)"},certificateItemContent:{paddingInlineStart:"8px"},logoSection:{marginBlockStart:"auto",marginBlockEnd:"20px"},microsoftLogo:{width:"60.76px",height:"12px",paddingInlineEnd:"8px",marginInlineEnd:"8px"},edenLogo:{width:"143px",height:"14px"}})),Iz=e=>{const t=fz(),{tree:a,images:i,strings:r}=e,{getStaticAssetUrl:o}=(0,be.useContext)(uz),n=be.useMemo((()=>(e=>({...e,displayEarnedDate:If(e.timestamp)}))(a)),[a]),s=be.useMemo((()=>({backgroundImageUrl:i?.backgroundImageUrl??o(VE),treeImageUrl:i?.treeImageUrl??o(a?.organization===EE.PPC?BE:WE),microsoftLogoUrl:i?.microsoftLogoUrl??o(GE),organizationLogoUrl:i?.organizationLogoUrl??o(a?.organization===EE.PPC?UE:HE)})),[o,i?.backgroundImageUrl,i?.microsoftLogoUrl,i?.organizationLogoUrl,i?.treeImageUrl,a?.organization]),l=be.useMemo((()=>({title:r?.title??Ez.eTreeSharedCertificateTitle(),description:r?.description,typeItemTitle:r?.typeItemTitle,locationItemTitle:r?.locationItemTitle,earnedDateItemTitle:r?.earnedDateItemTitle??"Certificate earned:"})),[r?.description,r?.earnedDateItemTitle,r?.locationItemTitle,r?.title,r?.typeItemTitle]);return be.createElement("div",{style:{backgroundImage:`url(${s.backgroundImageUrl})`},className:t.certificate},be.createElement("div",{style:{backgroundImage:`url(${s.treeImageUrl})`},className:t.certificateImage},a?.organization===EE.PPC&&be.createElement(UV.W,{className:t.certificateImageRank},n?.displayRank)),be.createElement(NA.M,{className:t.certificateTitle},l?.title),be.createElement("div",{className:a?.organization===EE.PPC?t.certificateContentSectionPPC:t.certificateContentSection},be.createElement(hm.c,{className:t.certificateContent},l?.description),be.createElement("div",{className:t.certificateItemSection},a?.organization===EE.Eden&&be.createElement("div",{className:t.certificateItemRow},be.createElement(hm.c,{className:t.certificateItemTitle},l?.typeItemTitle),be.createElement(ph.V,{className:t.certificateItemContent},n?.displayType)),a?.organization===EE.Eden&&be.createElement("div",{className:t.certificateItemRow},be.createElement(hm.c,{className:t.certificateItemTitle},l?.locationItemTitle),be.createElement(ph.V,{className:t.certificateItemContent},n?.displayLocation)),a?.organization===EE.PPC&&be.createElement("div",{className:t.certificateItemRow},be.createElement(hm.c,{className:t.certificateItemTitle},l?.earnedDateItemTitle),be.createElement(ph.V,{className:t.certificateItemContent},n?.displayEarnedDate)))),be.createElement(mz,{organization:a?.organization,className:t.logoSection,microsoftLogoUrl:s.microsoftLogoUrl,partnerLogoUrl:s.organizationLogoUrl}))};function Sz(){return Sz=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},Sz.apply(null,arguments)}const kz=(0,gt.n)({mask:{},container:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between",height:"468px",width:"600px",...It.Pt.gap("32px")},containerOneButton:{...It.Pt.padding("32px","0","0"),height:"436px"},certificate:{},certificateContentRank:{color:"rgba(255, 255, 255)"},buttonArea:{display:"flex",alignItems:"center",flexDirection:"column",...It.Pt.gap("12px"),zIndex:"inherit","& > button":{width:"180px",height:"36px"}}}),Az=(0,be.forwardRef)((({tree:e,isShowPlantAnotherTree:t,onClickGotIt:a,onClickPlantAnotherTree:i,isProcessing:r,overrideClasses:o},n)=>{const s=kz();return be.createElement("div",{ref:n,className:t?(0,mt.z)(s.container,o?.container):(0,mt.z)(s.container,s.containerOneButton,o?.container)},be.createElement(Iz,{tree:e,strings:{title:Td.eTreeCertificateTitle(),typeItemTitle:Td.eTreeCertificateTypeTitle(),locationItemTitle:Td.eTreeCertificateLocationTitle(),description:Td.eTreeCertificateContent([be.createElement(hm.c,{key:"rank",className:s.certificateContentRank},e?.displayRank),Td.eTreeOrganizationMicrosoft(),e?.displayLocation])}}),be.createElement("div",{className:s.buttonArea},be.createElement(gU,{isNeedFocus:!0,onClick:a,"data-testid":"got-it-button","aria-label":Td.eTreeGotItButtonLabel()},Td.eTreeGotItButtonLabel()),t&&be.createElement(gU,{isProcessing:r,mode:rU.Secondary,onClick:i,"data-testid":"plant-another-tree-button","aria-label":Td.eTreePlantAnotherTreeButtonLabel()},Td.eTreePlantAnotherTreeButtonLabel())))})),yz=e=>{const t=kz(),a=SH(),{setETreePage:i}=nU(),{hideETreeDialog:r}=lU(),{trigger:o}=pz(),{isValidating:n}=oH(),[s,l]=be.useState(!1),[d,c]=be.useState(!1);return be.useEffect((()=>{Kn(sr,sr.ViewCertificateImpression),Kn(sr,sr.ViewCertificateGotItImpression),e.isShowPlantAnotherTree&&Kn(sr,sr.ViewCertificatePlantImpression)}),[]),be.useEffect((()=>{s&&!n&&r()}),[s,n]),be.createElement(zU,{className:(0,mt.z)(t.mask,a.certificateMaskBackground,e.isShowPlantAnotherTree?a.certificateMaskBackgroundShowPlantAnotherTree:void 0)},be.createElement(Az,Sz({onClickGotIt:()=>{Kn(sr,sr.ViewCertificateGotItClicked),r(),e.isShowPlantAnotherTree&&i(aU.Certificate)},onClickPlantAnotherTree:async()=>{c(!0),Kn(sr,sr.ViewCertificatePlantClicked);const e=await o({});e?.status===Af.Success?(Kn(dr,dr.StartAnotherTreeSuccess),setTimeout((()=>{l(!0)}),100)):(Kn(dr,dr.StartAnotherTreeFail),c(!1))},isProcessing:d},e)))},wz=e=>{const{theme:t}=cH(),a=zH[t]??HH;return()=>{const t=a[e]||{},i=Object.values(t);return vH(i.filter((e=>!!e)))}},bz=(0,gt.n)({root:{...It.Pt.gap("32px")},content:{display:"flex",alignItems:"center",flexDirection:"column",width:"376px",height:"304PX",...It.Pt.gap("16px")},contentFullLevel:{...It.Pt.gap("32px")},levelUpImage:{width:"376px",height:"176px",display:"flex",justifyContent:"center",backgroundImage:`url(${tg("hub/etree/milestone-bubble.png")})`,backgroundSize:"cover",userSelect:"none","& > img":{alignSelf:"center",width:"92.44px",height:"90px",userSelect:"none"}},levelUpText:{width:"376px",height:"112px",display:"content",textAlign:"center",...It.Pt.gap("24px")},title:{height:"22px",color:"#FFFFFF"},subTitle:{height:"22px",color:"rgba(255, 255, 255, 0.6)",marginBlockStart:"4px"},subTitleLevel:{backgroundClip:"text",WebkitTextFillColor:"transparent","-webkit-background-clip":"text"},description:{height:"40px",marginBlockStart:"24px",color:"#FFFFFF99"},illustrationImage:{width:"600px",height:"64px",objectFit:"cover",userSelect:"none"},bottomButton:{width:"180px",height:"36px"}}),Tz=e=>{const t=bz(),{setETreeDialog:a,hideETreeDialog:i}=lU(),{trigger:r,isMutating:o}=(0,cU.A)({apiId:sf.plantTree},LI,{throwOnError:!1,onSuccess:()=>{TI()}}),n=SH(),s=wz(lH.Certificate),l=(0,be.useMemo)((()=>(Ef(e.level)&&s(),Ef(e.level))),[e.level]);return be.useEffect((()=>{Kn(lr,lr.MilestoneImpression)}),[]),be.createElement(zU,{className:(0,mt.z)(t.root,n.milestoneBackground)},be.createElement("div",{className:l?(0,mt.z)(t.content,t.contentFullLevel):t.content},be.createElement("div",{className:t.levelUpImage},be.createElement(Tk._,{src:ff(e.level),alt:Td.eTreeLevelTitle([e.level]),"aria-hidden":!0})),be.createElement("div",{className:t.levelUpText},be.createElement("div",{className:t.title},be.createElement(cz.F,null,Td.eTreeMilestoneTitle())),be.createElement("div",{className:t.subTitle},be.createElement(RR.j,null,Td.eTreeMilestoneSubTitle([be.createElement(cz.F,{key:"level",className:(0,mt.z)(t.subTitleLevel,n.milestoneSubTitleLevel)},Td.eTreeLevelTitle([e.level]))]))),!l&&be.createElement("div",{className:t.description},be.createElement(hm.c,null,Td.eTreeMilestoneDescription([be.createElement("br",{key:"br"})]))))),be.createElement(Tk._,{className:t.illustrationImage,src:tg("hub/etree/milestone-illustration.png"),alt:"","aria-hidden":!0}),be.createElement("div",null,l?be.createElement(gU,{isNeedFocus:!0,isProcessing:o,onClick:async()=>{Kn(mr,mr.ViewCertificateClicked);const e=await r({});if(e?.status===Af.Success){Kn(dr,dr.PlantTreeSuccess);const t=_V(e.etreeTree);a(be.createElement(yz,{tree:t,isShowPlantAnotherTree:!0}))}else Kn(dr,dr.PlantTreeFail)},className:t.bottomButton,"data-testid":"plant-button","aria-label":Td.eTreeCheckCertificateButtonLabel()},Td.eTreeCheckCertificateButtonLabel()):be.createElement(gU,{isNeedFocus:!0,onClick:()=>{Kn(mr,mr.GotItClicked),i()},className:t.bottomButton,"data-testid":"back-button","aria-label":Td.eTreeGotItButtonLabel()},Td.eTreeGotItButtonLabel())))},Pz=(0,gt.n)({root:{position:"absolute",top:"24px",left:"24px",display:"flex",alignItems:"center",height:"28px",...It.Pt.gap("8px")},icon:{backgroundRepeat:"no-repeat",backgroundSize:"cover"},nameContainer:{display:"flex",alignItems:"center",maxWidth:"444px",...It.Pt.gap("4px")},nameInput:{maxWidth:"180px",backgroundColor:"transparent",...It.Pt.border(0),...It.Pt.padding(0),...It.Pt.outline(0),fontFamily:St.L.fontFamilyBase,fontSize:St.L.fontSizeBase500,fontWeight:St.L.fontWeightSemibold,lineHeight:St.L.lineHeightBase500,"::after":{borderBottomWidth:"0px"},"&>input":{...It.Pt.padding(0)}},iconButton:{...It.Pt.padding("4px"),...It.Pt.borderRadius("4px")},editButton:{},confirmButton:{marginInlineStart:"16px"}}),Mz=()=>{const e=Pz(),t=SH(),a=(0,$T.Bi)("input"),i=(0,be.useRef)(null),r=(0,be.useRef)(null),{data:o,isLoading:n}=oH(),[s,l]=be.useState(!1),[d,c]=be.useState(""),{trigger:p,error:g}=(0,cU.A)({apiId:sf.changeEtreeName},vI,{throwOnError:!1,onSuccess:()=>{TI()}});(0,be.useEffect)((()=>{c(o?.name)}),[o?.name,g]),(0,be.useEffect)((()=>{i.current&&i.current.focus()}),[]),(0,be.useEffect)((()=>{s&&r.current&&r.current.focus()}),[s]);const m=async()=>{if(Kn(nr,nr.RenameTreeConfirmed),(0,Ti.A)(d)||(0,Ti.A)(d.trim()))return c(o?.name),void l(!1);const e=await p({newName:d});e?.status===Af.Success?Kn(dr,dr.RenameTreeSuccess):Kn(dr,dr.RenameTreeFail),l(!1)};return!n&&be.createElement("div",{className:e.root,"data-testid":"tree-name"},be.createElement("div",{className:(0,mt.z)(e.icon,t.boardTreeNameIcon)}),s?be.createElement("div",{className:e.nameContainer},be.createElement(Ac.p,{id:a,ref:r,className:(0,mt.z)(e.nameInput,t.boardTreeNameInput),value:d,maxLength:16,onChange:(e,t)=>{t.value.length<=16&&c(t.value)},onKeyDown:e=>{"Enter"===e.key&&m()},"aria-label":Td.eTreeNameEditButtonLabel()}),be.createElement(ai.$,{className:(0,mt.z)(e.iconButton,e.confirmButton,t.boardTreeNameInputButton),appearance:"transparent","data-testid":"confirm-button","aria-label":Td.eTreeNameConfirmButtonLabel(),onClick:m,icon:be.createElement(oS.orE,null)})):be.createElement("div",{className:e.nameContainer},be.createElement(NA.M,{"aria-label":Td.eTreeNameLabel(),className:t.boardTreeNameText},d),be.createElement(ai.$,{className:(0,mt.z)(e.iconButton,e.editButton,t.boardTreeNameInputButton),appearance:"transparent","data-testid":"edit-button","aria-label":Td.eTreeNameEditButtonLabel(),onClick:()=>{Kn(nr,nr.RenameTreeClicked),l(!0)},icon:be.createElement(UC.ISY,null),ref:i})))},Dz={[aU.Enroll]:iU.Dark,[aU.Board]:iU.Light,[aU.Guidebook]:iU.Light,[aU.Certificate]:iU.Light,[aU.Milestone]:iU.Dark,[aU.Loading]:iU.Light},Nz={[aU.Enroll]:iU.Dark,[aU.Board]:iU.Dark,[aU.Guidebook]:iU.Dark,[aU.Certificate]:iU.Dark,[aU.Milestone]:iU.Dark,[aU.Loading]:iU.Dark},xz={[aU.Enroll]:iU.Light,[aU.Board]:iU.Light,[aU.Guidebook]:iU.Light,[aU.Certificate]:iU.Light,[aU.Milestone]:iU.Light,[aU.Loading]:iU.Light,[aU.ChristmasBoard]:iU.Light},Rz={[sH.Halloween]:Nz,[sH.Christmas]:xz,[sH.Default]:Dz},vz=(0,gt.n)({root:{position:"absolute",zIndex:1,width:"100%",height:"100%",display:"flex",flexDirection:"column",...It.Pt.borderRadius("8px")},spinnerContainer:{...It.Pt.marginBlock("auto")}}),Lz=()=>{const e=vz(),t=kH(),a=(e=>{const{theme:t,cacheTheme:a}=cH();return void 0!==t?Rz[t]?.[e]??iU.Light:void 0!==a?Rz[a]?.[e]??iU.Light:iU.Light})(aU.Loading);return be.createElement("div",{className:(0,mt.z)(e.root,t.loadingMask),"data-testid":"e-tree-modal-loading"},be.createElement(tu.y,{className:e.spinnerContainer,appearance:a===iU.Dark?"inverted":"primary",size:"huge",labelPosition:"below",label:Td.eTreeModalLoading(),spinner:{className:t.loadingSpinner}}))},Fz=(0,gt.n)({button:{width:"46px",height:"46px",marginBlockStart:"12px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundSize:"contain",display:"flex",justifyContent:"center",alignItems:"center"},image:{width:"24px",height:"24px",objectFit:"contain",userSelect:"none"}}),Oz=e=>{const t=Fz(),a=SH(),{setETreePage:i}=nU(),r=wz(lH.Guidebook),o=wz(lH.Certificate),n=()=>{Kn(nr,nr.CertificateIconClicked),i(aU.Certificate)},s=()=>{Kn(nr,nr.GuideBookIconClicked),i(aU.Guidebook)};return be.createElement("div",{className:e.className},be.createElement("div",{className:(0,mt.z)(t.button,a.boardLeftNavButton),"data-testid":"certificate-button","aria-label":Td.eTreeCertificate(),role:"button",tabIndex:0,onClick:n,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),n())},onFocus:o,onMouseOver:o},be.createElement(Tk._,{className:t.image,alt:"",fit:"center","aria-hidden":!0,src:tg("hub/etree/board-button-certificate-icon.png")})),be.createElement("div",{className:(0,mt.z)(t.button,a.boardLeftNavButton),"data-testid":"guidebook-button","aria-label":Td.eTreeGuidebook(),role:"button",tabIndex:0,onClick:s,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),s())},onMouseEnter:()=>{r()}},be.createElement(Tk._,{className:t.image,alt:"",fit:"center","aria-hidden":!0,src:tg("hub/etree/board-button-guidebook-icon.png")})),se&&be.createElement("div",{className:(0,mt.z)(t.button,a.boardLeftNavButton),"data-testid":"photo-button","aria-label":Td.eTreeGuidebook(),role:"button",tabIndex:0,onClick:()=>{i(aU.OnsitePhotos)},onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),i(aU.OnsitePhotos))},onMouseEnter:()=>{}},be.createElement(Tk._,{className:t.image,alt:"",fit:"center","aria-hidden":!0,src:tg("hub/etree/board-button-guidebook-icon.png")})))},Bz=()=>{const e=SH(),t=WV();return void 0===t?null:be.createElement("div",null,t?.treeTopLeftSlot&&be.createElement("div",{className:e.treeTopLeftSlot},t?.treeTopLeftSlot),t?.treeTopRightSlot&&be.createElement("div",{className:e.treeTopRightSlot},t?.treeTopRightSlot),t?.treeMiddleSlot&&be.createElement("div",{className:e.treeMiddleSlot},t?.treeMiddleSlot),t?.treeBottomLeftSlot&&be.createElement("div",{className:e.treeBottomLeftSlot},t?.treeBottomLeftSlot),t?.treeBottomRightSlot&&be.createElement("div",{className:e.treeBottomRightSlot},t?.treeBottomRightSlot))},Wz=(0,gt.n)({board:{height:"100%",...It.Pt.paddingInline("24px"),overflowY:"hidden",overflowX:"hidden",...It.Pt.borderRadius("8px"),display:"grid"},treeSection:{display:"flex",marginBlockStart:"68px"},leftNavBar:{width:"46px",flexGrow:"0",flexShrink:"0",zIndex:"1"},mainContent:{flexGrow:"1",height:"314px",marginInlineEnd:"46px",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",position:"relative"},etreeWaterDropsContainer:{width:"100%",height:"260px",position:"absolute",top:"0px",left:"0px"},etreeActiveTreeContainer:{position:"absolute",top:"60px",width:"auto",height:"256px"},taskSection:{width:"552px",marginBlockStart:"auto",marginBlockEnd:"24px",display:"inline-flex",flexDirection:"column",alignItems:"center",...It.Pt.gap("8px")}}),Gz=()=>{const e=Wz(),t=SH(),{setETreeDialog:a}=lU(),{data:i,isLoading:r}=oH(),[o,n]=be.useState(void 0);return(0,be.useEffect)((()=>{i?.isFinalLevel&&i?.hasPlantingTree&&a(be.createElement(Tz,{level:KE}))}),[i?.hasPlantingTree,i?.isFinalLevel]),(0,be.useEffect)((()=>{var e,t;n(i?.level),1==(e=o,t=i?.level,0!==e&&t!==df&&t>e)&&a(be.createElement(Tz,{level:i?.level}))}),[i?.level]),(0,be.useEffect)((()=>{Kn(lr,lr.BoardImpression)}),[]),be.createElement(dz,{className:t.boardBackground},r&&be.createElement(Lz,null),be.createElement("div",{className:(0,mt.z)(e.board,t.boardBackgroundEffectLayer),"data-testid":"e-tree-board"},be.createElement(Mz,null),be.createElement("div",{className:(0,mt.z)(e.treeSection)},be.createElement(Oz,{className:e.leftNavBar}),be.createElement("div",{className:e.mainContent},be.createElement(Bz,null),be.createElement("div",{className:e.etreeWaterDropsContainer},be.createElement(JV,null)),be.createElement("div",{className:e.etreeActiveTreeContainer},be.createElement(sz,null)))),be.createElement("div",{className:(0,mt.z)(e.taskSection,t.boardTaskEffectLayer)},be.createElement(HV,null),be.createElement(IU,null))))},Hz=()=>w.valueExists("locale")?w.getString("locale")?.toLocaleLowerCase?.():"en-us",Uz=(0,gt.n)({guidebookSection:{height:"100%",display:"flex",flexDirection:"column",...It.Pt.paddingInline("24px")},guidebookHeader:{position:"absolute",display:"flex",top:"24px",left:"24px","& > button":{...It.Pt.padding("4px")}},content:{flexGrow:"1",borderTopLeftRadius:"8px",borderTopRightRadius:"8px",...It.Pt.paddingInline("48px"),marginBlockStart:"68px"},title:{display:"block",marginBlockStart:"24px",marginBlockEnd:"8px",textAlign:"center"},stepList:{...It.Pt.paddingInline("0px"),...It.Pt.marginBlock("0")},stepRow:{height:"72px",display:"flex",alignItems:"center",justifyContent:"space-between",overflowY:"hidden","&:first-child > div::before":{display:"none"},"&:last-child > div::after":{display:"none"}},stepContent:{display:"flex",alignItems:"flex-start",position:"relative","::before":{content:'""',width:"1px",height:"72px",borderLeftWidth:"1px",borderLeftStyle:"dashed",position:"absolute",left:"8px",top:"-78px"},"::after":{content:'""',width:"1px",height:"72px",borderLeftWidth:"1px",borderLeftStyle:"dashed",position:"absolute",left:"8px",top:"26px"}},stepDot:{width:"16px",height:"16px",flexGrow:"0",flexShrink:"0",marginInlineEnd:"24px",marginBlockStart:"2px",backgroundRepeat:"no-repeat"},stepNumber:{marginInlineEnd:"8px"},stepText:{width:"228px"},stepImage:{width:"72px",height:"72px",userSelect:"none"},tipContent:{display:"flex",flexDirection:"column",...It.Pt.borderRadius("8px"),...It.Pt.paddingInline("12px"),...It.Pt.paddingBlock("12px"),marginBlockStart:"4px"},tipTitle:{backgroundRepeat:"no-repeat",backgroundSize:"16px 16px",backgroundPositionY:"2px",paddingInlineStart:"20px",backgroundImage:`url(${tg("hub/etree/guidebook-tip-icon.png")})`},tipList:{paddingInlineStart:"20px",marginBlockStart:"4px",marginBlockEnd:"0px"},tipText:{},question:{display:"flex",justifyContent:"space-between",marginBlockStart:"32px"},questionFAQ:{"& svg":{verticalAlign:"sub",marginInlineStart:"4px"}}}),Vz=()=>{const e=Uz(),t=SH(),{setETreePage:a}=nU(),i=(0,$T.Bi)("step1"),r=(0,$T.Bi)("step2"),o=(0,$T.Bi)("step3"),n=(0,$T.Bi)("step4"),s=(0,be.useMemo)((()=>[{id:i,text:Td.eTreeGuidebookStepOne(),imageUrl:tg("hub/etree/guidebook-step-1.png")},{id:r,text:Td.eTreeGuidebookStepTwo(),imageUrl:tg("hub/etree/guidebook-step-2.png")},{id:o,text:Td.eTreeGuidebookStepThree(),imageUrl:tg("hub/etree/guidebook-step-3.png")},{id:n,text:Td.eTreeGuidebookStepFour(),imageUrl:tg("hub/etree/guidebook-step-4.png")}]),[i,r,o,n]);(0,be.useEffect)((()=>{Kn(lr,lr.GuidebookImpression)}),[]);const l=be.useRef(null);return(0,be.useEffect)((()=>{l.current&&l.current.focus()}),[]),be.createElement(dz,{className:t.guidebookBackground},be.createElement("div",{className:e.guidebookSection,"data-testid":"e-tree-guidebook"},be.createElement("div",{className:(0,mt.z)(e.guidebookHeader,t.guidebookHeader)},be.createElement(ai.$,{ref:l,appearance:"transparent","data-testid":"back-board-button","aria-label":Td.eTreeBackButton([Td.eTreeBoard()]),onClick:()=>{Kn(gr,gr.GuideBookBackClicked),a(aU.Board)},icon:be.createElement(oS.nbA,null)}),be.createElement(NA.M,null,Td.eTreeGuidebook())),be.createElement("div",{className:(0,mt.z)(e.content,t.guidebookContent)},be.createElement(NA.M,{className:(0,mt.z)(e.title,t.guidebookContentTitle)},Td.eTreeGuidebookTitle()),be.createElement("ul",{className:e.stepList},s.map(((a,i)=>be.createElement("li",{className:e.stepRow,key:a.id,id:a.id,"aria-label":`${Td.eTreeGuidebookStep([i+1])}: ${a.text}`,"aria-labelledby":`${a.id}-number ${a.id}-text`},be.createElement("div",{className:(0,mt.z)(e.stepContent,t.guidebookStepContent)},be.createElement("span",{className:(0,mt.z)(e.stepDot,t.guidebookStepDot)}),be.createElement(ph.V,{className:(0,mt.z)(e.stepNumber,t.guidebookStepNumber),id:`${a.id}-number`},Td.eTreeGuidebookStep([i+1])),be.createElement(hm.c,{className:(0,mt.z)(e.stepText,t.guidebookStepText),id:`${a.id}-text`},a.text)),be.createElement(Tk._,{className:e.stepImage,src:a.imageUrl,alt:"","aria-hidden":!0}))))),be.createElement("div",{className:(0,mt.z)(e.tipContent,t.guidebookTipContent)},be.createElement(ph.V,{className:(0,mt.z)(e.tipTitle,t.guidebookTipTitle)},Td.eTreeGuidebookTipsTitle()),be.createElement("ul",{className:e.tipList},be.createElement("li",{className:e.tipText},be.createElement(Nm.M,null,Td.eTreeGuidebookTipsOne())),be.createElement("li",{className:e.tipText},be.createElement(Nm.M,null,Td.eTreeGuidebookTipsTwo())))),be.createElement("div",{className:e.question},be.createElement(hm.c,{className:t.guidebookQuestionText},Td.eTreeGuidebookAnyQuestion()),be.createElement(hm.c,{className:t.guidebookQuestionText},Td.eTreeGuidebookSeeFAQ([be.createElement(fm.N,{target:"_blank",className:(0,mt.z)(e.questionFAQ,t.guidebookQuestionFAQ),onClick:()=>{Kn(gr,gr.GuideBookFAQClicked);const e=`https://support.microsoft.com/${Hz()}/topic/faq-for-e-tree-on-microsoft-edge-and-microsoft-weather-d6fde56e-b61d-4990-bd69-7a503ed64895`;window.open(e,"_blank")}},Td.eTreeGuidebookFAQ(),be.createElement(hg.Fqy,null))]))))))},zz=()=>(0,cU.A)({apiId:sf.createEtreeUser},MI,{throwOnError:!1,onSuccess:()=>{TI()}}),Zz=(0,gt.n)({root:{display:"flex",alignItems:"center",justifyContent:"center"},microsoft:{backgroundImage:`url(${tg("hub/etree/microsoft-logo.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",borderInlineEndColor:"#ffffff",borderInlineEndWidth:"1px",borderInlineEndStyle:"solid"},eden:{backgroundImage:`url(${tg("hub/etree/eden-logo.png")})`,backgroundSize:"contain",backgroundRepeat:"no-repeat"}}),Yz=e=>{const t=Zz();return be.createElement("div",{className:(0,mt.z)(t.root,e.className)},be.createElement("span",{className:(0,mt.z)(t.microsoft,e.microsoftStyle)}),be.createElement("span",{className:(0,mt.z)(t.eden,e.edenStyle)}))},Qz=(0,gt.n)({enrollSection:{width:"600px",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.borderRadius("8px")},treeSeedBubble:{width:"120px",height:"120px",display:"flex",alignItems:"center",justifyContent:"center",marginBlockStart:"100px",position:"relative",...It.Pt.borderRadius("50%"),backgroundRepeat:"no-repeat",backgroundSize:"contain"},treeImage:{width:"64px",height:"64px"},title:{color:"#ffffff",textAlign:"center",marginBlockStart:"52px"},description:{width:"480px",textAlign:"center",marginBlockStart:"8px",color:"rgba(255, 255, 255, 0.7)"},enrollButton:{width:"178px",height:"36px",marginBlockStart:"52px"},logoSection:{marginBlockStart:"auto",marginBlockEnd:"24px"},microsoftLogo:{width:"65px",height:"13px",paddingInlineEnd:"10px",marginInlineEnd:"10px"},edenLogo:{width:"166px",height:"16px"}}),jz=()=>{const e=Qz(),t=SH(),{setETreePage:a}=nU(),{trigger:i,isMutating:r}=zz(),{data:o,isLoading:n}=nH(),s=QI();return be.useEffect((()=>{n||o||Kn(lr,lr.EnrollImpression)}),[n,o]),be.createElement(dz,{className:t.enrollBackground},n&&be.createElement(Lz,null),be.createElement("div",{className:(0,mt.z)(e.enrollSection,t.enrollBackgroundEffectLayer),"data-testid":"e-tree-enroll"},be.createElement("div",{className:(0,mt.z)(e.treeSeedBubble,t.enrollSeedBubble)},be.createElement(LE,{className:e.treeImage,alt:Td.eTree()})),be.createElement(Jv.K,{className:e.title},Td.eTreeEnrollTitle()),be.createElement(RR.j,{className:e.description},Td.eTreeEnrollDescription()),be.createElement(gU,{isProcessing:r,onClick:async()=>{const e=Hz(),t=(new Date).getTimezoneOffset();Kn(cr,cr.GetStartedClicked);const r=await i({market:e,timezoneOffset:t,disabledFeatures:s});r?.isEnrolled?(Kn(dr,dr.EnrollSuccess),a(aU.Board)):Kn(dr,dr.EnrollFail)},className:e.enrollButton,"data-testid":"enroll-button","aria-label":Td.eTreeEnrollButton()},Td.eTreeEnrollButton()),be.createElement(Yz,{className:e.logoSection,microsoftStyle:e.microsoftLogo,edenStyle:e.edenLogo})))},Kz=e=>{const t=(e=>(0,yI.Ay)((e=>(0,Ti.A)(e)?null:{apiId:sf.getEtreeTrees,treeIds:e})(e),(e=>EI(e?.treeIds))))(e);return{data:t.data?.trees,isLoading:t?.isLoading,isValidating:t?.isValidating,error:t?.error}},qz=(0,gt.n)({card:{width:"141px",height:"154px",alignItems:"center",display:"flex",flexDirection:"column",...It.Pt.gap("8px")},certButton:{...It.Pt.padding("0")},certImage:{width:"141px",height:"106px",objectFit:"contain",userSelect:"none"},certData:{display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.gap("4px")},rank:{height:"20px"},location:{height:"16px","& svg":{verticalAlign:"middle",marginInlineEnd:"4px"}},progressText:{height:"20px"},progressBar:{height:"12px",width:"106px",float:"right",backgroundColor:"rgba(0, 0, 0, 0.2)"}}),Jz=e=>{const t=qz(),a=SH(),i=(0,be.useMemo)((()=>e.isCompleted),[e.isCompleted]),r=(0,be.useRef)(null),{eTreeDialog:o,setETreeDialog:n}=lU();return(0,be.useEffect)((()=>{null===o&&r.current&&r.current.focus()}),[o]),i?be.createElement("div",{className:(0,mt.z)(t.card,a.certificateCard),"data-testid":"e-tree-certificate-card-completed"},be.createElement(ai.$,{appearance:"transparent","data-testid":"completed-button","aria-label":e.plantedTreeAriaLabel??Td.eTreeCertificateTitle(),className:t.certButton,onClick:()=>{r.current=document.activeElement,Kn(sr,sr.OneCertificateClicked),n(be.createElement(yz,{tree:e.plantedTree}))}},be.createElement(Tk._,{className:t.certImage,src:tg(OE),alt:"completed-certificate","aria-hidden":!0})),be.createElement("div",{className:t.certData},be.createElement(hm.c,{className:t.rank,"aria-label":Td.eTreeCertificateRankTitle()},e?.plantedTree?.displayRank),be.createElement("div",{className:t.location},be.createElement(HC.lid,null),be.createElement(Nm.M,{"aria-label":Td.eTreeCertificateLocationTitle()},e?.plantedTree?.displayLocation)))):be.createElement("div",{className:(0,mt.z)(t.card,a.certificateCard),"data-testid":"e-tree-certificate-card-planting"},be.createElement(Tk._,{className:t.certImage,src:tg(FE),alt:"planting-certificate","aria-hidden":!0}),be.createElement(hm.c,{className:t.progressText,"aria-label":Td.eTreePlantingCertificateLabel()},`${e?.activeTree?.totalProgress}%`),be.createElement(ez,{className:t.progressBar,progress:e?.activeTree?.totalProgress}))},Xz=(0,gt.n)({surface:{...It.Pt.overflow("hidden")},header:{position:"absolute",display:"flex",top:"24px",left:"24px","& > button":{...It.Pt.padding("4px")}},container:{...It.Pt.borderRadius("8px"),height:"100%",alignItems:"center",display:"flex",flexDirection:"column"},certificateList:{...It.Pt.borderRadius("8px","8px",0,0),marginBlockStart:"68px",...It.Pt.padding("40px","40px","10px"),width:"473px",height:"inherit",display:"grid",columnGap:"25px",rowGap:"40px",gridTemplateColumns:"repeat(3, 1fr)",...It.Pt.overflow("hidden","auto"),gridTemplateRows:"max-content","&::-webkit-scrollbar":{width:"8px",backgroundColor:"transparent"},"&:hover":{"&::-webkit-scrollbar-thumb":{...It.Pt.borderRadius("8px"),backgroundColor:"#B9B9B9"}}},certificateListHeight:{height:"410px"},plantAnotherTreeButton:{width:"180px",height:"36px",marginBlockStart:"20px"}}),_z=()=>{const e=Xz(),t=SH(),a=wz(lH.Certificate),i=(0,be.useRef)(null),{setETreePage:r}=nU(),{setETreeDialog:o}=lU(),{data:n,isLoading:s,isValidating:l}=oH(),{data:d,isLoading:c}=(()=>{const{data:e,isLoading:t,isValidating:a,error:i}=qI(),{data:r,isLoading:o,error:n}=Kz(e?.trees),s=(0,be.useMemo)((()=>(0,Ti.A)(r)?[]:(e=>{const t=[];return(0,Ti.A)(e)||(e.sort(((e,t)=>Number(e.timestamp)-Number(t.timestamp))),e.map((e=>{const a=_V(e);t.unshift(a)}))),t})(r)),[r]);return{data:s,isLoading:t||o,isValidating:a,error:i||n}})(),{trigger:p}=pz(),[g,m]=be.useState(!1),[u,C]=be.useState(!1);be.useEffect((()=>{Kn(lr,lr.CertificatesImpression)}),[]),be.useEffect((()=>{s||c?a():i.current&&i.current.focus()}),[s,c]),be.useEffect((()=>{g&&!l&&r(aU.Board)}),[g,l]);const h=(0,be.useMemo)((()=>{return s?void 0:(e=n,!0===e?.hasPlantingTree);var e}),[n,s]);return be.createElement(dz,{className:(0,mt.z)(e.surface,t.certificateBackground)},(s||c)&&be.createElement(Lz,null),be.createElement("div",{className:(0,mt.z)(e.header,t.certificateHeader)},h&&be.createElement(ai.$,{ref:i,appearance:"transparent","data-testid":"board-button","aria-label":Td.eTreeBackButton([Td.eTreeBoard()]),onClick:()=>{Kn(sr,sr.CertificatesBackClicked),r(aU.Board)},icon:be.createElement(oS.nbA,null)}),be.createElement(NA.M,null,Td.eTreeCertificate())),be.createElement("div",{className:e.container,"data-testid":"e-tree-certificate"},be.createElement("div",{className:h?(0,mt.z)(e.certificateList,t.certificateList):(0,mt.z)(e.certificateList,t.certificateList,e.certificateListHeight)},h&&be.createElement(Jz,{key:"planting",activeTree:n,isCompleted:!1}),!c&&d?.map(((e,t)=>be.createElement(Jz,{key:e?.treeId,plantedTree:e,isCompleted:!0,plantedTreeAriaLabel:Td.eTreePlantingCertificateArialLable([XV(t+1)])})))),!1===h&&be.createElement(gU,{isProcessing:u,onClick:async()=>{C(!0),Kn(sr,sr.CertificatesPlantClicked);const e=await p({});e?.status===Af.Success?(Kn(dr,dr.StartAnotherTreeSuccess),setTimeout((()=>{m(!0)}),100)):(Kn(dr,dr.StartAnotherTreeFail),C(!1))},className:e.plantAnotherTreeButton,"data-testid":"plant-another-tree-button","aria-label":Td.eTreePlantAnotherTreeButtonLabel()},Td.eTreePlantAnotherTreeButtonLabel())))},$z=()=>{const e=kH();return be.createElement(dz,{className:e.loadingBackground},be.createElement(Lz,null))},eZ=(0,gt.n)({root:{display:"inline-flex",alignItems:"center",justifyContent:"center",alignSelf:"center",...It.Pt.gap("4px")},compeletedItem:{width:"20px",height:"6px",...It.Pt.borderRadius("100px"),backgroundColor:"#3366EC",boxShadow:"0px 1px 6px 0px rgba(255, 255, 255, 0.50)"},unCompletedItem:{width:"20px",height:"6px",...It.Pt.borderRadius("100px"),backgroundColor:"#FFF",boxShadow:"0px 1px 1px 0px rgba(0, 0, 0, 0.25) inset"}}),tZ=e=>{const t=eZ();return be.createElement("div",{className:t.root},Array.from({length:e.total},((a,i)=>be.createElement("div",{key:"progress"+i,className:i<e.curruent?t.compeletedItem:t.unCompletedItem}))))},aZ=(0,gt.n)({taskBoard:{position:"absolute",bottom:"24px",height:"76px",width:"552px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",...It.Pt.gap("12px")},taskCard:{width:"246px",height:"52px",...It.Pt.gap("8px"),...It.Pt.padding("12px"),...It.Pt.borderRadius("8px"),...It.Pt.border("1px","solid","rgba(255, 255, 255, 0.30)"),backgroundColor:"rgba(255, 255, 255, 0.30)",boxShadow:"0px 2px 20px 0px rgba(0, 0, 0, 0.05)",backdropFilter:"blur(50px)",display:"flex",alignItems:"center"},image:{width:"52px",height:"52px",userSelect:"none",objectFit:"contain"},content:{...It.Pt.gap("4px"),display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"},description:{alignSelf:"stretch",color:"#253E52"},progress:{display:"flex",alignItems:"flex-start",justifyContent:"center",...It.Pt.gap("8px"),color:"#3366EC"}}),iZ=()=>{const e=aZ(),{data:t}=dU(),{data:a}=(()=>{const{data:e,isLoading:t}=BU();return{data:(0,be.useMemo)((()=>{if(t||(0,Ti.A)(e))return;const a=e.rewards?.find((t=>t.rewardType===Vf.CheckIn3ConsDays&&t.daySequenceId>=e.todaySequenceId));return a?3-(a.daySequenceId-e.todaySequenceId):void 0}),[e,t]),isLoading:t}})(),i=(0,be.useMemo)((()=>{const e=t?.filter((e=>e.task.state===Pf.Complete));return e.length??0}),[t]);return be.createElement("div",{className:e.taskBoard,"data-testid":"christmas-tasks"},be.createElement("div",{className:e.taskCard,"data-testid":"christmas-daily-check-in-task"},be.createElement(Tk._,{className:e.image,src:tg("hub/etree/christmas/christmas-daily-check-in-task-icon.png"),alt:"","aria-hidden":!0}),be.createElement("div",{className:e.content},be.createElement("div",{className:e.description},be.createElement(Nm.M,null,Td.eTreeHolidayGameBoardDailyCkeckInTaskTitleNew())),3===a?be.createElement("div",{className:e.progress},be.createElement(Gw.Z,null,Td.eTreeHolidayGameBoardTaskFinishedLabel()),be.createElement(oS.RaO,{"data-testid":"christmas-daily-check-in-task-completed"})):be.createElement("div",{className:e.progress},be.createElement(Gw.Z,{"data-testid":"christmas-daily-check-in-task-progress"},Td.eTreeHolidayGameBoardTaskProgressLabel([a,3])),be.createElement(tZ,{total:3,curruent:a})))),be.createElement("div",{className:e.taskCard,"data-testid":"christmas-complete-task"},be.createElement(Tk._,{className:e.image,src:tg("hub/etree/christmas/christmas-complete-task-icon.png"),alt:"","aria-hidden":!0}),be.createElement("div",{className:e.content},be.createElement("div",{className:e.description},be.createElement(Nm.M,null,Td.eTreeHolidayGameBoardCompleteAllTaskTitleNew())),2===i?be.createElement("div",{className:e.progress},be.createElement(Gw.Z,null,Td.eTreeHolidayGameBoardTaskFinishedLabel()),be.createElement(oS.RaO,{"data-testid":"christmas-complete-task-completed"})):be.createElement("div",{className:e.progress},be.createElement(Gw.Z,{"data-testid":"christmas-complete-task-progress"},Td.eTreeHolidayGameBoardTaskProgressLabel([i,2])),be.createElement(tZ,{total:2,curruent:i})))))},rZ=(0,gt.n)({dialogSurface:{backgroundColor:"rgba(0, 0, 0, 0.20)",backdropFilter:"blur(6px)"},dialogContainer:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${tg("/hub/etree/christmas/rules-dialog-background.png")})`,width:"344px",height:"404px",display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.gap("28px"),...It.Pt.padding("48px","28px","28px","28px"),...It.Pt.borderRadius("8px")},headerText:{color:"#FFF",textShadow:"0px 6px 20px #5B78B0",fontWeight:900,textTransform:"uppercase"},body:{display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.gap("16px"),color:"#253E52",width:"344px",height:"272px"},gotItButton:{width:"180px",height:"44px"},scrollArea:{overflowY:"auto","&::-webkit-scrollbar":{width:"12px",backgroundColor:"transparent"},"&:hover":{"&::-webkit-scrollbar-thumb":{...It.Pt.borderRadius("8px"),backgroundColor:"#D5DFE9"}}},ruleList:{...It.Pt.paddingInline("15px"),...It.Pt.margin("0px"),listStylePosition:"inside",listStyleType:"decimal",textIndent:"-15px"},rule:{}}),oZ=()=>{const e=rZ(),{hideETreeDialog:t}=lU(),{setETreePage:a}=nU();return be.createElement(zU,{className:e.dialogSurface},be.createElement("div",{"data-testid":"christmas-rules-explanation-dialog",className:e.dialogContainer},be.createElement(mx.M,{className:e.headerText},Td.eTreeHolidayGameRulesExplanationTitle()),be.createElement("div",{className:e.body},be.createElement(hm.c,null,Td.eTreeHolidayGameRulesExplanationSubTitle()),be.createElement(mg.D,null,Td.eTreeHolidayGameRulesExplanationPromptMessage()),be.createElement("div",{className:e.scrollArea},be.createElement("ol",{type:"1",className:e.ruleList},be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule1()),be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule2()),be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule3()),be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule4()),be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule5()),be.createElement("li",{className:e.rule},Td.eTreeHolidayGameRulesExplanationRule6())))),be.createElement(gU,{"data-testid":"close-button","aria-label":Td.eTreeGotItButtonLabel(),onClick:()=>{t(),a(aU.ChristmasBoard)},className:e.gotItButton},Td.eTreeGotItButtonLabel())))},nZ=(0,gt.n)({halloWeenDialogSurface:{backgroundColor:"rgba(0, 0, 0, 0.20)",backdropFilter:"blur(6px)"},dialogContainer:{backgroundRepeat:"no-repeat",backgroundSize:"cover",backgroundImage:`url(${tg("/hub/etree/christmas/rules-dialog-background.png")})`,width:"344px",height:"404px",display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.gap("28px"),...It.Pt.padding("48px","28px","28px","28px"),...It.Pt.borderRadius("8px")},headerText:{color:"#FFF",textShadow:"0px 6px 20px #5B78B0",fontWeight:900,textTransform:"uppercase"},body:{display:"flex",flexDirection:"column",...It.Pt.gap("8px"),width:"344px",height:"280px",overflowY:"auto",...It.Pt.padding("0px","10px"),"&::-webkit-scrollbar":{width:"8px",backgroundColor:"transparent"},"&:hover":{"&::-webkit-scrollbar-thumb":{...It.Pt.borderRadius("8px"),backgroundColor:"#D5DFE9"}}},fragmentItem:{display:"flex",flexDirection:"row",alignItems:"center",alignSelf:"stretch",...It.Pt.gap("8px"),...It.Pt.marginInline("0px","8px")},fragmentItemSource:{width:"264px",display:"flex",flexDirection:"row",alignItems:"center",...It.Pt.gap("12px")},text:{color:"#253E52",fontWeight:600},fragmentItemDate:{display:"flex",flexDirection:"column",alignItems:"flex-end",color:"#253E52",fontWeight:400},iconContainer:{display:"flex",flexDirection:"column",alignItems:"center",...It.Pt.padding("8px"),backgroundRepeat:"no-repeat",backgroundSize:"100% 100%",...It.Pt.borderRadius("6px"),...It.Pt.border("1px","solid","#F2FBF9"),backgroundColor:"#FFF",backgroundImage:"linear-gradient(139deg, rgba(225, 230, 248, 0.20) 14.38%, rgba(235, 254, 251, 0.20) 62.18%)"},icon:{width:"28px",height:"28px"},gotItButton:{width:"180px",height:"44px",...It.Pt.paddingBlock("16px")}}),sZ=new Map([[Vf.CheckIn3ConsDays,Td.etreeAwardSourceDescriptionCheckIn3Days()],[Vf.ChristmasCompleteAllExplicitTasks,Td.etreeAwardSourceDescriptionCompleteAllTasks()],[Vf.ChristmasTryMyLuck,Td.etreeAwardSourceDescriptionLuckyDraw()],[Vf.ChristmasGetSuprisedWaterDrop,Td.etreeAwardSourceDescriptionLuckyDraw()]]),lZ=()=>{const e=nZ(),{hideETreeDialog:t}=lU(),{setETreePage:a}=nU(),{data:i,isLoading:r}=(()=>{const{data:e,isLoading:t,error:a}=uV();return{data:(0,be.useMemo)((()=>e?.flatMap((e=>RU.flatFragment(e)))),[e]),isLoading:t,error:a}})(),o=(0,be.useMemo)((()=>{const e=i?.map((e=>{const t=e.obtainedUtcTime?of(e.obtainedUtcTime):new Date;return{sourceMessage:sZ.get(e.awardSourceId),iconUrl:xU.get(e.id).iconUrl,obtainedTime:t.toLocaleDateString()}}));return e?.sort(((e,t)=>new Date(t.obtainedTime).getTime()-new Date(e.obtainedTime).getTime()))}),[i]);return be.createElement(zU,{className:e.halloWeenDialogSurface},be.createElement("div",{"data-testid":"fragments-history-dialog",className:e.dialogContainer},be.createElement(mx.M,{className:e.headerText},Td.eTreeHolidayFragmentsHistoryTitle()),be.createElement("div",{className:e.body},!r&&(0,Ti.A)(o)?be.createElement(hm.c,{className:e.text},Td.eTreeHolidayEmptyFragmentsHistoryMessage()):o?.map((t=>be.createElement("div",{key:`${t.obtainedTime}`,className:e.fragmentItem},be.createElement("span",{className:e.fragmentItemSource},be.createElement("span",{className:e.iconContainer},be.createElement("img",{"data-testid":"fragment-img",src:tg(t.iconUrl),alt:"fragment icon",className:e.icon})),be.createElement("span",{className:e.text},t.sourceMessage)),be.createElement("span",{className:e.fragmentItemDate},t.obtainedTime))))),be.createElement(gU,{"data-testid":"close-button","aria-label":Td.eTreeGotItButtonLabel(),onClick:()=>{t(),a(aU.ChristmasBoard)},className:e.gotItButton},Td.eTreeGotItButtonLabel())))},dZ=(0,gt.n)({button:{width:"46px",height:"46px",marginBlockStart:"12px",cursor:"pointer",backgroundRepeat:"no-repeat",backgroundSize:"contain",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},buttonContainer:{display:"flex",flexDirection:"column",alignItems:"center",marginBlockStart:"12px",...It.Pt.gap("1px")},image:{width:"24px",height:"24px",objectFit:"contain",userSelect:"none"},lableContainer:{display:"inline-flex",justifyContent:"center",alignItems:"center",backgroundColor:"#FFF",...It.Pt.borderRadius("100px"),...It.Pt.padding("0px","5px","1px","5px")},text:{color:"rgba(37, 62, 82, 0.70)",fontSize:"10px",fontWeight:600,lineHeight:"14px"}}),cZ=e=>{const t=dZ(),{setETreeDialog:a}=lU(),i=SH(),r=()=>{a(be.createElement(oZ,null))},o=()=>{a(be.createElement(lZ,null))};return be.createElement("div",{className:e.className,"data-testid":"christmas-board-navigation"},be.createElement("div",{className:(0,mt.z)(t.button,i.boardLeftNavButton),"data-testid":"rules-button","aria-label":Td.eTreeHolidayGameBoardNavigationRulesButtonLable(),role:"button",tabIndex:0,onClick:r,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),r())}},be.createElement("div",{className:t.buttonContainer},be.createElement(Tk._,{className:t.image,alt:"rules button",fit:"center","aria-hidden":!0,src:tg("/hub/etree/christmas/book-question-mark-icon.png")}),be.createElement("div",{className:t.lableContainer},be.createElement(am.E,{className:t.text},Td.eTreeHolidayGameBoardNavigationRulesButtonLable())))),be.createElement("div",{className:(0,mt.z)(t.button,i.boardLeftNavButton),"data-testid":"awarded-fragments-history-button","aria-label":Td.eTreeHolidayGameBoardNavigationHistoryButtonLable(),role:"button",tabIndex:0,onClick:o,onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),o())}},be.createElement("div",{className:t.buttonContainer},be.createElement(Tk._,{className:t.image,alt:"awarded fragments history button",fit:"center","aria-hidden":!0,src:tg("/hub/etree/christmas/checkbox.png")}),be.createElement("div",{className:t.lableContainer},be.createElement(am.E,{className:t.text},Td.eTreeHolidayGameBoardNavigationHistoryButtonLable())))))},pZ=(0,gt.n)({dialogSurface:{perspective:"600px",backgroundColor:"rgba(0, 0, 0, 0.8)",backdropFilter:"blur(6px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start","::after":{content:'""',position:"absolute",top:"0px",width:"600px",height:"600px",backgroundImage:`url(${tg("/hub/etree/christmas/lucky-draw-background.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"cover",zIndex:-1}},title:{color:"#FFF",textAlign:"center",marginBlockStart:"96px",fontWeight:900,textShadow:"0px 6px 20px #5B78B0"},description:{color:"#FFF",textAlign:"center",marginBlockStart:"12px"},rewardsInDescription:{color:"#55BEFF"},imageWaitingCard:{position:"absolute",top:"232px",userSelect:"none",width:"48px",height:"48px",transform:"rotate(-9.8deg)",boxShadow:"0px 0px 100px 0px #3366EC, 0px 0px 50px 0px #55BEFF, 0px 0px 4px 0px #55BEFF"},imageFragments:{boxShadow:"0px 0px 200px 0px #FFC636, 0px 0px 50px 0px #FFC636, 0px 0px 4px 0px #FFC636"},imageEmpty:{position:"absolute",userSelect:"none",top:"228px",width:"100px",height:"100px"},imageWaterDrops:{position:"absolute",zIndex:-1,top:"125px",left:"140px",width:"320px",height:"290px"},rewards:{marginBlockStart:"93px",textAlign:"center",color:"#1F64CD",textShadow:"0.5px 0.5px #FFF, -0.5px 0.5px #FFF, -0.5px -0.5px #FFF, 0.5px -0.5px #FFF, 0 1px #FFF, 1px 0 #FFF, -1px 0 #FFF, 0 -1px #FFF"},button:{marginBlockStart:"auto",marginBlockEnd:"64px",height:"44px",width:"180px"},flipMotion:{transformStyle:"preserve-3d",animationDuration:"2s",animationFillMode:"forwards",animationName:{"0%":{transform:"rotate(-9.8deg) rotateY(0deg)",opacity:1},"25%":{transform:"rotate(9.8deg) rotateY(180deg)",opacity:1},"50%":{transform:"rotate(-9.8deg) rotateY(360deg)",opacity:1},"75%":{transform:"rotate(9.8deg) rotateY(180deg)",opacity:1},"100%":{transform:"rotate(-9.8deg) rotateY(270deg)",opacity:0}}},gotFragmentsMotion:{transformStyle:"preserve-3d",animationDuration:"0.5s",animationFillMode:"forwards",animationName:{"0%":{transform:"rotateY(-90deg)"},"100%":{transform:"rotate(-9.8deg) rotateY(0deg)"}}},gotOthersMotion:{transformStyle:"preserve-3d",animationDuration:"0.5s",animationFillMode:"forwards",animationName:{"0%":{transform:"rotateY(-90deg)"},"100%":{transform:"rotateY(0deg)"}}}});let gZ=function(e){return e[e.waiting=0]="waiting",e[e.gotEmpty=1]="gotEmpty",e[e.gotWaterDrops=2]="gotWaterDrops",e[e.gotFragments=3]="gotFragments",e}({});const mZ=e=>{const t=pZ(),a=SV(),{hideETreeDialog:i}=lU(),{trigger:r}=AU(),[o,n]=be.useState(gZ.waiting),[s,l]=be.useState(void 0),[d,c]=be.useState(void 0),[p,g]=be.useState(void 0),[m,u]=be.useState(void 0),[C,h]=be.useState(!1);return be.useEffect((()=>{setTimeout((()=>{h(!0)}),2e3)}),[]),be.useEffect((()=>{e.task?.state!==Pf.Complete&&(async()=>{const t=await r({taskIds:[e.task.taskId],timezoneOffset:(new Date).getTimezoneOffset(),id:e.task.id});t?.status===Af.Success&&(u(e.task.outcomeId||e.task.score),void 0!==e.task.outcomeId&&e.task.outcomeId!==Nf.ChristmasByeRound&&PI())})()}),[e.task]),be.useEffect((()=>{if(C&&void 0!==m)switch(m){case Nf.ChristmasByeRound:n(gZ.gotEmpty);break;case Nf.ChristmasNo1:case Nf.ChristmasNo2:case Nf.ChristmasNo3:case Nf.ChristmasNo4:case Nf.ChristmasNo5:case Nf.ChristmasNo6:case Nf.ChristmasNo7:n(gZ.gotFragments),PI();break;default:n(gZ.gotWaterDrops)}}),[C,m]),be.useEffect((()=>{switch(l({[gZ.waiting]:Td.eTreeHolidayLuckyDrawWaitingTitle(),[gZ.gotEmpty]:Td.eTreeHolidayLuckyDrawGotEmptyTitle(),[gZ.gotWaterDrops]:Td.eTreeHolidayLuckyDrawGotRewardsTitle(),[gZ.gotFragments]:Td.eTreeHolidayLuckyDrawGotRewardsTitle()}[o]),c({[gZ.waiting]:Td.eTreeHolidayLuckyDrawWaitingDescription(),[gZ.gotEmpty]:Td.eTreeHolidayLuckyDrawGotEmptyDescription(),[gZ.gotWaterDrops]:Td.eTreeHolidayLuckyDrawGotWaterDropsDescription([be.createElement(cz.F,{key:"count",className:t.rewardsInDescription},m)]),[gZ.gotFragments]:Td.eTreeHolidayLuckyDrawGotFragmentsDescription()}[o]),o){case gZ.gotEmpty:g("/hub/etree/christmas/lucky-draw-empty.png");break;case gZ.gotWaterDrops:g("/hub/etree/christmas/lucky-draw-water-drops.png");break;case gZ.gotFragments:for(const[e,t]of xU.entries())t.outcomeId===m&&g(t.iconUrl)}}),[o]),be.createElement(zU,{className:t.dialogSurface},be.createElement(Jv.K,{className:t.title},s),be.createElement(RR.j,{className:t.description},d),(o===gZ.waiting||o===gZ.gotFragments)&&be.createElement(DV,{iconUrl:o===gZ.waiting?void 0:p,classes:{...a,itemCard:(0,mt.z)(a.itemCard,t.imageWaitingCard,o===gZ.waiting&&t.flipMotion,o===gZ.gotFragments&&t.imageFragments,o===gZ.gotFragments&&t.gotFragmentsMotion)}}),o===gZ.gotEmpty&&be.createElement(Tk._,{className:(0,mt.z)(t.imageEmpty,t.gotOthersMotion),"aria-hidden":!0,src:tg(p),alt:Td.eTreeHolidayLuckyDrawGotEmptyTitle()}),o===gZ.gotWaterDrops&&be.createElement(Tk._,{className:(0,mt.z)(t.imageWaterDrops,t.gotOthersMotion),"aria-hidden":!0,src:tg(p),alt:Td.eTreeHolidayLuckyDrawGotRewardsTitle()}),o===gZ.gotWaterDrops&&be.createElement(cz.F,{className:(0,mt.z)(t.rewards,t.gotOthersMotion)},`+${m}`),o!==gZ.waiting&&be.createElement(gU,{className:t.button,"data-testid":"close-button","aria-label":Td.eTreeGotItButtonLabel(),onClick:()=>{i()}},be.createElement(ph.V,null,Td.eTreeGotItButtonLabel())))};var uZ=a(69790),CZ=a(13582);const hZ=(0,gt.n)({root:{perspective:"600px",height:"600px",width:"600px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},rectangle:{position:"absolute",top:0,width:"600px",height:"600px",backgroundColor:"rgba(0, 0, 0, 0.80)",backdropFilter:"blur(6px)",transitionDelay:"1.7s, 1.7s",transitionDuration:`${St.L.durationSlow}, ${St.L.durationGentle}`,transitionProperty:"transform, opacity",transitionTimingFunction:`${St.L.curveDecelerateMid}, ${St.L.curveDecelerateMid}`,willChange:"opacity, transform",...It.Pt.borderRadius("6px")},invisible:{opacity:0,transform:"translate3D(0, 0, 0) scale(0.25)"},visible:{opacity:1,transform:"translate3D(0, 0, 0) scale(1)"},animationDelay:{animationDelay:"2s"},card:{...It.Pt.transition("opacity",St.L.durationGentle,"1.7s"),willChange:"opacity, transform, left, top, border-radius",top:"4px",left:"-4px"},flipCardMotion:{...It.Pt.transition([["transform",St.L.durationGentle,"0s",St.L.curveDecelerateMid],["left",St.L.durationGentle,"0s",St.L.curveDecelerateMid],["top",St.L.durationGentle,"0s",St.L.curveDecelerateMid],["border-radius",St.L.durationGentle,"0s",St.L.curveDecelerateMid],["opacity",St.L.durationNormal,"1.2s",St.L.curveDecelerateMin]]),transformStyle:"preserve-3d",transform:"scale(4, 5) rotateY(180deg)",opacity:0,left:0,top:"-26px",...It.Pt.borderRadius("2px"),"&:before, &:after":{display:"none"}},certificate:{position:"absolute",opacity:0,willChange:"opacity, transform, box-shadow"},certificateMotion:{transitionDuration:St.L.durationSlow,transitionProperty:"opacity",transitionDelay:"1s"},certficationBoxShadow:{boxShadow:"0px 14px 14px 0px rgba(85, 190, 255, 0.08), 0px 0px 100px 0px #55BEFF, 0px 0px 3px 0px #3366EC",...It.Pt.borderRadius("10px"),...It.Pt.transition("box-shadow",St.L.durationGentle,"900ms")},closeButton:{zIndex:1,position:"absolute",top:0,right:0,color:"#FFFFFF !important","&:hover":{color:St.L.colorBrandForegroundInverted},"&:active, &:hover:active":{color:St.L.colorBrandForegroundInvertedPressed},willChange:"opacity",...It.Pt.transition("opacity",St.L.durationGentle,"1.7s")}}),EZ=({open:e=!1,puzzleUpAwardedTrees:t,closeMask:a})=>{const i=hZ(),r=SV(),o=yV(),n=(0,uZ.y)(e),[s,l]=(0,be.useState)(!1),{setTimeout:d,clearTimeout:c}=(0,CZ.j)(),p=(0,be.useRef)(null);(0,be.useEffect)((()=>{const e=document.getElementById("dialog-action-portal");p.current=e}),[]),(0,be.useEffect)((()=>{let t;return e?t=d((()=>l(!0)),2e3):(t&&c(t),l(!1)),()=>c(t)}),[c,e,d]);const g=(0,uZ.y)(!!t&&s);return be.createElement(be.Fragment,null,n.canRender&&be.createElement("div",{className:i.root},be.createElement("div",{ref:n.ref,className:(0,mt.z)(i.rectangle,i.invisible,n.active&&i.visible)}),be.createElement(Az,{ref:g.ref,tree:t?_V(t?.[t.length-1]):void 0,onClickGotIt:a,overrideClasses:{container:(0,mt.z)(i.certificate,i.invisible,...g.active?[i.certificateMotion,i.visible]:[]),certificate:g.active&&i.certficationBoxShadow}}),be.createElement(DV,{isGrowing:!0,classes:{...r,itemCard:(0,mt.z)(r.itemCard,i.card,i.invisible,...n.active?[i.visible,i.animationDelay,o.shinning]:[],g.active&&i.flipCardMotion)}}),p.current&&(0,Re.createPortal)(be.createElement(ai.$,{"data-testid":"e-tree-modal-close-button",appearance:"transparent","aria-label":Td.eTreeClose(),className:(0,mt.z)(i.closeButton,i.invisible,n.active&&i.visible),icon:be.createElement(Eg.LMj,null),onClick:a}),p.current)))},fZ=(0,gt.n)({root:{width:"60px",height:"121px",display:"inline-flex",flexDirection:"column",alignItems:"center","&::after":{content:'""',position:"absolute",width:"100%",height:"100%",backgroundImage:`url(${tg("/hub/etree/christmas/redeem-button-rope.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"24px 61px",backgroundPositionX:"center"}},redeemBackground:{position:"absolute",top:"55px",width:"110px",height:"70px"},redeemButton:{marginBlockStart:"61px",width:"60px",height:"60px",backgroundImage:`url(${tg("/hub/etree/christmas/redeem-button.png")})`,backgroundRepeat:"no-repeat",backgroundSize:"contain",cursor:"pointer",zIndex:1},redeemButtonDisabled:{backgroundImage:`url(${tg("/hub/etree/christmas/redeem-button-disabled.png")})`,cursor:"default"},tooltip:{backgroundColor:"#000",color:"#FFF",width:"180px"}}),IZ=e=>{const t=fZ(),a=rV(),[i,r]=be.useState(!1);be.useEffect((()=>{e?.isPuzzleUpEnabled&&Kn(Er,Er.CampaignGameBEntryImpression)}),[e?.isPuzzleUpEnabled]);const o=()=>{e?.isPuzzleUpEnabled&&e?.onClickRedeem()};return be.createElement("div",{className:(0,mt.z)(t.root,e?.className),"data-testid":"christmas-redeem-entry"},e?.isPuzzleUpEnabled&&be.createElement("div",{className:t.redeemBackground},Array.from({length:5},((e,t)=>be.createElement("div",{key:t,className:(0,mt.z)(a.layout,a.layout2,a.slowAnimation)})))),be.createElement(Gc.m,{withArrow:!0,appearance:"inverted",relationship:"label",positioning:"above-end",visible:i&&e?.isPuzzleUpEnabled,onVisibleChange:(e,t)=>r(t.visible),content:{children:Td.eTreeHolidayGameBoardPuzzleUpATreeButtonTip(),className:t.tooltip}},be.createElement("div",{role:"button","data-testid":"christmas-redeem-button",tabIndex:e?.isPuzzleUpEnabled?0:-1,"aria-label":Td.eTreeHolidayGameBoardPuzzleUpATreeButtonLable(),className:e?.isPuzzleUpEnabled?t.redeemButton:(0,mt.z)(t.redeemButton,t.redeemButtonDisabled),onClick:o,onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),e.stopPropagation(),o())}})))},SZ=(0,gt.n)({navigateButton:{position:"absolute",top:"24px",left:"24px",color:"#242424",...It.Pt.padding("4px")},board:{width:"552px",height:"346px",...It.Pt.borderRadius("8px"),...It.Pt.border("1px","solid","#FFF"),backgroundColor:"rgba(255, 255, 255, 0.30)",boxShadow:"0px 2px 20px 0px rgba(0, 0, 0, 0.05)",backdropFilter:"blur(50px)",...It.Pt.border("1px","solid","rgba(255, 255, 255, 0.30)"),display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",color:"#253E52"},boardTitle:{marginBlockStart:"22px",textAlign:"center",marginBlockEnd:"16px",...It.Pt.marginBlock("20px","16px")},boardButtons:{marginBlockStart:"20px",height:"44px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",...It.Pt.gap("12px"),"& > button":{...It.Pt.padding("12px","32px")}},boardDescription:{marginBlockStart:"8px",textAlign:"center",color:"#253E52"},leftNavBar:{position:"absolute",top:"20px",left:"20px",width:"44px",height:"47px"},redeemEntry:{position:"absolute",top:0,right:"24px",width:"60px",height:"121px"},maskRoot:{position:"absolute",top:0,left:0}}),kZ=()=>{const e=SZ(),[t,a]=be.useState(void 0),{data:i}=(()=>{const{data:e,isLoading:t,error:a}=JI((e=>e?.category===Tf.SpecialDay&&null!==e?.taskId&&(e.taskId===wf.ChristmasGetSuprisedWaterDrop||e.taskId===wf.ChristmasTryMyLuck)&&e?.state!==Pf.Complete),XH);return{data:e,isLoading:t,error:a}})(),{data:r}=MV(),{data:o}=CV(),[n,{setTrue:s,setFalse:l}]=(0,nk.C)(!1),{trigger:d,isMutating:c}=AU(),{trigger:p,isMutating:g}=(0,cU.A)(bI(),OI,{throwOnError:!1}),{setETreeDialog:m}=lU(),u=IV(),C=yV(),h=SV(),E=(0,be.useRef)(null);(0,be.useEffect)((()=>{const e=document.getElementById("certification-mask-motion-portal");E.current=e}),[]);const f=be.useMemo((()=>i?.length||0),[i]);(0,be.useEffect)((()=>{i?.length>0&&Kn(Er,Er.CampaignGameCEntryImpression)}),[]);const I=(0,be.useMemo)((()=>r?.length>0&&o?.length>=7),[r,o]);(0,be.useEffect)((()=>{I&&Kn(Er,Er.CampaignGameBEntryImpression)}),[I]);const S=(0,be.useCallback)((async()=>{if(I&&!n&&!c){Kn(Er,Er.CampaignGameBEntryClicked),s();try{const e=await d({taskIds:[r[0].taskId],timezoneOffset:(new Date).getTimezoneOffset(),id:r[0].id});if(e?.status!==Af.Success)return void l();PI();const t=await p({});t?.status!==Af.Success||g?l():a(t.properties?.rewards?.trees)}catch(e){console.error(e),l()}}}),[d,p,g,c,n,I,s,r,l]),k=(0,be.useCallback)((()=>{l(),a(void 0)}),[l]);return be.createElement("div",{className:e.board,"data-testid":"christmas-board-body"},be.createElement(iD.Q,{className:e.boardTitle},be.createElement("div",null,Td.eTreeHolidayGameBoardTitleLine1()),be.createElement("div",null,Td.eTreeHolidayGameBoardTitleLine2())),be.createElement(NV,{processPizzleUpTask:n,fragmentClasses:u,fragmentCardClasses:h,animationClasses:C}),be.createElement("div",{className:e.boardButtons},be.createElement(gU,{"data-testid":"lucky-draw-button",disabled:0===f,"aria-label":Td.eTreeHolidayGameBoardLuckyDrawTimesButtonLable([f]),onClick:()=>{Kn(Er,Er.CampaignGameCEntryClicked),1===i.length&&Kn(Er,Er.CampaignGameCEntryCompleted);const e=Math.floor(Math.random()*i.length);m(be.createElement(mZ,{task:i[e]}))}},Td.eTreeHolidayGameBoardLuckyDrawTimesButtonLable([f]))),be.createElement(Nm.M,{className:e.boardDescription},Td.eTreeHolidayGameBoardTryLuckPromptMessage()),be.createElement(cZ,{className:e.leftNavBar}),be.createElement(IZ,{className:e.redeemEntry,isPuzzleUpEnabled:I,onClickRedeem:S}),E.current&&(0,Re.createPortal)(be.createElement(EZ,{open:n,puzzleUpAwardedTrees:t,closeMask:k}),E.current))},AZ=(0,gt.n)({countdownToTheDay:{display:"flex",justifyContent:"center",alignItems:"flex-end",width:"160px",height:"53px",textAlign:"center",backgroundImage:`url('${tg("/hub/etree/christmas/illustration.png")}')`,backgroundRepeat:"no-repeat",backgroundSize:"cover"},text:{textAlign:"center",fontSize:"10px",fontWeight:700,letterSpacing:"0.1px",backgroundImage:"linear-gradient(rgb(169 100 45) 50.06%, rgb(204, 131, 79) 100%)",backgroundClip:"text","-webkit-background-clip":"text","-webkit-text-fill-color":"transparent",...It.Pt.paddingBlock("0px","6px")}}),yZ=e=>{const t=AZ();return be.createElement("div",{className:t.countdownToTheDay},be.createElement(am.E,{className:t.text,"data-testid":"remaining-days"},Td.eTreeActivityCountDownToTheDay([e.remainingDays])))},wZ=(0,gt.n)({surface:{backgroundImage:`url('${tg("/hub/etree/christmas/snowman.png")}'), linear-gradient(180deg, rgba(209, 218, 247, 0.25) -0.89%, rgba(209, 218, 247, 0.25) 31.9%, rgba(255, 255, 255, 0.66) 48.17%), url('${tg("/hub/etree/christmas/board-background-image.png")}')`,backgroundRepeat:"no-repeat",backgroundSize:"160px 160px, 600px 600px, cover",backgroundPositionX:"233px, 0px, 0px",backgroundPositionY:"13px, 0px, 0px",display:"flex",flexDirection:"column",alignItems:"center",backgroundColor:"#FFF"},navigateButton:{position:"absolute",top:"24px",left:"24px",color:"#242424",...It.Pt.padding("4px")},boardHeader:{position:"absolute",top:"48.6px",width:"100%",height:"140.634px",textAlign:"center",backgroundImage:`url('${tg("/hub/etree/christmas/christmas-board-header.png")}')`,backgroundRepeat:"no-repeat",backgroundSize:"cover"},countDownToTheDayContainer:{position:"absolute",top:"124px"},bodyContainer:{position:"absolute",top:"141px"},maskRoot:{position:"absolute",top:0}}),bZ=()=>{const e=wZ(),{setETreePage:t}=nU(),a=JU(bf.Christmas,ZH.Game),{data:i}=(e=>{const{data:t,isLoading:a,error:i}=qI();return{data:(0,be.useMemo)((()=>{if(a)return;const i=t?.controlTags?.activities?.find((t=>t?.id===e));return i?(e=>{if((0,Ti.A)(e))return;const t=_E(e);if((0,Ti.A)(t)||(0,Ti.A)(t.endTime))return;const a=new Date(t.endTime).getTime(),i=(new Date).getTime();return t.countdownToTheDay=Math.floor((a-i)/YE),t.isLastDayOfActivity=i>a-YE&&i<a,t})(i?.config):void 0}),[e,t,a]),isLoading:a,error:i}})(bf.Christmas);return be.useEffect((()=>{a()}),[]),be.createElement(dz,{className:e.surface},be.createElement(ai.$,{className:e.navigateButton,appearance:"transparent","data-testid":"board-button","aria-label":Td.eTreeBackButton([Td.eTreeBoard()]),onClick:()=>{t(aU.Board)},icon:be.createElement(oS.nbA,null)}),be.createElement("div",{className:e.bodyContainer},be.createElement(kZ,null)),i&&be.createElement("div",{className:e.countDownToTheDayContainer},be.createElement(yZ,{remainingDays:i.countdownToTheDay})),be.createElement("div",{className:e.boardHeader}),be.createElement(iZ,null),be.createElement("div",{id:"certification-mask-motion-portal",className:e.maskRoot}))},TZ=(0,gt.n)({content:{width:"100%",paddingBlockEnd:"3px",...It.Pt.overflow("hidden")},scrollContainer:{position:"relative",display:"flex",columnGap:"6px"},thumbnailContainer:{position:"relative",minWidth:"48px",height:"48px",width:"48px",cursor:"pointer",...It.Pt.borderRadius("4px"),...It.Pt.borderWidth("1px"),...It.Pt.borderStyle("solid"),...It.Pt.borderColor("white")},thumbnail:{height:"100%",width:"100%",objectFit:"cover",...It.Pt.borderRadius("4px")},selectedThumbnail:{...It.Pt.borderColor("black")}}),PZ=({photoUrls:e=[],selectedPhotoId:t,setSelectedPhotoId:a,thumbnailAltText:i,classNames:r})=>{const o=(0,be.useRef)(null),n=(0,be.useRef)(null),s=(0,be.useCallback)(((e,t)=>{if(!o.current||!n.current)return;const a=o.current,i=n.current,r=()=>{i.style.transition="",i.style.marginInlineStart="",a.scrollLeft=e,i.removeEventListener("transitionend",r)};i.addEventListener("transitionend",r),i.style.transition="margin-left 0.4s cubic-bezier(0.15, 0.85, 0.35, 1)",i.style.marginInlineStart=-t+"px"}),[]);(0,be.useEffect)((()=>{const e=document.getElementById(t.toString());if(!e||!o.current||!n.current)return;const{clientWidth:a,scrollLeft:i,scrollWidth:r}=o.current,{clientWidth:l,offsetLeft:d}=e;let c=d-Math.floor((a-l)/2);c>r-a?c=r-a:c<0&&(c=0),i!==c&&s(c,c-i)}),[s,t]);const l=TZ();return be.createElement("div",{id:"thumbnails-viewer",className:(0,mt.z)(l.content,r?.thumbnailsViewerClassName),ref:o},be.createElement("div",{className:(0,mt.z)(l.scrollContainer,r?.thumbnailListContainerClassName),ref:n},e.map(((e,o)=>be.createElement("div",{key:o,role:"presentation",id:o.toString(),onClick:()=>a(o),className:(0,mt.z)(l.thumbnailContainer,r?.thumbnailContainerClassName,o===t&&(0,mt.z)(l.selectedThumbnail,r?.selectedThumbnailClassName))},be.createElement(Tk._,{alt:i,className:(0,mt.z)(l.thumbnail,r?.thumbnailClassName),src:e}))))))},MZ=(0,gt.n)({container:{position:"relative",width:"100%",height:"600px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"black",...It.Pt.borderRadius("4px")},image:{maxWidth:"100%",maxHeight:"100%",objectFit:"contain"},nav:{position:"absolute",top:0,left:0,display:"flex",width:"100%",height:"100%",justifyContent:"space-between",alignItems:"center"},navButton:{...It.Pt.border("none"),zIndex:1,minWidth:"40px",width:"40px",height:"40px",...It.Pt.borderRadius("20px"),backgroundColor:"white"},navLeftButton:{marginInlineStart:"12px"},navRightButton:{marginInlineEnd:"12px"},chevronIcon:{width:"16px",height:"16px"},footerContainer:{position:"absolute",width:"100%",bottom:"16px",display:"flex",justifyContent:"center"},footer:{width:"57px",height:"20px",...It.Pt.padding("2px","16px"),backgroundColor:"rgba(0, 0, 0, 0.56)",...It.Pt.borderRadius("100px"),display:"flex",justifyContent:"center",color:"white"}}),DZ=({photoUrls:e=[],selectedPhotoId:t,setSelectedPhotoId:a,ariaLabel:i,imageAltText:r,className:o})=>{const n=MZ(),s=(0,be.useRef)(null),[l,d]=(0,be.useState)(0),c=(0,be.useCallback)((e=>{let t=-.04;const a=setInterval((function(){s.current&&(i+=t,s.current.style.opacity=i.toString(),t<0&&i<=0?(t*=-1,d(e)):t>0&&i>=1&&clearInterval(a))}),10);let i=1}),[]);return(0,be.useEffect)((()=>{s.current&&t!==l&&c(t)}),[l,t,c]),be.createElement("div",{className:(0,mt.z)(n.container,o)},be.createElement(Tk._,{className:n.image,alt:r,ref:s,fit:"center","aria-hidden":!0,src:e[l]}),be.createElement("div",{className:n.nav},be.createElement(ai.$,{"aria-label":i?.viewLast,"data-testid":"view-last",className:(0,mt.z)(n.navButton,n.navLeftButton),onClick:()=>a(t-1),icon:be.createElement(ov.NGN,{className:n.chevronIcon}),disabled:0===t}),be.createElement(ai.$,{"aria-label":i?.viewNext,"data-testid":"view-next",className:(0,mt.z)(n.navButton,n.navRightButton),onClick:()=>a(t+1),icon:be.createElement(ov.oAB,{className:n.chevronIcon}),disabled:t===e.length-1}),e.length&&be.createElement("div",{className:n.footerContainer},be.createElement("div",{className:n.footer},`${t+1}/${e.length}`))))},NZ=(0,gt.n)({container:{backgroundColor:"white",width:"800px",maxWidth:"800px",display:"flex",flexDirection:"column",alignItems:"flex-start",...It.Pt.gap("12px")}}),xZ=({photoUrls:e=[],defaultSelectedPhotoId:t=0,onSwitchPhoto:a,photoViewerAriaLabel:i,imageAltText:r,thumbnailAltText:o,classNames:n})=>{const s=NZ(),[l,d]=(0,be.useState)(t),{photosCarouselClassName:c,photoViewerClassName:p,...g}=n||{},m=(0,be.useCallback)((e=>{d(e),a(e)}),[a]);return be.createElement("div",{"data-testid":"photos-carousel",className:(0,mt.z)(s.container,c)},be.createElement(DZ,{photoUrls:e,selectedPhotoId:l,setSelectedPhotoId:m,ariaLabel:i,imageAltText:r,className:p}),be.createElement(PZ,{photoUrls:e,selectedPhotoId:l,setSelectedPhotoId:m,thumbnailAltText:o,classNames:g}))};let RZ=function(e){return e.Australia="australia",e.BrazilAmazonAndAtlantic="brazil-amazon-atlantic",e.BrazilAbrolhos="brazil-abrolhos",e.Cambodia="cambodia",e.Canada="canada",e.China="china",e.Colombia="colombia",e.Congo="dr-congo",e.Europe="europe",e.Guatemala="guatemala",e.India="india",e.Kenya="kenya",e.Madagascar="madagascar",e.Malawi="malawi",e.Mexico="mexico",e.Philippines="philippines",e.Scotland="scotland",e.UAE="uae",e.USA="usa",e}({}),vZ=function(e){return e.YellowBox="Yellow box",e.BlackleysRedGum="Blackley's red gum",e.RedBox="Red box",e.CabbageGum="Cabbage gum",e.ArgyleApple="Argyle apple",e.BroadleafPeppermint="Broadleaf peppermint",e.RedStringybark="Red stringybark",e.SilverWattle="Silver Wattle",e.BlackWattle="Black Wattle",e}({});const LZ=[{treeSpeciesId:vZ.YellowBox,name:"Yellow box",latinName:"Eucalyptus melliodora"},{treeSpeciesId:vZ.BlackleysRedGum,name:"Blackley's red gum",latinName:"E. blakleyi"},{treeSpeciesId:vZ.RedBox,name:"Red box",latinName:"E. polyanthemos"},{treeSpeciesId:vZ.CabbageGum,name:"Cabbage gum",latinName:"E. amplifolia"},{treeSpeciesId:vZ.ArgyleApple,name:"Argyle apple",latinName:"E. cinerea"},{treeSpeciesId:vZ.BroadleafPeppermint,name:"Broadleaf peppermint",latinName:"E. dives"},{treeSpeciesId:vZ.RedStringybark,name:"Red stringybark",latinName:"E. macrorhyncha"},{treeSpeciesId:vZ.SilverWattle,name:"Silver Wattle",latinName:"Acacia dealbata"},{treeSpeciesId:vZ.BlackWattle,name:"Black Wattle",latinName:"Acacia mearnsii"}],FZ=[vZ.YellowBox,vZ.BlackleysRedGum,vZ.RedBox,vZ.CabbageGum,vZ.ArgyleApple,vZ.BroadleafPeppermint,vZ.RedStringybark],OZ=[{projectId:RZ.Australia,credit:"Australia",locationProperties:{name:"Southern Tablelands/Riverina, Western Sydney and Victoria",coordinate:{latitude:-29.845584679366258,longitude:120.58581080081385}},treeSpecies:FZ},{projectId:RZ.BrazilAbrolhos,credit:"Brazil Abrolhos",locationProperties:{name:"Abrolhos Land and Seascape",coordinate:{latitude:-17.96264891468141,longitude:-38.70473269412374}},treeSpecies:FZ},{projectId:RZ.BrazilAmazonAndAtlantic,credit:"Brazil Amazon and Atlantic",locationProperties:{name:"Amazon and Atlantic Forests",coordinate:{latitude:-25.31093194288493,longitude:-48.58242517051739}},treeSpecies:FZ},{projectId:RZ.Cambodia,credit:"Cambodia",locationProperties:{name:"Pursat and Kampong Thom Provinces on the Tonle Sap Lake ",coordinate:{latitude:13.215539125053697,longitude:103.92348337554594}},treeSpecies:FZ},{projectId:RZ.Colombia,credit:"Colombia",locationProperties:{name:"Thompson River Watershed",coordinate:{latitude:10.830210450065069,longitude:-73.6907993908233}},treeSpecies:FZ},{projectId:RZ.Congo,credit:"DR Congo",locationProperties:{name:"Savannah highlands near Idiofa, Congo-Kinshasa",coordinate:{latitude:-4.962362068402242,longitude:19.5892237118877}},treeSpecies:FZ},{projectId:RZ.Europe,credit:"Europe",locationProperties:{name:"Chantilly France, Proença-a-Nova Portugal, Castille Spain",coordinate:{latitude:42.0100862825425,longitude:-4.529357836390962}},treeSpecies:FZ},{projectId:RZ.Guatemala,credit:"Guatemala",locationProperties:{name:"Alta Verapaz Region",coordinate:{latitude:15.486424324541762,longitude:-90.44264932909793}},treeSpecies:FZ},{projectId:RZ.India,credit:"India",locationProperties:{name:"East Singhbum, Jharkhand, Mayurbhanj, Odisha (Dalma-Similipal) ",coordinate:{latitude:22.89668711994259,longitude:86.20613488398834}},treeSpecies:FZ},{projectId:RZ.Kenya,credit:"Kenya",locationProperties:{name:"Makueni County",coordinate:{latitude:-1.906394592915161,longitude:37.553954314001466}},treeSpecies:FZ},{projectId:RZ.Madagascar,credit:"Madagascar",locationProperties:{name:"Lake Alaotra",coordinate:{latitude:-17.464131071524562,longitude:48.524699559541304}},treeSpecies:FZ},{projectId:RZ.Malawi,credit:"Malawi",locationProperties:{name:"Enyezini, Mzimba District",coordinate:{latitude:-11.694391339534079,longitude:33.536250941733265}},treeSpecies:FZ},{projectId:RZ.Mexico,credit:"Mexico",locationProperties:{name:"Sierra Madre, Sierra Sur, Oaxaca-Chiapas",coordinate:{latitude:17.172385282422496,longitude:-96.7298049606108}},treeSpecies:FZ},{projectId:RZ.Philippines,credit:"Philippines",locationProperties:{name:"Puerto Princesa City and San Vincente, Palawan.",coordinate:{latitude:10.539707534780353,longitude:119.28539596259786}},treeSpecies:FZ},{projectId:RZ.Scotland,credit:"Scotland",locationProperties:{name:"Argyll and Bute",coordinate:{latitude:56.45201017439998,longitude:-5.512427409305476}},treeSpecies:FZ},{projectId:RZ.UAE,credit:"UAE",locationProperties:{name:"Khor Kalba",coordinate:{latitude:25.42619683927008,longitude:55.38341245253587}},treeSpecies:FZ},{projectId:RZ.USA,credit:"USA",locationProperties:{name:"Martin County, Kentucky ",coordinate:{latitude:37.75144785941617,longitude:-81.16151658518147}},treeSpecies:FZ}],BZ=[{id:"20231010_1622_1.jpg",uploadedTime:"Oct 10 2023 16:22",projectId:RZ.Australia,credit:"Greening Australia"},{id:"20231010_1623_2.jpg",uploadedTime:"Oct 10 2023 16:23",projectId:RZ.Australia,credit:"Greening Australia"},{id:"20231010_1623_3.jpg",uploadedTime:"Oct 10 2023 16:23",projectId:RZ.Australia,credit:"Greening Australia"},{id:"20231010_1623_4.jpg",uploadedTime:"Oct 10 2023 16:23",projectId:RZ.Australia,credit:"Greening Australia"},{id:"20231010_1629_1.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"GANB"},{id:"20231010_1629_3.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"GANB"},{id:"20231010_1629_4.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"GANB"},{id:"20231010_1629_5.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231010_1629_6.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231010_1629_7.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231010_1629_8.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231010_1629_9.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231010_1629_10.jpg",uploadedTime:"Oct 10 2023 16:29",projectId:RZ.BrazilAbrolhos,credit:"MDPS"},{id:"20231011_1116_1.jpg",uploadedTime:"Oct 11 2023 11:16",projectId:RZ.Cambodia,credit:"Conservation International"},{id:"20231011_1116_2.jpg",uploadedTime:"Oct 11 2023 11:16",projectId:RZ.Cambodia,credit:"Conservation International"},{id:"20231011_1116_3.jpg",uploadedTime:"Oct 11 2023 11:16",projectId:RZ.Cambodia,credit:"Conservation International"},{id:"20231011_1121_1.jpg",uploadedTime:"Oct 11 2023 11:21",projectId:RZ.Colombia,credit:"CI Colombia"},{id:"20231011_1121_2.jpg",uploadedTime:"Oct 11 2023 11:21",projectId:RZ.Colombia,credit:"CI Colombia"},{id:"20231011_1121_3.jpg",uploadedTime:"Oct 11 2023 11:21",projectId:RZ.Colombia,credit:"CI Colombia"},{id:"20231011_1121_4.jpg",uploadedTime:"Oct 11 2023 11:21",projectId:RZ.Colombia,credit:"CI Colombia"},{id:"20231012_1026_1.jpg",uploadedTime:"Oct 12 2023 10:26",projectId:RZ.Congo,credit:"Faja Lobi"},{id:"20231012_1026_2.jpg",uploadedTime:"Oct 12 2023 10:26",projectId:RZ.Congo,credit:"Faja Lobi"},{id:"20231012_1026_3.jpg",uploadedTime:"Oct 12 2023 10:26",projectId:RZ.Congo,credit:"Faja Lobi"}],WZ=()=>{const e=BZ?.sort(((e,t)=>new Date(t.uploadedTime).getTime()-new Date(e.uploadedTime).getTime()));return e?.map((e=>(e=>{return(0,Ti.A)(e)||(0,Ti.A)(e.id)||(0,Ti.A)(e.uploadedTime)||(0,Ti.A)(e.projectId)?null:{relativePath:(a=e.id,i=e.projectId,`/e-tree-shared/onsite-progress/supplier-ppc/images/${i}/${a}`),credit:e.credit,uploadedTime:new Date(e.uploadedTime),project:(t=e.projectId,OZ?.find((e=>e.projectId===t)))};var t,a,i})(e)))},GZ=(0,gt.n)({dialogSurface:{},dialogContainer:{backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"1032px",height:"708px",backgroundColor:"white",position:"relative",display:"flex",alignItems:"flex-start",columnGap:"24px",...It.Pt.padding("24px"),...It.Pt.borderRadius("8px")},closeButton:{position:"absolute",top:"0px",right:"0px"},photoInfoContainer:{maxWidth:"240px"},propertyContainer:{display:"flex",flexDirection:"column",rowGap:"8px"},header:{display:"flex",alignItems:"flex-end",columnGap:"3px"},title:{fontFamily:"Segoe UI",fontWeight:600,fontSize:"16px",lineHeight:"22px"},description:{fontFamily:"Segoe UI",fontSize:"12px",lineHeight:"20px",fontWeight:400},treeSpecies:{marginBlockStart:"40px"},treeSpeciesList:{marginBlockStart:"0px",marginBlockEnd:"0px",paddingInlineStart:"20px"},uploadTime:{marginBlockStart:"100px"},photoCredit:{marginBlockStart:"24px"},icon:{width:"24px",height:"24px",color:"#0E700E"}}),HZ=({photoItems:e,defaultSelectedPhotoId:t=0})=>{const a=GZ(),i=be.useRef(null);be.useEffect((()=>{i.current&&i.current.focus()}),[]);const{hideETreeDialog:r}=lU(),[o,n]=(0,be.useState)(t>e.length||t<0?0:t),s=(0,be.useMemo)((()=>{return(t=e[o])?{credit:t.credit,uploadedTime:t.uploadedTime.toUTCString(),projectLocationName:t.project?.locationProperties?.name,treeSpecies:(a=t.project?.treeSpecies,(0,Ti.A)(a)?[]:LZ?.filter((e=>a.includes(e.treeSpeciesId))))}:{credit:"",uploadedTime:"",projectLocationName:"",treeSpecies:[]};var t,a}),[e,o]),l=(0,be.useMemo)((()=>e.map((e=>tg(e.relativePath)))),[e]);return be.createElement(zU,{className:a.dialogSurface},be.createElement("div",{"data-testid":"photo-view-dialog",className:a.dialogContainer},be.createElement(xZ,{photoUrls:l,onSwitchPhoto:n,defaultSelectedPhotoId:o}),be.createElement("div",{className:a.photoInfoContainer},be.createElement("div",{className:a.propertyContainer},be.createElement("div",{className:a.header},be.createElement(Dg.EuX,{className:a.icon}),be.createElement("span",{className:a.title},"plantingLocation")),be.createElement("span",{className:a.description},s?.projectLocationName)),be.createElement("div",{className:(0,mt.z)(a.propertyContainer,a.treeSpecies)},be.createElement("div",{className:a.header},be.createElement(rv.ceY,{className:a.icon}),be.createElement("span",{className:a.title},"treeSpecies")),be.createElement("ul",{className:a.treeSpeciesList},s?.treeSpecies.map(((e,t)=>be.createElement("li",{key:t,className:a.description},`${e.name}(${e.latinName})`))))),be.createElement("div",{className:(0,mt.z)(a.propertyContainer,a.uploadTime)},be.createElement("div",{className:a.header},be.createElement(hy.XHw,{className:a.icon}),be.createElement("span",{className:a.title},"uploadTime")),be.createElement("span",{className:a.description},s?.uploadedTime)),be.createElement("div",{className:(0,mt.z)(a.propertyContainer,a.photoCredit)},be.createElement("div",{className:a.header},be.createElement(hy.O5g,{className:a.icon}),be.createElement("span",{className:a.title},"photoCredit")),be.createElement("span",{className:a.description},s?.credit))),be.createElement(ai.$,{ref:i,"data-testid":"photo-view-dialog-close-button",appearance:"transparent","aria-label":Td.eTreeClose(),className:a.closeButton,icon:be.createElement(Eg.RzC,null),onClick:()=>{r()}})))},UZ=(0,gt.n)({container:{display:"flex",justifyContent:"center",alignItems:"center"}}),VZ=()=>{const e=UZ(),t=SH(),{setETreeDialog:a}=lU(),{setETreePage:i}=nU();return(0,be.useEffect)((()=>{}),[]),be.createElement(dz,{className:t.guidebookBackground},be.createElement(ai.$,{appearance:"transparent","data-testid":"back-board-button","aria-label":Td.eTreeBackButton([Td.eTreeBoard()]),onClick:()=>{i(aU.Board)},icon:be.createElement(oS.nbA,null)}),be.createElement(NA.M,null,"Onsite Photos"),be.createElement("div",{className:e.container},be.createElement(ai.$,{onClick:()=>{a(be.createElement(HZ,{photoItems:WZ()}))}},"Brazil abrolhos")))},zZ={[aU.Enroll]:{key:aU.Enroll,component:be.createElement(jz,null)},[aU.Board]:{key:aU.Board,component:be.createElement(Gz,null)},[aU.Guidebook]:{key:aU.Guidebook,component:be.createElement(Vz,null)},[aU.Certificate]:{key:aU.Certificate,component:be.createElement(_z,null)},[aU.Milestone]:{key:aU.Milestone,component:be.createElement(Tz,null)},[aU.Loading]:{key:aU.Loading,component:be.createElement($z,null)},[aU.ChristmasBoard]:{key:aU.ChristmasBoard,component:be.createElement(bZ,null)},[aU.OnsitePhotos]:{key:aU.OnsitePhotos,component:be.createElement(VZ,null)}},ZZ=(0,gt.n)({surface:{maxWidth:"320px"},body:{flexDirection:"column",display:"flex"},actions:{display:"flex",flexDirection:"column",marginBlockStart:St.L.spacingVerticalS}}),YZ=e=>{const t=ZZ();return be.useEffect((()=>{e.open&&Kn(Cr,Cr.EtreeConfirmHideModalImpression)}),[e.open]),be.createElement(gu.l,{open:e.open,modalType:"modal",onOpenChange:(t,a)=>{"backdropClick"!==a.type&&(Kn(Cr,Cr.EtreeConfirmHideModalCancelClicked),e.setOpen(!1))}},be.createElement(mu.E,{className:t.surface},be.createElement(uu.R,{className:t.body},be.createElement(Cu.L,null,Td.eTreeModalSettingsDialogTitle()),be.createElement(hu.C,null,be.createElement(hm.c,null,Td.eTreeModalSettingsDialogDescription())),be.createElement(aw.i,{className:t.actions},be.createElement(ai.$,{appearance:"primary","aria-label":"hide",onClick:e.onClickHide},Td.eTreeHide()),be.createElement(tw.z,{disableButtonEnhancement:!0},be.createElement(ai.$,{appearance:"secondary","aria-label":Td.donationCancel()},Td.eTreeCancel()))))))};function QZ(){return QZ=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var i in a)({}).hasOwnProperty.call(a,i)&&(e[i]=a[i])}return e},QZ.apply(null,arguments)}const jZ=(0,gt.n)({actions:{position:"absolute",top:"24px",right:"24px",zIndex:1,display:"flex"},button:{marginInlineStart:"8px",color:"#242424",...It.Pt.padding("4px"),...It.Pt.borderRadius("4px")},lightMode:{"& button":{color:"#242424"},"& button:hover":{color:St.L.colorNeutralForeground2BrandHover},"& button:active, & button:hover:active":{color:St.L.colorNeutralForeground2BrandPressed}},darkMode:{"& button":{color:"#FFFFFF"},"& button:hover":{color:St.L.colorBrandForegroundInverted},"& button:active, & button:hover:active":{color:St.L.colorBrandForegroundInvertedPressed}},settingSurface:{...It.Pt.padding("4px")},settingSection:{width:"310px",maxWidth:"310px",display:"flex",flexDirection:"column"},settingSwitch:{justifyContent:"space-between"},settingDescription:{width:"256px",...It.Pt.padding("6px")}}),KZ={microfeedbackWithPromptContainer:{paddingInlineStart:"0",paddingInlineEnd:"0","& span":{fill:"#242424","&:hover":{fill:St.L.colorNeutralForeground2BrandHover},"&:active, &:hover:active":{fill:St.L.colorNeutralForeground2BrandHover}},"& [role=listbox]":{padding:"4px",...It.Pt.borderRadius("4px")},"& [role=menu]":{display:"flex",flexDirection:"column",rowGap:"2px"},"& [role=menuitem]":{minHeight:"32px",lineHeight:"20px",padding:"6px",...It.Pt.marginInline("0px"),borderWidth:"0px","&:hover":{backgroundColor:St.L.colorNeutralBackground1Hover}," &:active":{backgroundColor:St.L.colorNeutralBackground1Pressed}},"& button":{marginInlineStart:"8px",...It.Pt.borderRadius("4px"),"&:hover:enabled, &:focus:enabled, &:focus-visible":{backgroundColor:"transparent"},"&:focus-visible":{...It.Pt.borderColor("#242424")}},'& [id^="dislikeFollowup"] > div:first-child > div:first-child':{display:"none"},'& [id^="likeFollowup"] > div:first-child > div:first-child':{display:"none"},"& div[id^=likeFollowup]":{left:"0px"},"& div[id^=dislikeFollowup]":{left:"0px"},'& [id^="thanksText"]':{padding:"6px",lineHeight:"18px"},'& [aria-labelledby^="thanksText"][aria-live="assertive"][role="alert"]':{left:"0px"}}},qZ="& div[id^=likeFollowup] > div:first-child",JZ="& div[id^=dislikeFollowup] > div:first-child",XZ=e=>{const[t,a]=be.useState(!1),[i,r]=be.useState(!1),o=jZ(),n=(0,$T.Bi)(),s=be.useRef(null),l=(e=>{const{theme:t}=cH();return Rz[t]?.[e]??iU.Light})(e.pageKey),d=e.pageMode??l;be.useEffect((()=>{s.current&&s.current.focus()}),[]);const c=(0,M.d4)((e=>e.pref.prefs)).get(b.WalletETreeEnabled),p=!c||jT(c),[g,m]=(0,be.useState)("like"),[u,C]=(0,be.useState)({}),h=e=>{const t=document.querySelector("div[id^=etree-feedback] button[aria-controls^=likeFollowup]"),a=document.querySelector("div[id^=etree-feedback] button[aria-controls^=dislikeFollowup]"),i=document.querySelector('button[id="e-tree-modal-setting-button"]'),r=t?.parentElement;if(!t||!a||!r)return{};const o=t?.getBoundingClientRect().left-r?.getBoundingClientRect().left,n=a?.getBoundingClientRect().left-r?.getBoundingClientRect().left,s={},l=320+i?.getBoundingClientRect().left<=window.innerWidth;return s[qZ]={left:l?o+"px":`calc(-100% + ${o+t.offsetWidth}px)`},s[JZ]={left:l?n+"px":`calc(-100% + ${n+a.offsetWidth}px)`},s['& [aria-labelledby^="thanksText"][aria-live="assertive"][role="alert"] > div:first-child']=s["like"===e?qZ:JZ],s};return(0,be.useEffect)((()=>{const e=()=>{C(h(g))};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}}),[g]),be.createElement("div",{className:(0,mt.z)(o.actions,d===iU.Dark?o.darkMode:o.lightMode)},w.valueExists("walletEtreeFeedbackSource")&&be.createElement("div",{id:"etree-feedback"},be.createElement(qW,QZ({},hG,{key:"wallet-feedback-popup",jssStyleSheet:{...KZ,microfeedbackWithPromptContainer:{...KZ.microfeedbackWithPromptContainer,...u}},onFeedback:e=>{m(e.vote),C(h(e.vote)),hG.onFeedback(e)}}))),be.createElement(RM.A,{positioning:"below-start",open:t,onOpenChange:(e,t)=>{Kn(Cr,Cr.EtreeModalSettingIconClicked),a(t.open)}},be.createElement(Ux.W,{disableButtonEnhancement:!0},be.createElement(ai.$,{id:"e-tree-modal-setting-button","data-testid":"e-tree-modal-setting-button",appearance:"transparent","aria-label":Td.eTreeSettings(),className:o.button,icon:be.createElement(fg.wMk,null)})),be.createElement(vM.H,{"aria-labelledby":n,className:o.settingSurface,"data-testid":"e-tree-modal-settings-popover"},be.createElement("div",{className:o.settingSection},be.createElement(Lm.d,{id:n,checked:!0,label:be.createElement(Gw.Z,null,Td.eTreeSettingsShowETreeTitle()),labelPosition:"before",className:o.settingSwitch,onChange:()=>{Kn(Cr,Cr.EtreeModalSettingToggleOffClicked),a(!1),r(!0)},disabled:p}),be.createElement(hm.c,{className:o.settingDescription},Td.eTreeModalSettingsDescription())))),be.createElement(tw.z,{action:"close"},be.createElement(ai.$,{ref:s,"data-testid":"e-tree-modal-close-button",appearance:"transparent","aria-label":Td.eTreeClose(),className:o.button,icon:be.createElement(Eg.LMj,null)})),be.createElement("div",{id:"dialog-action-portal"}),be.createElement(YZ,{open:i,setOpen:r,onClickHide:()=>{Kn(Cr,Cr.EtreeConfirmHideModalHideClicked),r(!1),_a.dispatch(ln(c.key,!1)),_a.dispatch(Sl())}}))},_Z=(0,gt.n)({surface:{width:"480px",...It.Pt.padding(St.L.spacingHorizontalNone),...It.Pt.borderWidth("0px"),position:"fixed",top:"466px"},cotent:{maxWidth:"480px",display:"flex",flexDirection:"row",justifyContent:"space-between",...It.Pt.padding("14px")},messageContainer:{display:"flex",justifyContent:"center",...It.Pt.gap("8px")},icon:{alignSelf:"center",color:"#B10E1C"},message:{alignSelf:"center",lineHeight:St.L.lineHeightBase300,fontSize:St.L.fontSizeBase300,fontWeight:St.L.fontWeightRegular},closeButton:{backgroundColor:"transparent",":hover":{backgroundColor:"transparent"}}}),$Z=({message:e,onDismiss:t,open:a})=>{const i=_Z();return(0,be.useEffect)((()=>{a&&setTimeout((()=>{t()}),2e3)}),[t,a]),be.createElement(gu.l,{open:a,onOpenChange:(e,a)=>{"backdropClick"!==a.type&&t()}},be.createElement(mu.E,{className:i.surface,"data-testid":"alert-dialog-container"},be.createElement(hu.C,{className:i.cotent},be.createElement("div",{"data-testid":"toast",className:i.messageContainer},be.createElement(Eg.rsL,{className:i.icon}),be.createElement(hm.c,{className:i.message,"aria-live":"assertive",role:"alert"},e)),be.createElement(tw.z,{action:"close"},be.createElement(ai.$,{"data-testid":"close-toast",className:i.closeButton,appearance:"subtle","aria-label":Td.eTreeCloseLable(),icon:be.createElement(Eg.iAS,null)})))))},eY=e=>(be.useEffect((()=>{var t;t=e?.i18nData,t?.getString&&(Cz.getString=t.getString,Cz.getString.bind(Cz)),t?.valueExists&&(Cz.valueExists=t.valueExists,Cz.valueExists.bind(Cz))}),[]),be.createElement(uz.Provider,{value:{getStaticAssetUrl:e?.getStaticAssetUrl}},e?.children)),tY={fetchEtreeUser:(e,t)=>{let a=null;if(tn){const i=async(e,t)=>{const i=await vr(tn.fetchEtreeUser,wr.FetchEtreeUser,e,t);return a=i?.etreeUserResponse,Promise.resolve(a)};return i(e,t)}return Promise.resolve(a)},changeEtreeName:e=>{let t=null;if(tn){const a=async e=>{const a=await vr(tn.changeEtreeName,wr.ChangeEtreeName,e);return t=a?.changeEtreeNameResponse,Promise.resolve(t)};return a(e)}return Promise.resolve(t)}},aY=(0,gt.n)({surface:{height:"600px",width:"600px",maxWidth:"600px",...It.Pt.padding(St.L.spacingHorizontalNone),...It.Pt.borderWidth("0px"),...It.Pt.borderRadius("8px")},dialogBody:{maxHeight:"100vh",maxWidth:"100vw",display:"flex",rowGap:"0px",columnGap:"0px",...It.Pt.overflow("auto")},dialogContent:{height:"600px",minHeight:"600px",flexShrink:0,...It.Pt.overflow("hidden"),...It.Pt.padding(St.L.spacingHorizontalNone),...It.Pt.margin(St.L.spacingHorizontalNone),...It.Pt.borderRadius("8px")}}),iY=e=>{const t=aY(),[a,i]=be.useState(e?.displayLoading?aU.Loading:void 0),[r,o]=be.useState(null),[n,s]=be.useState(!1),[l,d]=be.useState(""),c=(0,M.wA)(),{data:p,isLoading:g,error:m}=nH(),{data:u,isLoading:C,error:h}=oH(),E=KH(),{trigger:f}=zz(),I=QI(),S=(0,be.useMemo)((()=>g||C),[g,C]);(0,be.useEffect)((()=>{if(!S){const e=async e=>{await E(),i(e)};if(!1===p){const t=async()=>{const t=Hz(),a=(new Date).getTimezoneOffset(),r=await f({market:t,timezoneOffset:a,disabledFeatures:I});r?.isEnrolled?(Kn(dr,dr.EnrollSuccess),e(aU.Board)):(Kn(dr,dr.EnrollFail),i(aU.Enroll))};i(aU.Loading),t(),E()}else if(!0===p){const t=u?.hasPlantingTree?aU.Board:aU.Certificate;e(t)}}}),[S]),(0,be.useEffect)((()=>{Kn(Cr,Cr.EtreeModalImpression)}),[]);const k=(0,be.useMemo)((()=>void 0===a?void 0:zZ[a]),[a]),A=(0,be.useMemo)((()=>!(S||void 0!==p||(0,Ti.A)(m)&&(0,Ti.A)(h))),[p,S,h,m]);return(0,be.useEffect)((()=>{A&&(_a.dispatch(Sl()),c(Ai(Td.eTreeErrorUnkown())))}),[c,A]),A||void 0===k?null:be.createElement(yI.BE,{value:{onError:(e,t)=>{e&&e instanceof lI&&(e.api!==sf.waterTree&&e.api!==sf.createEtreeUser&&e.api!==sf.claimEtreeTask&&e.api!==sf.completeEtreeTask&&e.api!==sf.changeEtreeName&&e.api!==sf.startAnotherTree&&e.api!==sf.plantTree||(s(!0),d(e.displayMessage)))}}},be.createElement(gu.l,{open:!0,onOpenChange:(e,t)=>{"backdropClick"!==t.type&&(Kn(Cr,Cr.EtreeModalDismissIconClicked),_a.dispatch(Sl()))}},be.createElement(mu.E,{className:t.surface},be.createElement(eY,{i18nData:w,getStaticAssetUrl:tg},be.createElement(tU,{apiInstace:tY},be.createElement(xH,null,be.createElement(oU.Provider,{value:{eTreePage:a,setETreePage:i}},be.createElement(sU.Provider,{value:{eTreeDialog:r,setETreeDialog:o,hideETreeDialog:()=>o(null)}},be.createElement(uu.R,{className:t.dialogBody,id:"e-tree-dialog-body"},be.createElement(Cu.L,{"aria-label":Td.eTree()}),be.createElement(hu.C,{key:k.key,className:t.dialogContent},k.component,be.createElement($Z,{message:l,onDismiss:()=>s(!1),open:n}),r&&r),be.createElement(aw.i,null,be.createElement(XZ,{pageKey:k?.key})))))))))))},rY=(0,gt.n)({minimizedETreeSection:{height:"120px",minHeight:"120px",paddingBlockStart:"40px",marginBlockEnd:"10px"},minimizedETreeContainer:{width:"120px",height:"120px",minHeight:"120px",marginInlineStart:"0px",position:"relative"},minimizedETreeBubbleContanner:{width:"96px",height:"96px",position:"relative",transform:"translateY(24px)"},totalWaterDropsContainer:{position:"absolute",top:"22px",right:"0px"},toBeEarnedWaterDropsContainer:{position:"absolute",top:"0px",left:"0px"},bubbleFloatingAmimation:{animationDuration:"2500ms",animationTimingFunction:"ease-in-out",animationIterationCount:"infinite",animationName:{"0%":{transform:"translate(0px, 0px)"},"50%":{transform:"translate(0px, -6px)"},"100%":{transform:"translate(0px, 0px)"}}},newWaterDropsContainer:{position:"absolute",top:"22px",right:"0px",animationDuration:"3s",animationTimingFunction:"ease-in-out",animationIterationCount:"1",animationName:{from:{transform:"translate(68px, -62px)"},to:{transform:"translate(0px, 0px) scale(0.7)",opacity:0}}},newWaterDropsBubble:{cursor:"",width:"40px",height:"40px"},toBeEarnedBubbleText:{color:St.L.colorNeutralForeground2}}),oY=()=>{const e=rY(),t=(0,Pe.W6)(),a=SH(),i=KH(),{data:r}=TH(),{data:o}=RH(),[n,s]=(0,be.useState)(0),[l,d]=(0,be.useState)(0),[c,p]=(0,be.useState)(void 0),{data:g,isLoading:m}=nH(),{popup:u}=_g(t,["popup"]),{data:C,isLoading:h}=LH(),[E,f]=Ky(XE,null),{data:I}=PH(),S=be.useMemo((()=>!m&&void 0!==g),[g,m]),{currentActivityWithIcon:k,isActivityIconAvailable:A}=(()=>{const{data:e,isLoading:t}=FH(),{data:a,isLoading:i}=nH(),r=(0,be.useMemo)((()=>{if(!t)return e?.includes?.(bf.Halloween)?bf.Halloween:e?.includes?.(bf.Christmas)?bf.Christmas:void 0}),[e,t]),o=(0,be.useMemo)((()=>{if(!t)return e?.includes?.(bf.Halloween)?wf.Halloween:void 0}),[e,t]),{data:n,isLoading:s}=_H(o),l=(0,be.useMemo)((()=>!i&&void 0!==o&&!1===a||!t&&!s&&(n?.state===Pf.New||n?.state===Pf.Active)),[n?.state,o,a,t,s,i]),d=(0,be.useMemo)((()=>l||r===bf.Christmas),[r,l]);return{currentActivityWithIcon:r,isActivityIconAvailable:d}})();be.useMemo((()=>{const e=new URLSearchParams(t.location.search).get("source");"etree"===u&&(i(),e===Li.profileflyout?Kn(pr,pr.EtreeImpressionFromMiniWallet):e===Li.profileflyoutnotification&&Kn(pr,pr.EtreeImpressionFromNotification),_a.dispatch(Il(be.createElement(iY,{displayLoading:!0}))),Xg(t))}),[u]),be.useMemo((()=>{I&&I!==sH.Default&&Kn(ur,ur.ThemeImpression)}),[I]),be.useEffect((()=>{S&&(Kn(lr,lr.MinimizeEtreeImpression),Kn(ur,g?ur.MinimizeEtreeEnrolledToBeEarnedWaterDropsImpression:ur.MinimizeEtreeUnenrollToBeEarnedWaterDropsImpression))}),[S]),be.useEffect((()=>{if(!h){const e=((e,t)=>{const a=MH(e);return!!((e,t)=>void 0===e||void 0===t?!(void 0===e&&void 0===t):e.length!==t.length||!e.every(((e,a)=>e?.id===t[a]?.id&&e?.config===t[a]?.config)))(a?.activities,t)&&(void 0===t?(delete a.activities,JSON.stringify({...a})):JSON.stringify({...a,activities:t}))})(E,C);e&&f(e)}}),[h]);const y=(0,be.useCallback)((()=>{Kn(ur,ur.MinimizeEtreeClicked),Kn(ur,g?ur.MinimizeEtreeEnrolledToBeEarnedWaterDropsClicked:ur.MinimizeEtreeUnenrollToBeEarnedWaterDropsClicked),_a.dispatch(Il(be.createElement(iY,null)))}),[g]);return be.useMemo((()=>{if(r){const e=r.reduce(((e,t)=>e+t.score),0);0!==n&&e>n?(d(e-n),setTimeout((()=>{s(e),d(0)}),3e3)):s(e)}}),[n,r]),be.useMemo((()=>{if(void 0!==g){let e={id:"toBeEarned",score:0,displayEntry:{isDisplayTip:!0}};if(g){const t=o?.task;(0,Ti.A)(t)||t?.state===Pf.Complete?e=void 0:e.score=t.score}else e.score=10;e&&(e.displayEntry.tip=Td.eTreeDailyCheckinToastLable([e.score]),e.displayScore=`+${e.score}`),p(e)}}),[o?.task,g]),S&&be.createElement(xH,null,be.createElement("div",{className:e.minimizedETreeSection,onFocus:i,onMouseOver:i},be.createElement("div",{className:e.minimizedETreeContainer},be.createElement(be.Fragment,null,A&&be.createElement(JH,{activityId:k,onActivityClick:y}),!A&&c?.score>0&&be.createElement("div",{className:e.toBeEarnedWaterDropsContainer},be.createElement(bH,{waterDrop:c,animationStyles:e.bubbleFloatingAmimation,onBubbleClick:()=>{y()},bubbleStyles:a.minimizedWaterDropBubbleToBeEarned,bubbleTextStyles:e.toBeEarnedBubbleText})),g&&n>0&&be.createElement("div",{className:e.totalWaterDropsContainer},be.createElement(bH,{waterDrop:{id:"total",score:n},animationStyles:e.bubbleFloatingAmimation,bubbleStyles:a.minimizedWaterDropBubble,onBubbleClick:()=>{Kn(ur,ur.MinimizeEtreeEarnedWaterDropsClicked),y()}})),g&&l>0&&be.createElement("div",{className:e.newWaterDropsContainer},be.createElement(bH,{waterDrop:{id:"new",score:l},bubbleStyles:(0,mt.z)(e.newWaterDropsBubble,a.minimizedWaterDropBubble)}))),be.createElement(tw.z,null,be.createElement("div",{className:e.minimizedETreeBubbleContanner,tabIndex:-1},be.createElement(yH,{onClick:y}))))))};function nY(e){const t=(0,be.useRef)(null),[a,i]=(0,be.useState)(!1),r=aH(),o=(0,Pe.zy)(),[n,s]=(0,be.useState)(Pd("/orders",!0,o)||Pd("/tickets",!0,o)||Pd("/memberships",!0,o));(0,be.useEffect)((()=>{n||s(Pd("/orders",!0,o)||Pd("/tickets",!0,o)||Pd("/memberships",!0,o))}),[o]),(0,be.useEffect)((()=>{const t=xd(o),a=Nd(o);if("/"!==t&&a===Li.profileflyout){const a=e.supportedPages.find((e=>e.id===t));if(a){const e=document.getElementById(a.id);e?.focus()}}}),[]);const l=e=>{i(e)},d=(0,Pe.W6)(),c=(e,t)=>{e&&(Od(e),d.push(t.pathname))},p=()=>{s(!n)},g=e.supportedPages.filter((({id:e})=>e.includes("memberships")||e.includes("orders")||e.includes("tickets"))).length>=2,m=e.supportedPages.filter((({id:e})=>e.includes("myOffers")||e.includes("donation"))),u=e.supportedPages.filter((({id:e})=>e.includes("settings"))),C=m.length>0?m[0]:u[0],h=e.supportedPages.filter((({showInNav:e=!0})=>e)).map((({id:e,title:t,getTitle:i,icon:r,filledIcon:o,path:n,exact:s})=>({navKey:e,isSelected:!1,isSelectedLocation:Pd.bind(null,n,s),getTitle:i,title:t,navIcon:r,filledIcon:o,onSelectedClick:c,link:ad((0,Jd.A)(n)?(0,Kd.A)(n):n),isNavHovered:a})));return(0,be.useEffect)((()=>{h.forEach((e=>{Bd(e.navKey)}))}),[]),be.createElement(be.Fragment,null,be.createElement("nav",{id:"Wallet-nav","data-testid":"wallet-nav","data-automationid":"wallet-nav",className:r.nav,ref:t,onMouseEnter:()=>l(!0),onMouseLeave:()=>l(!1)},be.createElement("div",{className:r.navLowerContainer},be.createElement("div",null,h.map((e=>{return t=e,be.createElement(be.Fragment,null,t.navKey==C?.id&&g&&be.createElement(rH,{navIcon:n?be.createElement(oS.nbk,{className:"fui-Icon-regular"}):be.createElement(oS.geq,{className:"fui-Icon-regular"}),isSelected:!1,onSelectedClick:p,navKey:"seeMore",title:n?Td.showLessText():Td.showMoreText(),isNavHovered:a,isGroup:!0}),(m.length>0&&t.navKey==m[0].id||u.length>0&&t.navKey==u[0].id)&&be.createElement(Fm.c,{className:r.divider}),(("memberships"==t.navKey||"orders"==t.navKey||"tickets"==t.navKey)&&(n||!g)||"memberships"!=t.navKey&&"orders"!=t.navKey&&"tickets"!=t.navKey)&&be.createElement(rH,{navIcon:t.navIcon,isSelected:t.isSelectedLocation(o),onSelectedClick:t.onSelectedClick,navKey:t.navKey,title:t.title,filledIcon:t.filledIcon,isNavHovered:a,link:t.link}));var t}))),be.createElement("div",{className:(0,mt.z)(r.eTree,a&&"isNavHovered")},e.isEtreeEnabled&&be.createElement(oY,null))),!a&&be.createElement("div",{role:"button",tabIndex:0,"data-testid":"feedback-icon",className:r.feedbackCollapsed},be.createElement(Sw.tNe,null)),be.createElement("div",{className:(0,mt.z)(r.microFeedback,a&&"isNavHovered")},be.createElement(HG,null))))}const sY=(0,gt.n)({root:{display:"flex",flexDirection:"column",alignItems:"center",marginBlockStart:"40vh",...It.Pt.paddingInline("20px"),rowGap:"12px"},icon:{color:St.L.colorPaletteRedForeground2},message:{}}),lY=()=>{const e=sY();return be.createElement("div",{className:e.root,"data-testid":"error-boundary-fallback"},be.createElement(AC.KvH,{className:e.icon,"aria-hidden":!0}),be.createElement(ph.V,{className:e.message},Td.fallbackContent()),be.createElement(Jm,{content:Td.reload(),appearance:"primary",onClick:()=>{window.location.reload()}}))},dY=_e.reduce(((e,t)=>(e[t.screenMediaQuery]={height:(0,_l.c)(t.reskinHeaderHeight)},e)),{}),cY=_e.reduce(((e,t)=>(t.navWidth?e[t.screenMediaQuery]={width:(0,_l.c)(340),marginBlockStart:0,display:"block"}:e[t.screenMediaQuery]={display:"none"},e)),{}),pY=_e.reduce(((e,t)=>(t.navWidth?e[t.screenMediaQuery]={display:"none !important"}:e[t.screenMediaQuery]={marginBlockStart:(0,_l.c)(0),display:"block"},e)),{}),gY=_e.reduce(((e,t)=>(e[t.screenMediaQuery]={marginBlockStart:(0,_l.c)(t.reskinHeaderHeight+24)},e)),{}),mY={walletLayout:{zIndex:"1",position:"relative",minHeight:(0,_l.c)(320),background:St.L.colorNeutralBackground2,[Ke.darkMode]:{background:St.L.colorNeutralBackground2},overflow:"hidden"},walletHeader:{background:"none",width:"100%",position:"fixed",top:"0",left:"0",zIndex:"1001",...dY},walletBackground:{backgroundColor:(0,$l.Vq)("rgb(247, 247, 247)")},walletMenu:{zIndex:"1002",background:"transparent","&:hover:enabled":{backgroundColor:"FFFFFF !important",[Ke.darkMode]:{backgroundColor:"#404040 !important"}},height:"40px",[qe(ze)]:{height:"48px"},position:"absolute",top:"0",right:"20px",[qe(Ze)]:{right:"40px"},[qe(Ye)]:{display:"none"}},menuIcon:{fill:"#036AC4",height:"24px",width:"24px"},verticalTitle:{height:"100%",display:"flex !important",alignItems:"center",justifyContent:"center",[qe(Ye)]:{display:"none !important"}},walletNav:{zIndex:"1000",borderInlineEnd:`1px solid ${St.L.co